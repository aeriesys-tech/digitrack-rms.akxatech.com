(function(){var e={2348:function(e,a,s){var t={"./af":5096,"./af.js":5096,"./ar":8880,"./ar-dz":9016,"./ar-dz.js":9016,"./ar-kw":8400,"./ar-kw.js":8400,"./ar-ly":8152,"./ar-ly.js":8152,"./ar-ma":1200,"./ar-ma.js":1200,"./ar-ps":8048,"./ar-ps.js":8048,"./ar-sa":4896,"./ar-sa.js":4896,"./ar-tn":620,"./ar-tn.js":620,"./ar.js":8880,"./az":9864,"./az.js":9864,"./be":3352,"./be.js":3352,"./bg":3952,"./bg.js":3952,"./bm":6300,"./bm.js":6300,"./bn":1132,"./bn-bd":9820,"./bn-bd.js":9820,"./bn.js":1132,"./bo":88,"./bo.js":88,"./br":3424,"./br.js":3424,"./bs":6100,"./bs.js":6100,"./ca":8976,"./ca.js":8976,"./cs":3016,"./cs.js":3016,"./cv":1052,"./cv.js":1052,"./cy":6104,"./cy.js":6104,"./da":8120,"./da.js":8120,"./de":2868,"./de-at":548,"./de-at.js":548,"./de-ch":7044,"./de-ch.js":7044,"./de.js":2868,"./dv":9744,"./dv.js":9744,"./el":516,"./el.js":516,"./en-au":6164,"./en-au.js":6164,"./en-ca":5420,"./en-ca.js":5420,"./en-gb":7636,"./en-gb.js":7636,"./en-ie":2788,"./en-ie.js":2788,"./en-il":876,"./en-il.js":876,"./en-in":5700,"./en-in.js":5700,"./en-nz":4456,"./en-nz.js":4456,"./en-sg":9356,"./en-sg.js":9356,"./eo":5916,"./eo.js":5916,"./es":6368,"./es-do":5296,"./es-do.js":5296,"./es-mx":2472,"./es-mx.js":2472,"./es-us":1092,"./es-us.js":1092,"./es.js":6368,"./et":8236,"./et.js":8236,"./eu":8520,"./eu.js":8520,"./fa":6332,"./fa.js":6332,"./fi":8612,"./fi.js":8612,"./fil":8872,"./fil.js":8872,"./fo":9588,"./fo.js":9588,"./fr":7288,"./fr-ca":8696,"./fr-ca.js":8696,"./fr-ch":5156,"./fr-ch.js":5156,"./fr.js":7288,"./fy":9028,"./fy.js":9028,"./ga":7236,"./ga.js":7236,"./gd":7552,"./gd.js":7552,"./gl":7688,"./gl.js":7688,"./gom-deva":3568,"./gom-deva.js":3568,"./gom-latn":3532,"./gom-latn.js":3532,"./gu":6304,"./gu.js":6304,"./he":8836,"./he.js":8836,"./hi":6120,"./hi.js":6120,"./hr":404,"./hr.js":404,"./hu":9251,"./hu.js":9251,"./hy-am":1744,"./hy-am.js":1744,"./id":8680,"./id.js":8680,"./is":6052,"./is.js":6052,"./it":4360,"./it-ch":2540,"./it-ch.js":2540,"./it.js":4360,"./ja":8432,"./ja.js":8432,"./jv":2184,"./jv.js":2184,"./ka":7256,"./ka.js":7256,"./kk":520,"./kk.js":520,"./km":5828,"./km.js":5828,"./kn":8908,"./kn.js":8908,"./ko":7176,"./ko.js":7176,"./ku":3260,"./ku-kmr":1104,"./ku-kmr.js":1104,"./ku.js":3260,"./ky":704,"./ky.js":704,"./lb":6928,"./lb.js":6928,"./lo":7536,"./lo.js":7536,"./lt":8384,"./lt.js":8384,"./lv":4248,"./lv.js":4248,"./me":1264,"./me.js":1264,"./mi":36,"./mi.js":36,"./mk":3136,"./mk.js":3136,"./ml":5004,"./ml.js":5004,"./mn":2448,"./mn.js":2448,"./mr":5016,"./mr.js":5016,"./ms":7308,"./ms-my":3884,"./ms-my.js":3884,"./ms.js":7308,"./mt":932,"./mt.js":932,"./my":8980,"./my.js":8980,"./nb":6912,"./nb.js":6912,"./ne":7403,"./ne.js":7403,"./nl":2004,"./nl-be":9980,"./nl-be.js":9980,"./nl.js":2004,"./nn":1112,"./nn.js":1112,"./oc-lnc":947,"./oc-lnc.js":947,"./pa-in":9112,"./pa-in.js":9112,"./pl":8068,"./pl.js":8068,"./pt":2428,"./pt-br":7872,"./pt-br.js":7872,"./pt.js":2428,"./ro":5416,"./ro.js":5416,"./ru":8552,"./ru.js":8552,"./sd":4512,"./sd.js":4512,"./se":5492,"./se.js":5492,"./si":5336,"./si.js":5336,"./sk":7676,"./sk.js":7676,"./sl":6008,"./sl.js":6008,"./sq":5827,"./sq.js":5827,"./sr":6024,"./sr-cyrl":5360,"./sr-cyrl.js":5360,"./sr.js":6024,"./ss":4888,"./ss.js":4888,"./sv":2668,"./sv.js":2668,"./sw":936,"./sw.js":936,"./ta":5496,"./ta.js":5496,"./te":1572,"./te.js":1572,"./tet":7760,"./tet.js":7760,"./tg":5616,"./tg.js":5616,"./th":6820,"./th.js":6820,"./tk":4748,"./tk.js":4748,"./tl-ph":4056,"./tl-ph.js":4056,"./tlh":9632,"./tlh.js":9632,"./tr":6884,"./tr.js":6884,"./tzl":5968,"./tzl.js":5968,"./tzm":7468,"./tzm-latn":5604,"./tzm-latn.js":5604,"./tzm.js":7468,"./ug-cn":2416,"./ug-cn.js":2416,"./uk":8248,"./uk.js":8248,"./ur":6560,"./ur.js":6560,"./uz":7320,"./uz-latn":8512,"./uz-latn.js":8512,"./uz.js":7320,"./vi":6484,"./vi.js":6484,"./x-pseudo":1836,"./x-pseudo.js":1836,"./yo":6043,"./yo.js":6043,"./zh-cn":1504,"./zh-cn.js":1504,"./zh-hk":6635,"./zh-hk.js":6635,"./zh-mo":8949,"./zh-mo.js":8949,"./zh-tw":6020,"./zh-tw.js":6020};function r(e){var a=l(e);return s(a)}function l(e){if(!s.o(t,e)){var a=new Error("Cannot find module '"+e+"'");throw a.code="MODULE_NOT_FOUND",a}return t[e]}r.keys=function(){return Object.keys(t)},r.resolve=l,e.exports=r,r.id=2348},412:function(e,a,s){"use strict";var t=s(5668),r=s(4108);const l={key:0},i={class:"main main-app p-3 p-lg-4"},o={key:1};function n(e,a,s,t,n,d){const c=(0,r.E1)("Menu"),u=(0,r.E1)("Header"),p=(0,r.E1)("router-view");return e.$store.getters.user?((0,r.Wz)(),(0,r.An)("div",l,[(0,r.K2)(c),(0,r.K2)(u),(0,r.QD)("div",i,[(0,r.K2)(p)])])):((0,r.Wz)(),(0,r.An)("div",o,[(0,r.K2)(p)]))}var d=s(8568),c=s.p+"img/jsw.23e74a16.png",u=s.p+"img/default_avatar.f0ab42c4.png";const p={class:"sidebar sidebar-dark"},m={class:"sidebar-header"},_={id:"sidebarMenu",class:"sidebar-body"},h={class:"nav-group show"},b={class:"nav nav-sidebar"},v={class:"nav-item"},y={class:"nav nav-sidebar"},g={class:"nav-item"},D={class:"nav-item"},Q={class:"nav-item"},f={class:"nav-group show"},k={class:"nav nav-sidebar"},w={class:"nav-item"},A={class:"nav nav-sidebar"},W={class:"nav-item"},z={class:"nav-item"},x={class:"nav-item"},P={class:"nav-item"},C={class:"nav-item"},S={class:"nav nav-sidebar"},U={class:"nav-item"},V={class:"nav-item"},j={class:"nav-item"},Y={class:"nav-item"},T={class:"nav-item"},N={class:"nav-item"},R={class:"nav-item"},q={class:"nav-item"},E={class:"nav nav-sidebar"},K={class:"nav-item"},I={class:"nav-item"},F={class:"nav-item"},O={class:"nav-item"},L={class:"nav-item"},B={class:"nav-item"},M={class:"nav nav-sidebar"},Z={class:"nav-item"},H={class:"nav-item"},J={class:"nav-item"},G={class:"nav-item"},X={class:"nav-item"},ee={class:"nav-group show"},ae={class:"nav nav-sidebar"},se={class:"nav-item"},te={class:"nav nav-sidebar"},re={class:"nav-item"},le={class:"nav-item"},ie={class:"nav-item"},oe={class:"nav-item"},ne={class:"nav-item"},de={class:"nav-item"},ce={class:"nav nav-sidebar"},ue={class:"nav-item"},pe={class:"nav-item"},me={class:"nav-item"},_e={class:"nav-item"},he={class:"nav-item"},be={class:"nav-group show"},ve={class:"nav nav-sidebar"},ye={class:"nav nav-sidebar"},ge={class:"nav-item"},De={class:"nav-item"},Qe={class:"sidebar-footer"},fe={class:"sidebar-footer-top"},ke={class:"sidebar-footer-thumb"},we={key:0,class:"avatar online"},Ae=["src"],We={key:1,class:"avatar online"},ze={class:"sidebar-footer-body"};function xe(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),$=(0,r.iS)("can");return(0,r.Wz)(),(0,r.An)("div",p,[(0,r.QD)("div",m,[(0,r.K2)(n,{to:"/dashboard",class:"sidebar-logo"},{default:(0,r.Ql)((()=>a[12]||(a[12]=[(0,r.QD)("img",{src:c,width:"150"},null,-1)]))),_:1})]),(0,r.QD)("div",_,[(0,r.QD)("div",h,[(0,r.QD)("ul",b,[(0,r.QD)("li",v,[(0,r.K2)(n,{to:"/dashboard",style:(0,d.MN)({color:i.dashboardActive}),onClick:a[0]||(a[0]=e=>o.showTab("Dashboard")),class:"nav-link"},{default:(0,r.Ql)((()=>a[13]||(a[13]=[(0,r.QD)("i",{class:"ri-command-line"},null,-1),(0,r.mY)(),(0,r.QD)("span",null,"Dashboard",-1)]))),_:1},8,["style"])])])]),o.permission("UserManagement")?((0,r.Wz)(),(0,r.An)("div",{key:0,class:(0,d.WN)(["nav-group",{show:i.showUser}]),onClick:a[1]||(a[1]=e=>o.showTab("UserManagement"))},[(0,r.QD)("a",{href:"javascript:void(0)",style:(0,d.MN)({color:i.userManagementColor}),class:"nav-label"},a[14]||(a[14]=[(0,r.QD)("i",{class:"ri-user-settings-line icn"},null,-1),(0,r.mY)(" User Management")]),4),(0,r.QD)("ul",y,[(0,r.wt)(((0,r.Wz)(),(0,r.An)("li",g,[(0,r.K2)(n,{to:"/role",class:(0,d.WN)([{active:"/role"===e.$route.path},"nav-link"])},{default:(0,r.Ql)((()=>a[15]||(a[15]=[(0,r.QD)("i",{class:"ri-database-2-fill"},null,-1),(0,r.mY)(),(0,r.QD)("span",null,"Roles",-1)]))),_:1},8,["class"])])),[[$,"roles.view"]]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("li",D,[(0,r.K2)(n,{to:"/users",class:(0,d.WN)([{active:"/users"===e.$route.path||"Users.Create"===e.$route.name||"Users.Edit"===e.$route.path},"nav-link"])},{default:(0,r.Ql)((()=>a[16]||(a[16]=[(0,r.QD)("i",{class:"ri-user-line"},null,-1),(0,r.mY)(),(0,r.QD)("span",null,"Users",-1)]))),_:1},8,["class"])])),[[$,"users.view"]]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("li",Q,[(0,r.K2)(n,{to:"/permissions",class:(0,d.WN)([{active:"/permissions"===e.$route.path},"nav-link"])},{default:(0,r.Ql)((()=>a[17]||(a[17]=[(0,r.QD)("i",{class:"ri-sensor-fill"},null,-1),(0,r.mY)(),(0,r.QD)("span",null,"Permissions",-1)]))),_:1},8,["class"])])),[[$,"permissions.view"]])])],2)):(0,r.g1)("",!0),(0,r.QD)("div",f,[(0,r.QD)("ul",k,[(0,r.QD)("li",w,[(0,r.K2)(n,{to:"/lists",style:(0,d.MN)({color:e.listActive}),onClick:a[2]||(a[2]=e=>o.showTab("List")),class:"nav-link"},{default:(0,r.Ql)((()=>a[18]||(a[18]=[(0,r.QD)("i",{class:"ri-command-line"},null,-1),(0,r.mY)(),(0,r.QD)("span",null,"Lists",-1)]))),_:1},8,["style"])])])]),o.permission("LineageParameters")?((0,r.Wz)(),(0,r.An)("div",{key:1,class:(0,d.WN)(["nav-group",{show:i.showLinage}]),onClick:a[3]||(a[3]=e=>o.showTab("LineageParameters"))},[(0,r.QD)("a",{href:"javascript:void(0)",style:(0,d.MN)({color:i.color}),class:"nav-label"},a[19]||(a[19]=[(0,r.QD)("i",{class:"ri-equalizer-line icn"},null,-1),(0,r.mY)(" Lineage parameters")]),4),(0,r.QD)("ul",A,[(0,r.QD)("li",W,[(0,r.K2)(n,{to:"/areas",class:(0,d.WN)([{active:"/areas"===e.$route.path},"nav-link"])},{default:(0,r.Ql)((()=>a[20]||(a[20]=[(0,r.QD)("i",{class:"ri-command-line"},null,-1),(0,r.mY)(),(0,r.QD)("span",null,"Areas",-1)]))),_:1},8,["class"])]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("li",z,[(0,r.K2)(n,{to:"/plants",class:(0,d.WN)([{active:"/plants"===e.$route.path},"nav-link"])},{default:(0,r.Ql)((()=>a[21]||(a[21]=[(0,r.QD)("i",{class:"ri-building-fill"},null,-1),(0,r.mY)(),(0,r.QD)("span",null,"Shops",-1)]))),_:1},8,["class"])])),[[$,"plants.view"]]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("li",x,[(0,r.K2)(n,{to:"/section",class:(0,d.WN)([{active:"/section"===e.$route.path},"nav-link"])},{default:(0,r.Ql)((()=>a[22]||(a[22]=[(0,r.QD)("i",{class:"ri-stack-line"},null,-1),(0,r.mY)(),(0,r.QD)("span",null,"Section",-1)]))),_:1},8,["class"])])),[[$,"sections.view"]]),(0,r.QD)("li",P,[(0,r.K2)(n,{to:"/department",class:(0,d.WN)([{active:"/department"===e.$route.path},"nav-link"])},{default:(0,r.Ql)((()=>a[23]||(a[23]=[(0,r.QD)("i",{class:"ri-government-line"},null,-1),(0,r.mY)(),(0,r.QD)("span",null,"Department",-1)]))),_:1},8,["class"])]),(0,r.QD)("li",C,[(0,r.K2)(n,{to:"/functional",class:(0,d.WN)([{active:"/functional"===e.$route.path},"nav-link"])},{default:(0,r.Ql)((()=>a[24]||(a[24]=[(0,r.QD)("i",{class:"ri-rfid-line"},null,-1),(0,r.mY)(),(0,r.QD)("span",null,"Functional",-1)]))),_:1},8,["class"])])])],2)):(0,r.g1)("",!0),o.permission("TypeParameters")?((0,r.Wz)(),(0,r.An)("div",{key:2,class:(0,d.WN)(["nav-group",{show:i.showType}]),onClick:a[4]||(a[4]=e=>o.showTab("TypeParameters"))},[(0,r.QD)("a",{href:"javascript:void(0)",style:(0,d.MN)({color:i.typeParameterColor}),class:"nav-label"},a[25]||(a[25]=[(0,r.QD)("i",{class:"ri-corner-up-right-double-line icn"},null,-1),(0,r.mY)(" Type Parameters")]),4),(0,r.QD)("ul",S,[(0,r.wt)(((0,r.Wz)(),(0,r.An)("li",U,[(0,r.K2)(n,{to:"/asset_types",class:(0,d.WN)([{active:"/asset_types"===e.$route.path},"nav-link"])},{default:(0,r.Ql)((()=>a[26]||(a[26]=[(0,r.QD)("i",{class:"ri-building-3-line"},null,-1),(0,r.mY)(),(0,r.QD)("span",null,"Asset Types",-1)]))),_:1},8,["class"])])),[[$,"asset_types.view"]]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("li",V,[(0,r.K2)(n,{to:"/service_types",class:(0,d.WN)([{active:"/service_types"===e.$route.path},"nav-link"])},{default:(0,r.Ql)((()=>a[27]||(a[27]=[(0,r.QD)("i",{class:"ri-layout-fill"},null,-1),(0,r.mY)(),(0,r.QD)("span",null,"Service Types",-1)]))),_:1},8,["class"])])),[[$,"service_types.view"]]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("li",j,[(0,r.K2)(n,{to:"/spare_types",class:(0,d.WN)([{active:"/spare_types"===e.$route.path},"nav-link"])},{default:(0,r.Ql)((()=>a[28]||(a[28]=[(0,r.QD)("i",{class:"ri-shapes-line"},null,-1),(0,r.mY)(),(0,r.QD)("span",null,"Spare Types",-1)]))),_:1},8,["class"])])),[[$,"spare_types.view"]]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("li",Y,[(0,r.K2)(n,{to:"/activity_types",class:(0,d.WN)([{active:"/activity_types"===e.$route.path},"nav-link"])},{default:(0,r.Ql)((()=>a[29]||(a[29]=[(0,r.QD)("i",{class:"ri-color-filter-line"},null,-1),(0,r.mY)(),(0,r.QD)("span",null,"Activity Types",-1)]))),_:1},8,["class"])])),[[$,"reasons.view"]]),(0,r.QD)("li",T,[(0,r.K2)(n,{to:"/data_source_type",class:(0,d.WN)([{active:"/data_source_type"===e.$route.path},"nav-link"])},{default:(0,r.Ql)((()=>a[30]||(a[30]=[(0,r.QD)("i",{class:"ri-line-chart-line"},null,-1),(0,r.mY)(),(0,r.QD)("span",null,"Data Source Types",-1)]))),_:1},8,["class"])]),(0,r.QD)("li",N,[(0,r.K2)(n,{to:"/break_down_type",class:(0,d.WN)([{active:"/break_down_type"===e.$route.path},"nav-link"])},{default:(0,r.Ql)((()=>a[31]||(a[31]=[(0,r.QD)("i",{class:"ri-bubble-chart-line"},null,-1),(0,r.mY)(),(0,r.QD)("span",null,"Break Down Types",-1)]))),_:1},8,["class"])]),(0,r.QD)("li",R,[(0,r.K2)(n,{to:"/accessory_type",class:(0,d.WN)([{active:"/accessory_type"===e.$route.path},"nav-link"])},{default:(0,r.Ql)((()=>a[32]||(a[32]=[(0,r.QD)("i",{class:"ri-briefcase-line"},null,-1),(0,r.mY)(),(0,r.QD)("span",null,"Accessory Types",-1)]))),_:1},8,["class"])]),(0,r.QD)("li",q,[(0,r.K2)(n,{to:"/variable_type",class:(0,d.WN)([{active:"/variable_type"===e.$route.path},"nav-link"])},{default:(0,r.Ql)((()=>a[33]||(a[33]=[(0,r.QD)("i",{class:"ri-infinity-line"},null,-1),(0,r.mY)(),(0,r.QD)("span",null,"Variable Types",-1)]))),_:1},8,["class"])])])],2)):(0,r.g1)("",!0),(0,r.QD)("div",{class:(0,d.WN)(["nav-group",{show:i.showAttributes}]),onClick:a[5]||(a[5]=e=>o.showTab("Attributes"))},[(0,r.QD)("a",{href:"javascript:void(0)",class:"nav-label",style:(0,d.MN)({color:i.AttributesColor})},a[34]||(a[34]=[(0,r.QD)("i",{class:"ri-stack-fill icn"},null,-1),(0,r.mY)(" Attributes")]),4),(0,r.QD)("ul",E,[(0,r.QD)("li",K,[(0,r.K2)(n,{to:"/asset_attributes",class:(0,d.WN)([{active:"/asset_attributes"===e.$route.path||"AssetAttributes.Create"===e.$route.name||"AssetAttributes.Edit"===e.$route.path},"nav-link"])},{default:(0,r.Ql)((()=>a[35]||(a[35]=[(0,r.QD)("i",{class:"ri-building-3-line"},null,-1),(0,r.mY)(),(0,r.QD)("span",null,"Asset Attribute",-1)]))),_:1},8,["class"])]),(0,r.QD)("li",I,[(0,r.K2)(n,{to:"/spare_attributes",class:(0,d.WN)([{active:"/spare_attributes"===e.$route.path||"SpareAttributes.Create"===e.$route.name||"SpareAttributes.Edit"===e.$route.path},"nav-link"])},{default:(0,r.Ql)((()=>a[36]||(a[36]=[(0,r.QD)("i",{class:"ri-shapes-line"},null,-1),(0,r.mY)(),(0,r.QD)("span",null,"Spare Attribute",-1)]))),_:1},8,["class"])]),(0,r.QD)("li",F,[(0,r.K2)(n,{to:"/data_source_attributes",class:(0,d.WN)([{active:"/data_source_attributes"===e.$route.path||"DataSourceAttributes.Create"===e.$route.name||"DataSourceAttributes.Edit"===e.$route.path},"nav-link"])},{default:(0,r.Ql)((()=>a[37]||(a[37]=[(0,r.QD)("i",{class:"ri-line-chart-line"},null,-1),(0,r.mY)(),(0,r.QD)("span",null,"Data Source Attribute",-1)]))),_:1},8,["class"])]),(0,r.QD)("li",O,[(0,r.K2)(n,{to:"/variable_attributes",class:(0,d.WN)([{active:"/variable_attributes"===e.$route.path||"VariableAttributes.Create"===e.$route.name||"VariableAttributes.Edit"===e.$route.path},"nav-link"])},{default:(0,r.Ql)((()=>a[38]||(a[38]=[(0,r.QD)("i",{class:"ri-infinity-line"},null,-1),(0,r.mY)(),(0,r.QD)("span",null,"Variable Attribute",-1)]))),_:1},8,["class"])]),(0,r.QD)("li",L,[(0,r.K2)(n,{to:"/service_attributes",class:(0,d.WN)([{active:"/service_attributes"===e.$route.path||"ServiceAttributes.Create"===e.$route.name||"ServiceAttributes.Edit"===e.$route.path},"nav-link"])},{default:(0,r.Ql)((()=>a[39]||(a[39]=[(0,r.QD)("i",{class:"ri-layout-fill"},null,-1),(0,r.mY)(),(0,r.QD)("span",null,"Service Attribute",-1)]))),_:1},8,["class"])]),(0,r.QD)("li",B,[(0,r.K2)(n,{to:"/break_down_attributes",class:(0,d.WN)([{active:"/break_down_attributes"===e.$route.path||"BreakDownAttributes.Create"===e.$route.name||"BreakDownAttributes.Edit"===e.$route.path},"nav-link"])},{default:(0,r.Ql)((()=>a[40]||(a[40]=[(0,r.QD)("i",{class:"ri-bubble-chart-line"},null,-1),(0,r.mY)(),(0,r.QD)("span",null,"Breakdown Attribute",-1)]))),_:1},8,["class"])])])],2),o.permission("ListParameters")?((0,r.Wz)(),(0,r.An)("div",{key:3,class:(0,d.WN)(["nav-group",{show:i.showList}]),onClick:a[6]||(a[6]=e=>o.showTab("ListParameters"))},[(0,r.QD)("a",{href:"javascript:void(0)",style:(0,d.MN)({color:i.listParameterColor}),class:"nav-label"},a[41]||(a[41]=[(0,r.QD)("i",{class:"ri-list-settings-line icn"},null,-1),(0,r.mY)(" Masters")]),4),(0,r.QD)("ul",M,[(0,r.wt)(((0,r.Wz)(),(0,r.An)("li",Z,[(0,r.K2)(n,{to:"/checks",class:(0,d.WN)([{active:"/checks"===e.$route.path||"Checks.Create"===e.$route.name||"Checks.Edit"===e.$route.path},"nav-link"])},{default:(0,r.Ql)((()=>a[42]||(a[42]=[(0,r.QD)("i",{class:"ri-command-line"},null,-1),(0,r.mY)(),(0,r.QD)("span",null,"Checks",-1)]))),_:1},8,["class"])])),[[$,"checks.view"]]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("li",H,[(0,r.K2)(n,{to:"/spares",class:(0,d.WN)([{active:"/spares"===e.$route.path||"Spares.Create"===e.$route.name||"Spares.Edit"===e.$route.path},"nav-link"])},{default:(0,r.Ql)((()=>a[43]||(a[43]=[(0,r.QD)("i",{class:"ri-align-left"},null,-1),(0,r.mY)(),(0,r.QD)("span",null,"Spares",-1)]))),_:1},8,["class"])])),[[$,"spares.view"]]),(0,r.QD)("li",J,[(0,r.K2)(n,{to:"/services",class:(0,d.WN)([{active:"/services"===e.$route.path||"Services.Create"===e.$route.name||"Services.Edit"===e.$route.path},"nav-link"])},{default:(0,r.Ql)((()=>a[44]||(a[44]=[(0,r.QD)("i",{class:"ri-drag-move-2-line"},null,-1),(0,r.mY)(),(0,r.QD)("span",null,"Services",-1)]))),_:1},8,["class"])]),(0,r.QD)("li",G,[(0,r.K2)(n,{to:"/variables",class:(0,d.WN)([{active:"/variables"===e.$route.path||"Variables.Create"===e.$route.name||"Variables.Edit"===e.$route.path},"nav-link"])},{default:(0,r.Ql)((()=>a[45]||(a[45]=[(0,r.QD)("i",{class:"ri-archive-drawer-line"},null,-1),(0,r.mY)(),(0,r.QD)("span",null,"Variables",-1)]))),_:1},8,["class"])]),(0,r.QD)("li",X,[(0,r.K2)(n,{to:"/data_sources",class:(0,d.WN)([{active:"/data_sources"===e.$route.path||"DataSources.Create"===e.$route.name||"DataSources.Edit"===e.$route.path},"nav-link"])},{default:(0,r.Ql)((()=>a[46]||(a[46]=[(0,r.QD)("i",{class:"ri-line-chart-line"},null,-1),(0,r.mY)(),(0,r.QD)("span",null,"Data Source",-1)]))),_:1},8,["class"])])])],2)):(0,r.g1)("",!0),(0,r.QD)("div",ee,[(0,r.QD)("ul",ae,[(0,r.QD)("li",se,[(0,r.K2)(n,{to:"/assets",style:(0,d.MN)({color:i.assetActive}),onClick:a[7]||(a[7]=e=>o.showTab("Asset")),class:(0,d.WN)([{active:"/assets"===e.$route.path||"/asset/create"===e.$route.path||"Assets.Edit"===e.$route.name||"Assets.View"===e.$route.name},"nav-link"])},{default:(0,r.Ql)((()=>a[47]||(a[47]=[(0,r.QD)("i",{class:"ri-briefcase-fill"},null,-1),(0,r.QD)("span",null,"Assets",-1)]))),_:1},8,["style","class"])])])]),o.permission("Registers")?((0,r.Wz)(),(0,r.An)("div",{key:4,class:(0,d.WN)(["nav-group",{show:i.showRegister}]),onClick:a[8]||(a[8]=e=>o.showTab("Registers"))},[(0,r.QD)("a",{href:"javascript:void(0)",style:(0,d.MN)({color:i.registerColor}),class:"nav-label"},a[48]||(a[48]=[(0,r.QD)("i",{class:"ri-links-fill icn"},null,-1),(0,r.mY)(" Registers")]),4),(0,r.QD)("ul",te,[(0,r.QD)("li",re,[(0,r.K2)(n,{class:(0,d.WN)([{active:"/health_checks"===e.$route.path||"HealthChecks.Create"===e.$route.name||"HealthChecks.Edit"===e.$route.name},"nav-link"]),to:"/health_checks"},{default:(0,r.Ql)((()=>a[49]||(a[49]=[(0,r.QD)("i",{class:"ri-health-book-line"},null,-1),(0,r.QD)("span",null,"Health Check Register",-1)]))),_:1},8,["class"])]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("li",le,[(0,r.K2)(n,{class:(0,d.WN)([{active:"/activities"===e.$route.path||"Activity.Create"===e.$route.name||"Activity.Edit"===e.$route.name},"nav-link"]),to:"/activities"},{default:(0,r.Ql)((()=>a[50]||(a[50]=[(0,r.QD)("i",{class:"ri-list-check"},null,-1),(0,r.QD)("span",null,"Activity Register",-1)]))),_:1},8,["class"])])),[[$,"userActivities.view"]]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("li",ie,[(0,r.K2)(n,{class:(0,d.WN)([{active:"/user_services"===e.$route.path||"UserServices.Create"===e.$route.name||"UserServices.Edit"===e.$route.name},"nav-link"]),to:"/user_services"},{default:(0,r.Ql)((()=>a[51]||(a[51]=[(0,r.QD)("i",{class:"ri-flow-chart"},null,-1),(0,r.QD)("span",null,"Service Register",-1)]))),_:1},8,["class"])])),[[$,"userServices.view"]]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("li",oe,[(0,r.K2)(n,{class:(0,d.WN)([{active:"/user_checks"===e.$route.path||"UserChecks.Create"===e.$route.name||"UserChecks.Edit"===e.$route.path},"nav-link"]),to:"/user_checks"},{default:(0,r.Ql)((()=>a[52]||(a[52]=[(0,r.QD)("i",{class:"ri-survey-line"},null,-1),(0,r.QD)("span",null,"Check Register",-1)]))),_:1},8,["class"])])),[[$,"userChecks.view"]]),(0,r.QD)("li",ne,[(0,r.K2)(n,{to:"/process_registers",class:(0,d.WN)([{active:"/process_registers"===e.$route.path},"nav-link"])},{default:(0,r.Ql)((()=>a[53]||(a[53]=[(0,r.QD)("i",{class:"ri-briefcase-fill"},null,-1),(0,r.QD)("span",null,"Process Register",-1)]))),_:1},8,["class"])]),(0,r.QD)("li",de,[(0,r.K2)(n,{to:"/break_down_registers",class:(0,d.WN)([{active:"/break_down_registers"===e.$route.path},"nav-link"])},{default:(0,r.Ql)((()=>a[54]||(a[54]=[(0,r.QD)("i",{class:"ri-bubble-chart-line"},null,-1),(0,r.QD)("span",null,"Break Down Register",-1)]))),_:1},8,["class"])])])],2)):(0,r.g1)("",!0),(0,r.QD)("div",{class:(0,d.WN)(["nav-group",{show:i.showReview}]),onClick:a[9]||(a[9]=e=>o.showTab("Review"))},[(0,r.QD)("a",{href:"javascript:void(0)",class:"nav-label",style:(0,d.MN)({color:e.ReviewColor})},a[55]||(a[55]=[(0,r.QD)("i",{class:"ri-stack-fill icn"},null,-1),(0,r.mY)(" Review")]),4),(0,r.QD)("ul",ce,[(0,r.QD)("li",ue,[(0,r.K2)(n,{to:"/asset_details",class:(0,d.WN)([{active:"/asset_details"===e.$route.path},"nav-link"])},{default:(0,r.Ql)((()=>a[56]||(a[56]=[(0,r.QD)("i",{class:"ri-focus-line"},null,-1),(0,r.mY)(),(0,r.QD)("span",null,"Asset Details",-1)]))),_:1},8,["class"])]),(0,r.QD)("li",pe,[(0,r.K2)(n,{to:"/spare_campaigns",class:(0,d.WN)([{active:"/spare_campaigns"===e.$route.path},"nav-link"])},{default:(0,r.Ql)((()=>a[57]||(a[57]=[(0,r.QD)("i",{class:"ri-focus-line"},null,-1),(0,r.mY)(),(0,r.QD)("span",null,"Spare Campaign",-1)]))),_:1},8,["class"])]),(0,r.QD)("li",me,[(0,r.K2)(n,{to:"/compliance",class:(0,d.WN)([{active:"/compliance"===e.$route.path},"nav-link"])},{default:(0,r.Ql)((()=>a[58]||(a[58]=[(0,r.QD)("i",{class:"ri-focus-line"},null,-1),(0,r.mY)(),(0,r.QD)("span",null,"Compliance",-1)]))),_:1},8,["class"])]),(0,r.QD)("li",_e,[(0,r.K2)(n,{to:"/deviations_review",class:(0,d.WN)([{active:"/deviations_review"===e.$route.path},"nav-link"])},{default:(0,r.Ql)((()=>a[59]||(a[59]=[(0,r.QD)("i",{class:"ri-focus-line"},null,-1),(0,r.mY)(),(0,r.QD)("span",null,"Deviations",-1)]))),_:1},8,["class"])]),(0,r.QD)("li",he,[(0,r.K2)(n,{to:"/alerts",class:(0,d.WN)([{active:"/alerts"===e.$route.path},"nav-link"])},{default:(0,r.Ql)((()=>a[60]||(a[60]=[(0,r.QD)("i",{class:"ri-focus-line"},null,-1),(0,r.mY)(),(0,r.QD)("span",null,"Alerts",-1)]))),_:1},8,["class"])])])],2),(0,r.QD)("div",be,[(0,r.QD)("a",{href:"javascript:void(0)",style:{color:"inherit"},class:"nav-label",onClick:a[10]||(a[10]=(...e)=>o.toggleReports&&o.toggleReports(...e))},a[61]||(a[61]=[(0,r.QD)("i",{class:"ri-file-chart-line icn"},null,-1),(0,r.mY)("Â  Reports ")])),(0,r.wt)((0,r.QD)("ul",ve,a[62]||(a[62]=[(0,r.IL)('<li class="nav-item" data-v-43519514><a href="javascript:void(0)" class="nav-link" data-v-43519514><i class="ri-file-chart-2-line" data-v-43519514></i> <span data-v-43519514>Asset Report</span></a></li><li class="nav-item" data-v-43519514><a href="javascript:void(0)" class="nav-link" data-v-43519514><i class="ri-pass-pending-line" data-v-43519514></i> <span data-v-43519514>Job Pending Report</span></a></li><li class="nav-item" data-v-43519514><a href="javascript:void(0)" class="nav-link" data-v-43519514><i class="ri-store-3-fill" data-v-43519514></i> <span data-v-43519514>Activity Report</span></a></li>',3)]),512),[[t.Ub,i.showReports]])]),(0,r.QD)("div",{class:(0,d.WN)(["nav-group",{show:i.showPredictions}]),onClick:a[11]||(a[11]=e=>o.showTab("Predictions"))},[(0,r.QD)("a",{href:"javascript:void(0)",class:"nav-label",style:(0,d.MN)({color:e.PredictionColor})},a[63]||(a[63]=[(0,r.QD)("i",{class:"ri-stack-fill icn"},null,-1),(0,r.mY)(" Predictions")]),4),(0,r.QD)("ul",ye,[(0,r.QD)("li",ge,[(0,r.K2)(n,{to:"/asset_life",class:(0,d.WN)([{active:"/asset_life"===e.$route.path},"nav-link"])},{default:(0,r.Ql)((()=>a[64]||(a[64]=[(0,r.QD)("i",{class:"ri-focus-line"},null,-1),(0,r.mY)(),(0,r.QD)("span",null,"Asset Life",-1)]))),_:1},8,["class"])]),(0,r.QD)("li",De,[(0,r.K2)(n,{to:"/upcoming_repairs",class:(0,d.WN)([{active:"/upcoming_repairs"===e.$route.path},"nav-link"])},{default:(0,r.Ql)((()=>a[65]||(a[65]=[(0,r.QD)("i",{class:"ri-focus-line"},null,-1),(0,r.mY)(),(0,r.QD)("span",null,"Upcoming Repiars",-1)]))),_:1},8,["class"])])])],2)]),(0,r.QD)("div",Qe,[(0,r.QD)("div",fe,[(0,r.QD)("div",ke,[e.$store.getters.user?.avatar?((0,r.Wz)(),(0,r.An)("div",we,[(0,r.QD)("img",{src:e.$store.getters.user?.avatar,alt:""},null,8,Ae)])):((0,r.Wz)(),(0,r.An)("div",We,a[66]||(a[66]=[(0,r.QD)("img",{src:u,alt:""},null,-1)])))]),(0,r.QD)("div",ze,[(0,r.QD)("h6",null,(0,d.WA)(e.$store.getters?.user?.name),1),(0,r.QD)("p",null,(0,d.WA)(e.$store.getters.user.role?.role),1)]),a[67]||(a[67]=(0,r.QD)("a",{id:"sidebarFooterMenu",href:"#",class:"dropdown-link"},[(0,r.QD)("i",{class:"ri-arrow-down-s-line"})],-1))])])])}s(3248);var Pe={data(){return{permissions:this.$store.getters.permissions,dashboardActive:"white !important",color:"rgba(255, 255, 255, .6) !important",typeParameterColor:"rgba(255, 255, 255, .6) !important",motorParameterColor:"rgba(255, 255, 255, .6) !important",listParameterColor:"rgba(255, 255, 255, .6) !important",masterColor:"rgba(255, 255, 255, .6) !important",registerColor:"rgba(255, 255, 255, .6) !important",userManagementColor:"rgba(255, 255, 255, .6) !important",reportsColor:"rgba(255, 255, 255, .6) !important",AssetParametersColor:"rgba(255, 255, 255, .6) !important",AttributesColor:"rgba(255, 255, 255, .6) !important",assetActive:"white !important",listsActive:"white !important",showLinage:!1,showType:!1,showMotor:!1,showList:!1,showAttributes:!1,showMaster:!1,showRegister:!1,showUser:!1,AssetParametersActive:!1,showReports:!1,showReview:!1,showPredictions:!1}},watch:{$route(e){this.showTab(e.path,e.name)}},methods:{toggleReports(){this.showReports=!this.showReports},logout(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"logout",data:e.$store.getters.user}).then((function(){a.hide(),e.$store.dispatch("logout"),e.$router.push("/")})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},showTab(e,a){switch(this.dashboardActive="rgba(255, 255, 255, .6) !important",this.color="rgba(255, 255, 255, .6) !important",this.typeParameterColor="rgba(255, 255, 255, .6) !important",this.motorParameterColor="rgba(255, 255, 255, .6) !important",this.listParameterColor="rgba(255, 255, 255, .6) !important",this.masterColor="rgba(255, 255, 255, .6) !important",this.registerColor="rgba(255, 255, 255, .6) !important",this.userManagementColor="rgba(255, 255, 255, .6) !important",this.reportsColor="rgba(255, 255, 255, .6) !important",this.AssetParametersColor="rgba(255, 255, 255, .6) !important",this.assetActive="rgba(255, 255, 255, .6) !important",this.AttributesColor="rgba(255, 255, 255, .6) !important",this.ReviewColor="rgba(255, 255, 255, .6) !important",this.PredictionColor="rgba(255, 255, 255, .6) !important",this.listActive="rgba(255, 255, 255, .6) !important","/areas"==e||"/plants"==e||"/section"==e||"/frequency"==e||"/department"==e||"/functional"==e?(this.color="white !important",this.showLinage=!this.showLinage):"/equipment_types"==e||"/asset_types"==e||"/service_types"==e||"/spare_types"==e||"/activity_types"==e||"/data_source_type"==e||"/break_down_type"==e||"/accessory_type"==e||"/variable_type"==e?(this.typeParameterColor="white !important",this.showType=!this.showType):"/voltages"==e||"/watt_rating"==e||"/frame"==e||"/mounting"==e||"/make"==e||"/speed"==e?(this.motorParameterColor="white !important",this.showMotor=!this.showMotor):"/checks"==e||"Check.Create"===a||"Checks.Edit"===a||"/spares"==e||"Spares.Create"==a||"/services"==e||"/variables"==e||"/data_sources"==e||"/break_down_lists"==e?(this.listParameterColor="white !important",this.showList=!this.showList):"/health_checks"==e||"HealthChecks.Create"==a||"HealthChecks.Edit"==a||"/activities"==e||"Activity.Create"==a||"Activity.Edit"==a||"/user_services"==e||"UserServices.Create"==a||"UserServices.Edit"==a||"/user_checks"==e||"UserChecks.Create"==a||"UserChecks.Edit"==a||"/process_registers"==e||"/break_down_registers"==e||"/spare_registers"==e||"/qc_registers"==e?(this.registerColor="white !important",this.showRegister=!this.showRegister):"/role"==e||"/users"==e||"Users.Create"==a||"Users.Edit"==a||"/permissions"==e?(this.userManagementColor="white !important",this.showUser=!this.showUser):"/dashboard"==e?this.dashboardActive="white !important":"/assets"==e||"Assets.Create"==a||"Assets.Edit"==a||"Assets.View"==a?this.assetActive="white !important":"/asset_attributes"==e||"/spare_attributes"==e||"/data_source_attributes"==e||"/variable_attributes"==e||"/service_attributes"==e||"/break_down_attributes"==e?(this.AttributesColor="white !important",this.showAttributes=!this.showAttributes):"/asset_details"==e||"/spare_campaigns"==e||"/compliance"==e||"/deviations_review"==e||"/alerts"==e?(this.ReviewColor="white !important",this.showReview=!this.showReview):"/asset_life"==e||"/upcoming_repairs"==e?(this.PredictionColor="white !important",this.showPredictions=!this.showPredictions):"/lists"==e&&(this.listActive="white !important"),e){case"Dashboard":this.dashboardActive="white !important";break;case"List":this.listActive="white !important";break;case"LineageParameters":this.color="white !important",this.showLinage=!this.showLinage;break;case"TypeParameters":this.typeParameterColor="white !important",this.showType=!this.showType,this.showLinage=!1;break;case"MotorParameters":this.motorParameterColor="white !important",this.showMotor=!this.showMotor;break;case"ListParameters":this.listParameterColor="white !important",this.showList=!this.showList;break;case"Attributes":this.AttributesColor="white !important",this.showAttributes=!this.showAttributes;break;case"Masters":this.masterColor="white !important",this.showMaster=!this.showMaster;break;case"Registers":this.registerColor="white !important",this.showRegister=!this.showRegister;break;case"UserManagement":this.userManagementColor="white !important",this.showUser=!this.showUser;break;case"Asset":this.assetActive="white !important";break;case"Review":this.ReviewColor="white !important",this.showReview=!this.showReview;break;case"Predictions":this.PredictionColor="white !important",this.showPredictions=!this.showPredictions;break;default:break}},permission(e){let a=this.$store.getters.permissions;if(a&&0!=a.length){let s=[];return"LineageParameters"==e?s=a.filter((function(e){return"clusters.view"==e.ability.ability||"plants.view"==e.ability.ability||"sections.view"==e.ability.ability})):"TypeParameters"==e&&(s=a.filter((function(e){return"equipment_types.view"==e.ability.ability||"asset_types.view"==e.ability.ability||"service_types.view"==e.ability.ability||"spare_types.view"==e.ability.ability||"reasons.view"==e.ability.ability}))),"MotorParameters"==e&&(s=a.filter((function(e){return"voltages.view"==e.ability.ability||"watt_ratings.view"==e.ability.ability||"frames.view"==e.ability.ability||"mountings.view"==e.ability.ability||"makes.view"==e.ability.ability||"speeds.view"==e.ability.ability}))),"ListParameters"==e&&(s=a.filter((function(e){return"checks.view"==e.ability.ability||"spares.view"==e.ability.ability||"services.view"==e.ability.ability}))),"Masters"==e&&(s=a.filter((function(e){return"equipment.view"==e.ability.ability||"assets.view"==e.ability.ability}))),"UserManagement"==e&&(s=a.filter((function(e){return"users.view"==e.ability.ability||"roles.view"==e.ability.ability||"permissions.view"==e.ability.ability}))),"Registers"==e&&(s=a.filter((function(e){return"userActivities.view"==e.ability.ability||"userServices.view"==e.ability.ability||"userChecks.view"==e.ability.ability}))),0!=s.length}}}},Ce=s(4100);const $e=(0,Ce.c)(Pe,[["render",xe],["__scopeId","data-v-43519514"]]);var Se=$e;const Ue={class:"header-main px-3 px-lg-4"},Ve={class:"dropdown dropdown-profile ms-3 ms-xl-4 mt-4"},je={href:"javascript:void(0)",class:"dropdown-link d-flex","data-bs-toggle":"dropdown","aria-expanded":"false"},Ye={class:"text-end me-2"},Te={class:"mb-0 text-dark"},Ne={class:"fs-sm text-secondary"},Re={key:0,class:"avatar online"},qe=["src"],Ee={key:1,class:"avatar online"},Ke={class:"dropdown-menu dropdown-menu-end mt-10-f","aria-expanded":"false"},Ie={class:"dropdown-menu-body"},Fe={class:"mb-1 text-dark fw-semibold"},Oe={class:"fs-sm text-secondary"},Le={class:"nav"};function Be(e,a,s,t,l,i){const o=(0,r.E1)("router-link");return(0,r.Wz)(),(0,r.An)("div",Ue,[a[4]||(a[4]=(0,r.QD)("a",{id:"menuSidebar",href:"javascript:void(0)",class:"menu-link me-3 me-lg-4"},[(0,r.QD)("i",{class:"ri-menu-2-fill"})],-1)),a[5]||(a[5]=(0,r.QD)("div",{class:"me-auto"},[(0,r.QD)("h4",{class:"mt-1 text-dark"},"Refractory Management System")],-1)),(0,r.QD)("div",Ve,[(0,r.QD)("a",je,[(0,r.QD)("div",Ye,[(0,r.QD)("h5",Te,(0,d.WA)(e.$store.getters?.user?.name),1),(0,r.QD)("p",Ne,(0,d.WA)(e.$store.getters.user.role?.role),1)]),e.$store.getters.user?.avatar?((0,r.Wz)(),(0,r.An)("div",Re,[(0,r.QD)("img",{src:e.$store.getters.user?.avatar,alt:""},null,8,qe)])):((0,r.Wz)(),(0,r.An)("div",Ee,a[1]||(a[1]=[(0,r.QD)("img",{src:u,alt:""},null,-1)])))]),(0,r.QD)("div",Ke,[(0,r.QD)("div",Ie,[(0,r.QD)("h5",Fe,(0,d.WA)(e.$store.getters?.user?.name),1),(0,r.QD)("p",Oe,(0,d.WA)(e.$store.getters.user.role?.role),1),(0,r.QD)("nav",Le,[(0,r.K2)(o,{class:"dropdown-item",to:"/profile"},{default:(0,r.Ql)((()=>a[2]||(a[2]=[(0,r.QD)("i",{class:"ri-edit-2-line"},null,-1),(0,r.mY)(" Edit Profile")]))),_:1}),(0,r.QD)("a",{href:"javascript:void(0)",onClick:a[0]||(a[0]=e=>i.logout())},a[3]||(a[3]=[(0,r.QD)("i",{class:"ri-logout-box-r-line"},null,-1),(0,r.mY)(" Log Out")]))])])])])])}var Me={methods:{logout(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"logout",data:e.$store.getters.user}).then((function(){a.hide(),e.$store.dispatch("logout"),e.$store.dispatch("setUser",null),e.$store.dispatch("setToken",""),e.$router.push("/")})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))}}};const Ze=(0,Ce.c)(Me,[["render",Be]]);var He=Ze,Je={name:"App",components:{Menu:Se,Header:He},created(){sessionStorage.getItem("user")&&this.$store.dispatch("setUser",JSON.parse(sessionStorage.getItem("user"))),sessionStorage.getItem("token")&&this.$store.dispatch("setToken",sessionStorage.getItem("token")),sessionStorage.getItem("permissions")&&(this.$store.dispatch("setPermissions",JSON.parse(sessionStorage.getItem("permissions"))),sessionStorage.removeItem("permissions")),window.addEventListener("beforeunload",(()=>{sessionStorage.setItem("user",JSON.stringify(this.$store?.getters?.user)),sessionStorage.setItem("token",this.$store?.getters?.token),sessionStorage.setItem("permissions",JSON.stringify(this.$store?.getters?.permissions))}))}};const Ge=(0,Ce.c)(Je,[["render",n]]);var Xe=Ge,ea=s(7464);const aa={class:"page-sign d-block st py-0"},sa={class:"row g-0"},ta={class:"col-md-7 col-lg-5 col-xl-4 col-wrapper"},ra={class:"card card-sign"},la={class:"card-body"},ia={class:"mb-4"},oa={key:0,class:"invalid-feedback"},na={class:"mb-4"},da={class:"form-label d-flex justify-content-between"},ca={key:0,class:"invalid-feedback"};function ua(e,a,s,l,i,o){const n=(0,r.E1)("router-link");return(0,r.Wz)(),(0,r.An)("div",aa,[(0,r.QD)("div",sa,[(0,r.QD)("div",ta,[(0,r.QD)("div",ra,[a[7]||(a[7]=(0,r.IL)('<div class="card-header"><div class="card-header"><div class="text-center"><img src="'+c+'" class="img" width="200"></div><div class="text-center"><a href="#" class="text-center header-logo mb-3 mt-2"><span class="title" style="font-size:24px;">Refractory Management </span></a></div></div><h6 class="card-title">Sign In</h6><p class="card-text">Welcome back! Please signin to continue.</p></div>',1)),(0,r.QD)("div",la,[(0,r.QD)("form",{onSubmit:a[2]||(a[2]=(0,t.Y7)(((...e)=>o.login&&o.login(...e)),["prevent"]))},[(0,r.QD)("div",ia,[a[3]||(a[3]=(0,r.QD)("label",{class:"form-label"},"Email address",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",tabindex:"1",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.email}]),placeholder:"Enter your email address","onUpdate:modelValue":a[0]||(a[0]=e=>i.user.email=e),ref:"email"},null,2),[[t.Og,i.user.email]]),i.errors.email?((0,r.Wz)(),(0,r.An)("span",oa,(0,d.WA)(i.errors.email[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",na,[(0,r.QD)("label",da,[a[5]||(a[5]=(0,r.mY)("Password ")),(0,r.K2)(n,{to:"/forgot_password"},{default:(0,r.Ql)((()=>a[4]||(a[4]=[(0,r.mY)("Forgot password?")]))),_:1})]),(0,r.wt)((0,r.QD)("input",{type:"password",tabindex:"1",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.password}]),placeholder:"Enter your password","onUpdate:modelValue":a[1]||(a[1]=e=>i.user.password=e)},null,2),[[t.Og,i.user.password]]),i.errors.password?((0,r.Wz)(),(0,r.An)("span",ca,(0,d.WA)(i.errors.password[0]),1)):(0,r.g1)("",!0)]),a[6]||(a[6]=(0,r.QD)("button",{method:"submit",tabindex:"1",class:"btn btn-primary btn-sign"},"Sign In",-1))],32)])])]),a[8]||(a[8]=(0,r.QD)("div",{class:"col d-none d-lg-block"},[(0,r.QD)("img",{src:"assets/images/bg2.jpg",class:"auth-img",alt:""})],-1))])])}var pa={data(){return{user:{email:"bharatesh.s@akxatech.com",password:"1qaz2wsx"},errors:[]}},mounted(){this.$refs.email.focus()},methods:{login(){let e=this,a=e.$loading.show();e.$store.dispatch("auth",{uri:"login",data:e.user}).then((function(s){a.hide(),e.$store.dispatch("setUser",s.data.user),e.$store.dispatch("setToken",s.data.token),e.getPermissions()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getPermissions(){let e=this,a={uri:"getPermissions",data:{role_id:this.$store.getters.user.role.role_id}},s=e.$loading.show();this.$store.dispatch("post",a).then((a=>{s.hide(),e.$store.dispatch("setPermissions",a.data),e.$router.push("/dashboard")})).catch((a=>{s.hide(),e.errors=a.response.data.errors,e.$store.dispatch("error",a.response.data.message)}))}}};const ma=(0,Ce.c)(pa,[["render",ua]]);var _a=ma;const ha={class:"page-sign"},ba={class:"card card-sign"},va={class:"card-footer"};function ya(e,a){const s=(0,r.E1)("router-link");return(0,r.Wz)(),(0,r.An)("div",ha,[(0,r.QD)("div",ba,[a[2]||(a[2]=(0,r.IL)('<div class="card-header"><a href="../index.html" class="header-logo mb-4">dashbyte</a><h3 class="card-title">Sign Up</h3><p class="card-text">It&#39;s free to signup and only takes a minute.</p></div><div class="card-body"><div class="mb-3"><label class="form-label">Email address</label><input type="text" class="form-control" placeholder="Enter your email address"></div><div class="mb-3"><label class="form-label">Password</label><input type="password" class="form-control" placeholder="Enter your password"></div><div class="mb-3"><label class="form-label">Full name</label><input type="text" class="form-control" placeholder="Enter your full name"></div><div class="mb-4"><small>By clicking <strong>Create Account</strong> below, you agree to our terms of service and privacy statement.</small></div><button class="btn btn-primary btn-sign">Create Account</button></div>',2)),(0,r.QD)("div",va,[a[1]||(a[1]=(0,r.mY)(" Already have an account? ")),(0,r.K2)(s,{to:"/"},{default:(0,r.Ql)((()=>a[0]||(a[0]=[(0,r.mY)("Sign In")]))),_:1})])])])}const ga={},Da=(0,Ce.c)(ga,[["render",ya]]);var Qa=Da;const fa={class:"row g-2 mt-2"},ka={class:"col-sm-4"},wa={class:"task-category p-3 bg-info"},Aa={class:"category-percent mb-2 text-center"},Wa={class:"col-sm-4"},za={class:"task-category p-3 bg-warning"},xa={class:"category-percent mb-2 text-center"},Pa={class:"col-sm-4"},Ca={class:"task-category p-3",style:{"background-color":"coral"}},$a={class:"category-percent mb-2 text-center"},Sa={class:"col-sm-4"},Ua={style:{position:"relative",width:"200px",height:"150px",display:"flex","justify-content":"center","align-items":"center","text-align":"center","margin-left":"40px"}},Va={style:{position:"relative","z-index":"1","margin-top":"10px"}},ja={class:"h2 text-white",style:{display:"block"}},Ya={class:"col-sm-4"},Ta={style:{position:"relative",width:"200px",height:"150px",display:"flex","justify-content":"center","align-items":"center","text-align":"center","margin-left":"40px"}},Na={style:{position:"relative","z-index":"1","margin-top":"10px"}},Ra={class:"h2 text-white",style:{display:"block"}},qa={class:"col-sm-4"},Ea={style:{position:"relative",width:"200px",height:"150px",display:"flex","justify-content":"center","align-items":"center","text-align":"center","margin-left":"40px"}},Ka={style:{position:"relative","z-index":"1","margin-top":"10px"}},Ia={class:"h2 text-white",style:{display:"block"}};function Fa(e,a,s,t,l,i){const o=(0,r.E1)("router-link");return(0,r.Wz)(),(0,r.An)("div",null,[a[11]||(a[11]=(0,r.QD)("div",{class:"d-sm-flex align-items-center justify-content-between"},[(0,r.QD)("div",null,[(0,r.QD)("ol",{class:"breadcrumb fs-sm mb-1"}),(0,r.QD)("h4",{class:"main-title mb-0"},"Dashboard")])],-1)),(0,r.QD)("div",fa,[(0,r.QD)("div",ka,[(0,r.K2)(o,{to:"/users"},{default:(0,r.Ql)((()=>[(0,r.QD)("div",wa,[(0,r.QD)("h2",Aa,(0,d.WA)(l.total_users),1),a[0]||(a[0]=(0,r.QD)("div",{class:"divider px-3"},[(0,r.QD)("span",null,[(0,r.QD)("h5",{class:"text-white"},"USERS")])],-1))])])),_:1})]),(0,r.QD)("div",Wa,[(0,r.K2)(o,{to:"/assets"},{default:(0,r.Ql)((()=>[(0,r.QD)("div",za,[(0,r.QD)("h2",xa,(0,d.WA)(l.total_asset),1),a[1]||(a[1]=(0,r.QD)("div",{class:"divider px-3"},[(0,r.QD)("span",null,[(0,r.QD)("h5",{class:"text-white"},"ASSETS")])],-1))])])),_:1})]),(0,r.QD)("div",Pa,[(0,r.K2)(o,{to:"/service_types"},{default:(0,r.Ql)((()=>[(0,r.QD)("div",Ca,[(0,r.QD)("h2",$a,(0,d.WA)(l.total_service_types),1),a[2]||(a[2]=(0,r.QD)("div",{class:"divider px-3"},[(0,r.QD)("span",null,[(0,r.QD)("h5",{class:"text-white"},"SERVICE TYPES")])],-1))])])),_:1})]),(0,r.QD)("div",Sa,[(0,r.K2)(o,{to:"/Deviations"},{default:(0,r.Ql)((()=>[(0,r.QD)("div",Ua,[a[4]||(a[4]=(0,r.QD)("img",{src:"assets/images/blue_triangle.png",width:"200px",height:"150px",alt:"",style:{"z-index":"-1",position:"absolute"}},null,-1)),(0,r.QD)("div",Va,[(0,r.QD)("span",ja,(0,d.WA)(l.total_deviations),1),a[3]||(a[3]=(0,r.QD)("span",{class:"h5 text-white"},"DEVIATIONS",-1))])])])),_:1})]),(0,r.QD)("div",Ya,[(0,r.K2)(o,{to:"/Pendings"},{default:(0,r.Ql)((()=>[(0,r.QD)("div",Ta,[a[8]||(a[8]=(0,r.QD)("img",{src:"assets/images/pending_triangle.png",width:"200px",height:"150px",alt:"",style:{"z-index":"-1",position:"absolute"}},null,-1)),(0,r.QD)("div",Na,[(0,r.QD)("span",Ra,(0,d.WA)(l.total_pending_services),1),a[5]||(a[5]=(0,r.QD)("span",{class:"h5 text-white"},"PENDINGS / ",-1)),a[6]||(a[6]=(0,r.QD)("br",null,null,-1)),a[7]||(a[7]=(0,r.QD)("span",{class:"h5 text-white"},"OVERDUES",-1))])])])),_:1})]),(0,r.QD)("div",qa,[(0,r.K2)(o,{to:"/UpcomingJobs"},{default:(0,r.Ql)((()=>[(0,r.QD)("div",Ea,[a[10]||(a[10]=(0,r.QD)("img",{src:"assets/images/purple_triangle.png",alt:"",style:{width:"100%",height:"100%",position:"absolute",top:"0",left:"0","z-index":"-1"}},null,-1)),(0,r.QD)("div",Ka,[(0,r.QD)("span",Ia,(0,d.WA)(l.total_upcoming_jobs),1),a[9]||(a[9]=(0,r.QD)("span",{class:"h5 text-white"},"UPCOMING JOBS",-1))])])])),_:1})])])])}var Oa={name:"Dashboard",data(){return{total_users:0,total_asset:0,total_equipment:0,total_service_types:0,total_deviations:0,total_pending_services:0,total_upcoming_jobs:0}},beforeRouteEnter(e,a,s){s((e=>{"login"==a.name&&e.$router.go(),e.$store.getters.user&&e.getDashboardContent()}))},methods:{getDashboardContent(){let e=this;e.$store.dispatch("post",{uri:"getDashboardContent"}).then((function(a){e.total_asset=a.data.asset,e.total_equipment=a.data.equipment,e.total_users=a.data.user,e.total_service_types=a.data.service_type,e.total_deviations=a.data.deviations,e.total_pending_services=a.data.pending_services,e.total_upcoming_jobs=a.data.upcoming_jobs})).catch((function(a){e.errors=a.response.data.errors,e.$store.dispatch("error",a.response.data.message)}))}}};const La=(0,Ce.c)(Oa,[["render",Fa]]);var Ba=La;const Ma={class:""},Za={class:"breadcrumb fs-sm mb-1"},Ha={class:"breadcrumb-item"},Ja={class:"row g-2"},Ga={class:"col-2"},Xa={class:"card card-one"},es={class:"card-body"},as={class:"text-center"},ss=["src"],ts={class:"col-6"},rs={class:"card card-one"},ls={class:"card-body"},is={class:"row g-2"},os={class:"col-md-12"},ns={key:0,class:"invalid-feedback"},ds={class:"col-md-6"},cs={key:0,class:"invalid-feedback"},us={class:"col-sm-6"},ps={key:0,class:"invalid-feedback"},ms={class:"col-sm-12"},_s={key:0,class:"invalid-feedback"},hs={class:"col-4"},bs={class:"card card-one"},vs={class:"card-body"},ys={class:"row g-2"},gs={class:"col-sm-12"},Ds={key:0,class:"invalid-feedback"},Qs={class:"col-sm-12"},fs={key:0,class:"invalid-feedback"},ks={class:"col-sm-12"},ws={key:0,class:"invalid-feedback"};function As(e,a,s,l,i,o){const n=(0,r.E1)("router-link");return(0,r.Wz)(),(0,r.An)("div",Ma,[(0,r.QD)("div",null,[(0,r.QD)("ol",Za,[(0,r.QD)("li",Ha,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[13]||(a[13]=[(0,r.mY)("Dashboard")]))),_:1})]),a[14]||(a[14]=(0,r.QD)("li",{class:"breadcrumb-item active","aria-current":"page"},"Profile",-1))]),a[15]||(a[15]=(0,r.QD)("h4",{class:"main-title mb-2"},"Profile",-1))]),(0,r.QD)("div",Ja,[(0,r.QD)("div",Ga,[(0,r.QD)("div",Xa,[a[16]||(a[16]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Avatar")],-1)),(0,r.QD)("div",es,[(0,r.QD)("div",as,[(0,r.QD)("img",{class:"mb-2",width:"100",src:i.user?.avatar},null,8,ss),(0,r.QD)("input",{type:"file",class:"form-control m-auto",id:"customFile",onChange:a[0]||(a[0]=e=>o.onImageChange(e)),accept:"image/*",style:{width:"98px"}},null,32)])])])]),(0,r.QD)("div",ts,[(0,r.QD)("form",{onSubmit:a[5]||(a[5]=(0,t.Y7)(((...e)=>o.updateProfile&&o.updateProfile(...e)),["prevent"]))},[(0,r.QD)("div",rs,[a[24]||(a[24]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Update Profile")],-1)),(0,r.QD)("div",ls,[(0,r.QD)("div",is,[(0,r.QD)("div",os,[a[17]||(a[17]=(0,r.QD)("label",{class:"form-label"},"Name",-1)),a[18]||(a[18]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Name",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.name}]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.user.name=e),ref:"name"},null,2),[[t.Og,i.user.name]]),i.errors.name?((0,r.Wz)(),(0,r.An)("span",ns,(0,d.WA)(i.errors.name[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",ds,[a[19]||(a[19]=(0,r.QD)("label",{class:"form-label"},"Email",-1)),a[20]||(a[20]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"email",placeholder:"Email",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.email}]),"onUpdate:modelValue":a[2]||(a[2]=e=>i.user.email=e)},null,2),[[t.Og,i.user.email]]),i.errors.email?((0,r.Wz)(),(0,r.An)("span",cs,(0,d.WA)(i.errors.email[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",us,[a[21]||(a[21]=(0,r.QD)("label",{class:"form-label"},"Mobile No.",-1)),a[22]||(a[22]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Mobile No.",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.mobile_no}]),"onUpdate:modelValue":a[3]||(a[3]=e=>i.user.mobile_no=e)},null,2),[[t.Og,i.user.mobile_no]]),i.errors.mobile_no?((0,r.Wz)(),(0,r.An)("span",ps,(0,d.WA)(i.errors.mobile_no[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",ms,[a[23]||(a[23]=(0,r.QD)("label",{class:"form-label"},"Address",-1)),(0,r.wt)((0,r.QD)("textarea",{type:"text",placeholder:"Address",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.address}]),"onUpdate:modelValue":a[4]||(a[4]=e=>i.user.address=e)},null,2),[[t.Og,i.user.address]]),i.errors.address?((0,r.Wz)(),(0,r.An)("span",_s,(0,d.WA)(i.errors.address[0]),1)):(0,r.g1)("",!0)])])]),a[25]||(a[25]=(0,r.QD)("div",{class:"card-footer text-end"},[(0,r.QD)("button",{type:"submit",class:"btn btn-primary"},[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"}),(0,r.mY)(" Update")])],-1))])],32)]),(0,r.QD)("div",hs,[(0,r.QD)("div",bs,[(0,r.QD)("form",{onSubmit:a[12]||(a[12]=(0,t.Y7)(((...e)=>o.updatePassword&&o.updatePassword(...e)),["prevent"]))},[a[32]||(a[32]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Change Password")],-1)),(0,r.QD)("div",vs,[(0,r.QD)("div",ys,[(0,r.QD)("div",gs,[a[26]||(a[26]=(0,r.QD)("label",{class:"form-label"},"Current Password",-1)),a[27]||(a[27]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"password",placeholder:"Current Password",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.current_password}]),"onUpdate:modelValue":a[6]||(a[6]=e=>i.user.current_password=e),onKeyup:a[7]||(a[7]=e=>o.test(i.user.current_password,"current_password"))},null,34),[[t.Og,i.user.current_password]]),i.errors.current_password?((0,r.Wz)(),(0,r.An)("span",Ds,(0,d.WA)(i.errors.current_password[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",Qs,[a[28]||(a[28]=(0,r.QD)("label",{class:"form-label"},"New Password",-1)),a[29]||(a[29]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"password",placeholder:"New Password",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.new_password}]),"onUpdate:modelValue":a[8]||(a[8]=e=>i.user.new_password=e),onKeyup:a[9]||(a[9]=e=>o.test(i.user.new_password,"new_password"))},null,34),[[t.Og,i.user.new_password]]),i.errors.new_password?((0,r.Wz)(),(0,r.An)("span",fs,(0,d.WA)(i.errors.new_password[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",ks,[a[30]||(a[30]=(0,r.QD)("label",{class:"form-label"},"Confirm Password",-1)),a[31]||(a[31]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"password",placeholder:"Confirm Password",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.confirm_password}]),"onUpdate:modelValue":a[10]||(a[10]=e=>i.user.confirm_password=e),onKeyup:a[11]||(a[11]=e=>o.test(i.user.confirm_password,"confirm_password"))},null,34),[[t.Og,i.user.confirm_password]]),i.errors.confirm_password?((0,r.Wz)(),(0,r.An)("span",ws,(0,d.WA)(i.errors.confirm_password[0]),1)):(0,r.g1)("",!0)])])]),a[33]||(a[33]=(0,r.QD)("div",{class:"card-footer text-end"},[(0,r.QD)("button",{type:"submit",class:"btn btn-primary"},[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"}),(0,r.mY)(" Update")])],-1))],32)])])])])}var Ws={name:"Profile",data(){return{status:!0,image:null,user:{user_id:"",name:"",username:"",email:"",avatar:"",role_id:"",role:{role:""},mobile_no:"",address:"",current_password:"",new_password:"",confirm_password:""},roles:[],users:[],errors:[]}},beforeRouteEnter(e,a,s){s((e=>{e.getRoles(),e.user.user_id=e.$store.getters.user?.user_id,e.$refs.name.focus();let a=e.$loading.show(),s={uri:"me",data:e.user};e.$store.dispatch("post",s).then((function(s){a.hide(),e.user=s.data.data})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))}))},methods:{getRoles(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getRoles"}).then((s=>{a.hide(),e.roles=s.data.data})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},test(e,a){let s=this;"current_password"==a&&(s.errors.current_password=""),"new_password"==a&&(s.errors.new_password=""),"confirm_password"==a&&(s.errors.confirm_password="")},updateProfile(){let e=this,a=e.$loading.show(),s=new FormData;s.append("user_id",e.user.user_id),s.append("name",e.user.name),s.append("email",e.user.email),s.append("mobile_no",e.user.mobile_no),s.append("avatar",e.image),s.append("role_id",e.user.role_id),s.append("address",e.user.address),e.$store.dispatch("post",{uri:"updateProfile",data:s}).then((function(s){a.hide(),e.$store.dispatch("success","Profile is successfully updated"),e.$store.dispatch("setUser",s.data.data),e.errors=[]})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},updatePassword(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"changePassword",data:e.user}).then((function(){a.hide(),e.$store.dispatch("success","Password is successfully updated"),e.user.current_password="",e.user.new_password="",e.user.confirm_password=""})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},onImageChange(e){e.preventDefault();let a=this;a.image=e.target.files[0];let s=new FileReader;s.readAsDataURL(a.image),s.onload=e=>{a.user.avatar=e.target.result}}}};const zs=(0,Ce.c)(Ws,[["render",As],["__scopeId","data-v-51605a4c"]]);var xs=zs;const Ps={class:"page-auth"},Cs={class:"content"},$s={class:"container"},Ss={class:"card card-auth"},Us={class:"card-body text-center"},Vs={class:"row g-2"},js={class:"col-sm-8"},Ys={key:0,class:"invalid-feedback"};function Ts(e,a,s,l,i,o){return(0,r.Wz)(),(0,r.An)("div",Ps,[(0,r.QD)("div",Cs,[(0,r.QD)("div",$s,[(0,r.QD)("form",{autocomplete:"off",onSubmit:a[1]||(a[1]=(0,t.Y7)(((...e)=>o.forgotPassword&&o.forgotPassword(...e)),["prevent"]))},[(0,r.QD)("div",Ss,[(0,r.QD)("div",Us,[a[3]||(a[3]=(0,r.QD)("div",{class:"mb-3"},[(0,r.QD)("img",{src:c,class:"img",width:"100"})],-1)),a[4]||(a[4]=(0,r.QD)("h3",{class:"card-title"},"Forgot your password",-1)),a[5]||(a[5]=(0,r.QD)("p",{class:"card-text mb-3"},"Enter your email address and we will send you a OTP to reset your password.",-1)),(0,r.QD)("div",Vs,[(0,r.QD)("div",js,[(0,r.wt)((0,r.QD)("input",{type:"email",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.error}]),placeholder:"Enter email","onUpdate:modelValue":a[0]||(a[0]=e=>i.user.email=e),ref:"email"},null,2),[[t.Og,i.user.email]]),i.errors.error?((0,r.Wz)(),(0,r.An)("span",Ys,(0,d.WA)(i.errors.error),1)):(0,r.g1)("",!0)]),a[2]||(a[2]=(0,r.QD)("div",{class:"col-sm-4"},[(0,r.QD)("button",{method:"submit",class:"btn btn-primary"},"Request OTP")],-1))])])])],32)])])])}var Ns={name:"ForgotPassword",data(){return{user:{email:""},errors:[]}},mounted(){this.$refs.email.focus()},methods:{forgotPassword(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"forgotPassword",data:e.user}).then((function(s){a.hide(),e.$store.dispatch("success",s.data.success),e.$router.push("/reset_password")})).catch((function(s){a.hide(),e.errors=s.response.data,e.$store.dispatch("error",s.response.data.message)}))}}};const Rs=(0,Ce.c)(Ns,[["render",Ts]]);var qs=Rs;const Es={class:"page-sign"},Ks={class:"card card-sign"},Is={class:"card-body"},Fs={class:"mb-3"},Os={key:0,class:"invalid-feedback"},Ls={class:"mb-3"},Bs={key:0,class:"invalid-feedback"},Ms={class:"mb-3"},Zs={key:0,class:"invalid-feedback"},Hs={class:"mb-3"},Js={key:0,class:"invalid-feedback"},Gs={class:"text-center"};function Xs(e,a,s,l,i,o){const n=(0,r.E1)("router-link");return(0,r.Wz)(),(0,r.An)("div",Es,[(0,r.QD)("div",Ks,[a[12]||(a[12]=(0,r.IL)('<div class="card-header d-flex flex-column align-items-center"><div class="mb-2"><img src="'+c+'" class="img" width="180"></div><a href="javascript:void(0)" class="header-logo mb-2" style="font-size:25px;width:350px;display:inline-block;white-space:nowrap;">Refractory Management System</a><h3 class="card-title text-center">Reset Your Password</h3><p class="card-text text-center">Enter the otp and reset your password here.</p></div>',1)),(0,r.QD)("div",Is,[(0,r.QD)("form",{onSubmit:a[4]||(a[4]=(0,t.Y7)((e=>o.resetPassword()),["prevent"]))},[(0,r.QD)("div",Fs,[a[5]||(a[5]=(0,r.QD)("label",{class:"form-label d-flex justify-content-between"},"Email",-1)),(0,r.wt)((0,r.QD)("input",{type:"email",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.email}]),placeholder:"Enter your Email","onUpdate:modelValue":a[0]||(a[0]=e=>i.user.email=e),ref:"email"},null,2),[[t.Og,i.user.email]]),i.errors.email?((0,r.Wz)(),(0,r.An)("span",Os,(0,d.WA)(i.errors.email[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",Ls,[a[6]||(a[6]=(0,r.QD)("label",{class:"form-label d-flex justify-content-between"},"OTP",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.otp}]),placeholder:"Enter your OTP","onUpdate:modelValue":a[1]||(a[1]=e=>i.user.otp=e)},null,2),[[t.Og,i.user.otp]]),i.errors.otp?((0,r.Wz)(),(0,r.An)("span",Bs,(0,d.WA)(i.errors.otp[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",Ms,[a[7]||(a[7]=(0,r.QD)("label",{class:"form-label d-flex justify-content-between"},"Password",-1)),(0,r.wt)((0,r.QD)("input",{type:"password",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.password}]),placeholder:"Enter your password","onUpdate:modelValue":a[2]||(a[2]=e=>i.user.password=e)},null,2),[[t.Og,i.user.password]]),i.errors.password?((0,r.Wz)(),(0,r.An)("span",Zs,(0,d.WA)(i.errors.password[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",Hs,[a[8]||(a[8]=(0,r.QD)("label",{class:"form-label d-flex justify-content-between"},"Confirm Password",-1)),(0,r.wt)((0,r.QD)("input",{type:"password",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.confirm_password}]),placeholder:"Confirm your password","onUpdate:modelValue":a[3]||(a[3]=e=>i.user.confirm_password=e)},null,2),[[t.Og,i.user.confirm_password]]),i.errors.confirm_password?((0,r.Wz)(),(0,r.An)("span",Js,(0,d.WA)(i.errors.confirm_password[0]),1)):(0,r.g1)("",!0)]),a[11]||(a[11]=(0,r.QD)("div",{class:"row mb-2"},[(0,r.QD)("div",{class:"col-12"},[(0,r.QD)("button",{method:"submit",class:"btn btn-primary btn-blosignck"},"Reset Password")])],-1)),(0,r.QD)("div",Gs,[a[10]||(a[10]=(0,r.mY)(" Not you? ")),(0,r.K2)(n,{to:"/"},{default:(0,r.Ql)((()=>a[9]||(a[9]=[(0,r.mY)("Sign in with different account")]))),_:1})])],32)])])])}var et={name:"reset_password",data(){return{user:{email:"",otp:"",password:"",confirm_password:""},errors:[]}},mounted(){this.$refs.email.focus()},methods:{resetPassword(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"resetPassword",data:e.user}).then((function(){a.hide(),e.$store.dispatch("success","Password has been reset successfully"),e.$router.push("/")})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))}}};const at=(0,Ce.c)(et,[["render",Xs]]);var st=at;const tt={class:""},rt={class:"breadcrumb fs-sm mb-1"},lt={class:"breadcrumb-item"},it={class:"row g-2"},ot={class:"col-4"},nt={class:"card card-one"},dt={class:"card-header d-flex justify-content-between"},ct={key:0,class:"card-title"},ut={key:1,class:"card-title"},pt={class:"card-body"},mt={class:"row g-2"},_t={class:"col-md-12"},ht={key:0,class:"invalid-feedback"},bt={class:"col-md-12"},vt={key:0,class:"invalid-feedback"},yt={class:"card-footer text-end"},gt={type:"submit",class:"btn btn-primary"},Dt={key:0},Qt={key:1},ft={class:"card card-one"},kt={class:"card-body"},wt={class:"table-responsive table-responsive-sm"},At={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},Wt={class:"",style:{"background-color":"#9b9b9b",color:"white"}},zt={key:0,class:"ri-arrow-up-line"},xt={key:1,class:"ri-arrow-down-line"},Pt={key:2,class:"fas fa-sort"},Ct={key:0,class:"ri-arrow-up-line"},$t={key:1,class:"ri-arrow-down-line"},St={key:2,class:"fas fa-sort"},Ut={key:0},Vt={class:"text-center"},jt={class:"text-center"},Yt={class:"form-switch"},Tt=["id","checked","value","onChange"],Nt=["for"],Rt={class:"text-center"},qt=["onClick"],Et={class:"card-footer"},Kt={class:"d-flex justify-content-between align-items-center"};function It(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("Pagination");return(0,r.Wz)(),(0,r.An)("div",tt,[(0,r.QD)("div",null,[(0,r.QD)("ol",rt,[(0,r.QD)("li",lt,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[10]||(a[10]=[(0,r.mY)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.QD)("li",{class:"breadcrumb-item active","aria-current":"page"},"Lists",-1))]),a[12]||(a[12]=(0,r.QD)("h4",{class:"main-title mb-2"},"Lists",-1))]),(0,r.QD)("div",it,[(0,r.QD)("div",ot,[(0,r.QD)("form",{onSubmit:a[3]||(a[3]=(0,t.Y7)((e=>o.submitForm()),["prevent"]))},[(0,r.QD)("div",nt,[(0,r.QD)("div",dt,[i.status?((0,r.Wz)(),(0,r.An)("h6",ct,"Add List")):((0,r.Wz)(),(0,r.An)("h6",ut,"Update List"))]),(0,r.QD)("div",pt,[(0,r.QD)("div",mt,[(0,r.QD)("div",_t,[a[13]||(a[13]=(0,r.QD)("label",{class:"form-label"},"List Parameter Name",-1)),a[14]||(a[14]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"List Parameter Name",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.list_parameter_name}]),"onUpdate:modelValue":a[0]||(a[0]=e=>i.list.list_parameter_name=e),ref:"list_parameter_name"},null,2),[[t.Og,i.list.list_parameter_name]]),i.errors.list_parameter_name?((0,r.Wz)(),(0,r.An)("span",ht,(0,d.WA)(i.errors.list_parameter_name[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",bt,[a[15]||(a[15]=(0,r.QD)("label",{class:"form-label"},"Field Values",-1)),a[16]||(a[16]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("textarea",{rows:"2",type:"text",placeholder:"Enter Field Values",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.field_values}]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.list.field_values=e)},null,2),[[t.Og,i.list.field_values]]),i.errors.field_values?((0,r.Wz)(),(0,r.An)("span",vt,(0,d.WA)(i.errors.field_values[0]),1)):(0,r.g1)("",!0)])])]),(0,r.QD)("div",yt,[(0,r.QD)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[2]||(a[2]=e=>o.discard())},a[17]||(a[17]=[(0,r.QD)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.mY)(" Discard")])),(0,r.QD)("button",gt,[i.status?((0,r.Wz)(),(0,r.An)("span",Dt,a[18]||(a[18]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Submit")]))):((0,r.Wz)(),(0,r.An)("span",Qt,a[19]||(a[19]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Update")])))])])])],32)]),(0,r.QD)("div",{class:(0,d.WN)(i.column)},[(0,r.QD)("div",ft,[a[28]||(a[28]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Lists")],-1)),(0,r.QD)("div",kt,[(0,r.wt)((0,r.QD)("input",{class:"form-control mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[4]||(a[4]=e=>i.meta.search=e),onKeypress:a[5]||(a[5]=(0,t.jj)((e=>o.search()),["enter"]))},null,544),[[t.Og,i.meta.search]]),(0,r.QD)("div",wt,[(0,r.QD)("table",At,[(0,r.QD)("thead",null,[(0,r.QD)("tr",Wt,[a[22]||(a[22]=(0,r.QD)("th",{class:"text-center"},"#",-1)),(0,r.QD)("th",{onClick:a[6]||(a[6]=e=>o.sort("list_parameter_name"))},[a[20]||(a[20]=(0,r.mY)("List Parameter Name ")),(0,r.QD)("span",null,["list_parameter_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",zt)):"list_parameter_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",xt)):((0,r.Wz)(),(0,r.An)("i",Pt))])]),(0,r.QD)("th",{onClick:a[7]||(a[7]=e=>o.sort("field_values"))},[a[21]||(a[21]=(0,r.mY)("Field Values ")),(0,r.QD)("span",null,["field_values"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Ct)):"field_values"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",$t)):((0,r.Wz)(),(0,r.An)("i",St))])]),a[23]||(a[23]=(0,r.QD)("th",{class:"text-center"},"Status",-1)),a[24]||(a[24]=(0,r.QD)("th",{class:"text-center"},"Actions",-1))])]),(0,r.QD)("tbody",null,[0==i.lists.length?((0,r.Wz)(),(0,r.An)("tr",Ut,a[25]||(a[25]=[(0,r.QD)("td",{colspan:"6",class:"text-center"},"No records found",-1)]))):(0,r.g1)("",!0),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.lists,((e,s)=>((0,r.Wz)(),(0,r.An)("tr",{key:s},[(0,r.QD)("td",Vt,(0,d.WA)(i.meta.from+s),1),(0,r.QD)("td",null,(0,d.WA)(e.list_parameter_name),1),(0,r.QD)("td",null,(0,d.WA)(e.field_values),1),(0,r.QD)("td",jt,[(0,r.QD)("div",Yt,[(0,r.QD)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"list"+e.list_parameter_id,checked:e.status,value:e.status,onChange:a=>o.deleteList(e)},null,40,Tt),(0,r.QD)("label",{class:"custom-control-label",for:"list"+e.list_parameter_id},null,8,Nt)])]),(0,r.QD)("td",Rt,[e.status?((0,r.Wz)(),(0,r.An)("a",{key:0,href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editList(e)},a[26]||(a[26]=[(0,r.QD)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,qt)):(0,r.g1)("",!0)])])))),128))])])])]),(0,r.QD)("div",Et,[(0,r.QD)("div",Kt,[(0,r.wt)((0,r.QD)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.per_page=e),onChange:a[9]||(a[9]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[27]||(a[27]=[(0,r.QD)("option",null,"10",-1),(0,r.QD)("option",null,"15",-1),(0,r.QD)("option",null,"20",-1),(0,r.QD)("option",null,"25",-1),(0,r.QD)("option",null,"30",-1)]),544),[[t.Ip,i.meta.per_page]]),(0,r.QD)("span",null,"Showing "+(0,d.WA)(i.meta.from)+" to "+(0,d.WA)(i.meta.to)+" of "+(0,d.WA)(i.meta.totalRows)+" entries",1),(0,r.K2)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])],2)])])}const Ft={class:"pagination pagination-space justify-content-end mb-0"},Ot=["onClick","disabled"];function Lt(e,a,s,l,i,o){return(0,r.Wz)(),(0,r.An)("ul",Ft,[(0,r.QD)("li",{class:(0,d.WN)(["page-item",{disabled:o.isInFirstPage}])},[(0,r.QD)("button",{type:"button",class:"page-link",onClick:a[0]||(a[0]=(0,t.Y7)(((...e)=>o.onClickFirstPage&&o.onClickFirstPage(...e)),["prevent"]))}," First ")],2),(0,r.QD)("li",{class:(0,d.WN)(["page-item",{disabled:o.isInFirstPage}])},[(0,r.QD)("button",{type:"button",class:"page-link",onClick:a[1]||(a[1]=(0,t.Y7)(((...e)=>o.onClickPreviousPage&&o.onClickPreviousPage(...e)),["prevent"]))}," Previous ")],2),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(o.pages,((e,a)=>((0,r.Wz)(),(0,r.An)("li",{class:(0,d.WN)(["page-item",{active:o.isPageActive(e.name)}]),key:a},[(0,r.QD)("button",{type:"button",class:"page-link",onClick:(0,t.Y7)((a=>o.onClickPage(e.name)),["prevent"]),disabled:e.isDisabled},(0,d.WA)(e.name),9,Ot)],2)))),128)),(0,r.QD)("li",{class:(0,d.WN)(["page-item",{disabled:o.isInLastPage}])},[(0,r.QD)("button",{type:"button",class:"page-link",onClick:a[2]||(a[2]=(0,t.Y7)(((...e)=>o.onClickNextPage&&o.onClickNextPage(...e)),["prevent"]))}," Next ")],2),(0,r.QD)("li",{class:(0,d.WN)(["page-item",{disabled:o.isInLastPage}])},[(0,r.QD)("button",{type:"button",class:"page-link",onClick:a[3]||(a[3]=(0,t.Y7)(((...e)=>o.onClickLastPage&&o.onClickLastPage(...e)),["prevent"]))}," Last ")],2)])}var Bt={name:"Pagination",props:{maxPage:{type:Number,required:!0},totalPages:{type:Number,required:!0},currentPage:{type:Number,required:!0}},computed:{startPage(){return 1===this.currentPage?1:this.currentPage===this.totalPages?this.totalPages-this.maxPage+1:this.currentPage-1},endPage(){return Math.min(this.startPage+this.maxPage-1,this.totalPages)},pages(){const e=[];for(let a=this.startPage;a<=this.endPage;a+=1)e.push({name:a,isDisabled:a===this.currentPage});return e},isInFirstPage(){return 1===this.currentPage},isInLastPage(){return this.currentPage===this.totalPages}},methods:{onClickFirstPage(){this.$emit("pagechanged",1)},onClickPreviousPage(){this.$emit("pagechanged",this.currentPage-1)},onClickPage(e){this.$emit("pagechanged",e)},onClickNextPage(){this.$emit("pagechanged",this.currentPage+1)},onClickLastPage(){this.$emit("pagechanged",this.totalPages)},isPageActive(e){return this.currentPage===e}}};const Mt=(0,Ce.c)(Bt,[["render",Lt]]);var Zt=Mt,Ht={components:{Pagination:Zt},data(){return{column:"col-8",meta:{search:"",order_by:"asc",keyword:"list_parameter_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},lists:[],list:{list_parameter_id:"",list_parameter_name:"",field_values:"",status:""},status:!0,errors:[]}},mounted(){this.index(),this.$refs.list_parameter_name.focus()},methods:{submitForm(){let e=this;e.status?e.addList():e.updateList()},index(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"paginateListParameters",data:e.meta}).then((s=>{a.hide(),e.lists=s.data.data,e.meta.totalRows=s.data.meta.total,e.meta.from=s.data.meta.from,e.meta.lastPage=s.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},addList(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"addListParameter",data:e.list}).then((e=>{a.hide(),this.$store.dispatch("success",e.data.message),this.discard()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},deleteList(e){let a=this;e.status=1==e.status?0:1,a.$store.dispatch("post",{uri:"deleteListParameter",data:e}).then((function(e){a.$store.dispatch("success",e.data.message),a.discard()})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},editList(e){this.list=e,this.status=!1,this.$refs.list_parameter_name.focus()},updateList(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"updateListParameter",data:this.list}).then((e=>{a.hide(),this.$store.dispatch("success",e.data.message),this.discard()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},discard(){let e=this;e.list.list_parameter_name="",e.list.field_values="",e.$refs.list_parameter_name.focus(),e.errors=[],e.status=!0,e.index()},search(){let e=this;e.meta.page=1,e.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const Jt=(0,Ce.c)(Ht,[["render",It]]);var Gt=Jt;const Xt={class:""},er={class:"breadcrumb fs-sm mb-1"},ar={class:"breadcrumb-item"},sr={class:"row g-2"},tr={class:"col-4"},rr={class:"card card-one"},lr={class:"card-header d-flex justify-content-between"},ir={key:0,class:"card-title"},or={key:1,class:"card-title"},nr={class:"card-body"},dr={class:"row g-2"},cr={class:"col-md-12"},ur={key:0,class:"invalid-feedback"},pr={class:"col-md-12"},mr={key:0,class:"invalid-feedback"},_r={class:"col-md-12"},hr={key:0,class:"invalid-feedback"},br={class:"col-md-12"},vr={key:0,class:"invalid-feedback"},yr={class:"card-footer text-end"},gr={type:"submit",class:"btn btn-primary"},Dr={key:0},Qr={key:1},fr={class:"card card-one"},kr={class:"card-body"},wr={class:"table-responsive table-responsive-sm"},Ar={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},Wr={class:"",style:{"background-color":"#9b9b9b",color:"white"}},zr={key:0,class:"ri-arrow-up-line"},xr={key:1,class:"ri-arrow-down-line"},Pr={key:2,class:"fas fa-sort"},Cr={key:0,class:"ri-arrow-up-line"},$r={key:1,class:"ri-arrow-down-line"},Sr={key:2,class:"fas fa-sort"},Ur={key:0,class:"ri-arrow-up-line"},Vr={key:1,class:"ri-arrow-down-line"},jr={key:2,class:"fas fa-sort"},Yr={key:0,class:"ri-arrow-up-line"},Tr={key:1,class:"ri-arrow-down-line"},Nr={key:2,class:"fas fa-sort"},Rr={class:"text-center"},qr={class:"text-center"},Er={key:0},Kr={class:"text-center"},Ir={class:"text-center"},Fr={class:"form-switch"},Or=["id","checked","value","onChange"],Lr=["for"],Br={class:"text-center"},Mr=["onClick"],Zr={class:"card-footer"},Hr={class:"d-flex justify-content-between align-items-center"};function Jr(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("search"),u=(0,r.E1)("Pagination"),p=(0,r.iS)("can");return(0,r.Wz)(),(0,r.An)("div",Xt,[(0,r.QD)("div",null,[(0,r.QD)("ol",er,[(0,r.QD)("li",ar,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[14]||(a[14]=[(0,r.mY)("Dashboard")]))),_:1})]),a[15]||(a[15]=(0,r.QD)("li",{class:"breadcrumb-item"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Masters")],-1)),a[16]||(a[16]=(0,r.QD)("li",{class:"breadcrumb-item active","aria-current":"page"},"Equipments",-1))]),a[17]||(a[17]=(0,r.QD)("h4",{class:"main-title mb-2"},"Equipments",-1))]),(0,r.QD)("div",sr,[(0,r.wt)(((0,r.Wz)(),(0,r.An)("div",tr,[(0,r.QD)("form",{onSubmit:a[5]||(a[5]=(0,t.Y7)((e=>o.submitForm()),["prevent"]))},[(0,r.QD)("div",rr,[(0,r.QD)("div",lr,[i.status?((0,r.Wz)(),(0,r.An)("h6",ir,"Add Equipment")):((0,r.Wz)(),(0,r.An)("h6",or,"Update Equipment"))]),(0,r.QD)("div",nr,[(0,r.QD)("div",dr,[(0,r.QD)("div",cr,[a[18]||(a[18]=(0,r.QD)("label",{class:"form-label"},"Equipment Type",-1)),a[19]||(a[19]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.K2)(c,{ref:"equipment_type_id",class:(0,d.WN)({"is-invalid":i.errors.equipment_type_id}),customClass:{"is-invalid":i.errors.equipment_type_id},initialize:i.equipment.equipment_type_id,id:"equipment_type_id",label:"equipment_type_name",placeholder:"Select Equipment_type",data:i.equipment_types,onInput:a[0]||(a[0]=e=>i.equipment.equipment_type_id=e)},null,8,["class","customClass","initialize","data"]),i.errors.equipment_type_id?((0,r.Wz)(),(0,r.An)("span",ur,(0,d.WA)(i.errors.equipment_type_id[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",pr,[a[20]||(a[20]=(0,r.QD)("label",{class:"form-label"},"Equipment Code",-1)),a[21]||(a[21]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Enter Equipment Code",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.equipment_code}]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.equipment.equipment_code=e)},null,2),[[t.Og,i.equipment.equipment_code]]),i.errors.equipment_code?((0,r.Wz)(),(0,r.An)("span",mr,(0,d.WA)(i.errors.equipment_code[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",_r,[a[22]||(a[22]=(0,r.QD)("label",{class:"form-label"},"Equipment Name",-1)),a[23]||(a[23]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Enter equipment name",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.equipment_name}]),"onUpdate:modelValue":a[2]||(a[2]=e=>i.equipment.equipment_name=e)},null,2),[[t.Og,i.equipment.equipment_name]]),i.errors.equipment_name?((0,r.Wz)(),(0,r.An)("span",hr,(0,d.WA)(i.errors.equipment_name[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",br,[a[24]||(a[24]=(0,r.QD)("label",{class:"form-label"},"Description",-1)),(0,r.wt)((0,r.QD)("textarea",{placeholder:"Enter description",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.description}]),"onUpdate:modelValue":a[3]||(a[3]=e=>i.equipment.description=e)},null,2),[[t.Og,i.equipment.description]]),i.errors.description?((0,r.Wz)(),(0,r.An)("span",vr,(0,d.WA)(i.errors.description[0]),1)):(0,r.g1)("",!0)])])]),(0,r.QD)("div",yr,[(0,r.QD)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[4]||(a[4]=e=>o.discard())},a[25]||(a[25]=[(0,r.QD)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.mY)(" Discard")])),(0,r.QD)("button",gr,[i.status?((0,r.Wz)(),(0,r.An)("span",Dr,a[26]||(a[26]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Submit")]))):((0,r.Wz)(),(0,r.An)("span",Qr,a[27]||(a[27]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Update")])))])])])],32)])),[[p,"equipment.create"]]),(0,r.QD)("div",{class:(0,d.WN)(i.column)},[(0,r.QD)("div",fr,[a[38]||(a[38]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Equipments")],-1)),(0,r.QD)("div",kr,[(0,r.wt)((0,r.QD)("input",{class:"form-control mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[6]||(a[6]=e=>i.meta.search=e),onKeypress:a[7]||(a[7]=(0,t.jj)((e=>o.search()),["enter"]))},null,544),[[t.Og,i.meta.search]]),(0,r.QD)("div",wr,[(0,r.QD)("table",Ar,[(0,r.QD)("thead",null,[(0,r.QD)("tr",Wr,[a[34]||(a[34]=(0,r.QD)("th",{class:"text-center"},"#",-1)),(0,r.QD)("th",{onClick:a[8]||(a[8]=e=>o.sort("equipment_type_id"))},[a[28]||(a[28]=(0,r.mY)("Equipment Type ")),(0,r.QD)("span",null,["equipment_type_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",zr)):"equipment_type_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",xr)):((0,r.Wz)(),(0,r.An)("i",Pr))])]),(0,r.QD)("th",{onClick:a[9]||(a[9]=e=>o.sort("equipment_code"))},[a[29]||(a[29]=(0,r.mY)("Equipment Code ")),(0,r.QD)("span",null,["equipment_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Cr)):"equipment_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",$r)):((0,r.Wz)(),(0,r.An)("i",Sr))])]),(0,r.QD)("th",{onClick:a[10]||(a[10]=e=>o.sort("equipment_name"))},[a[30]||(a[30]=(0,r.mY)("Equipment Name ")),(0,r.QD)("span",null,["equipment_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Ur)):"equipment_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Vr)):((0,r.Wz)(),(0,r.An)("i",jr))])]),(0,r.QD)("th",{onClick:a[11]||(a[11]=e=>o.sort("description"))},[a[31]||(a[31]=(0,r.mY)("Description ")),(0,r.QD)("span",null,["description"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Yr)):"description"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Tr)):((0,r.Wz)(),(0,r.An)("i",Nr))])]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("th",Rr,a[32]||(a[32]=[(0,r.mY)("Status")]))),[[p,"equipment.delete"]]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("th",qr,a[33]||(a[33]=[(0,r.mY)("Actions")]))),[[p,"equipment.update"]])])]),(0,r.QD)("tbody",null,[0==i.equipments.length?((0,r.Wz)(),(0,r.An)("tr",Er,a[35]||(a[35]=[(0,r.QD)("td",{colspan:"6",class:"text-center"},"No records found",-1)]))):(0,r.g1)("",!0),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.equipments,((e,s)=>((0,r.Wz)(),(0,r.An)("tr",{key:s},[(0,r.QD)("td",Kr,(0,d.WA)(i.meta.from+s),1),(0,r.QD)("td",null,(0,d.WA)(e.equipment_type?.equipment_type_name),1),(0,r.QD)("td",null,(0,d.WA)(e.equipment_code),1),(0,r.QD)("td",null,(0,d.WA)(e.equipment_name),1),(0,r.QD)("td",null,(0,d.WA)(e.description),1),(0,r.wt)(((0,r.Wz)(),(0,r.An)("td",Ir,[(0,r.QD)("div",Fr,[(0,r.QD)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"equipment"+e.equipment_id,checked:e.status,value:e.status,onChange:a=>o.deleteEquipment(e)},null,40,Or),(0,r.QD)("label",{class:"custom-control-label",for:"equipment"+e.equipment_id},null,8,Lr)])])),[[p,"equipment.delete"]]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("td",Br,[e.status?((0,r.Wz)(),(0,r.An)("a",{key:0,href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editEquipment(e)},a[36]||(a[36]=[(0,r.QD)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,Mr)):(0,r.g1)("",!0)])),[[p,"equipment.update"]])])))),128))])])])]),(0,r.QD)("div",Zr,[(0,r.QD)("div",Hr,[(0,r.wt)((0,r.QD)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[12]||(a[12]=e=>i.meta.per_page=e),onChange:a[13]||(a[13]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[37]||(a[37]=[(0,r.QD)("option",null,"10",-1),(0,r.QD)("option",null,"15",-1),(0,r.QD)("option",null,"20",-1),(0,r.QD)("option",null,"25",-1),(0,r.QD)("option",null,"30",-1)]),544),[[t.Ip,i.meta.per_page]]),(0,r.QD)("span",null,"Showing "+(0,d.WA)(i.meta.from)+" to "+(0,d.WA)(i.meta.to)+" of "+(0,d.WA)(i.meta.totalRows)+" entries",1),(0,r.K2)(u,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])],2)])])}var Gr=s(1540),Xr={components:{Pagination:Zt,Search:Gr.c},data(){return{column:"col-8",meta:{search:"",order_by:"asc",keyword:"equipment_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,maxPage:1},equipments:[],equipment:{equipment_id:"",equipment_type_id:"",equipment_code:"",equipment_name:"",description:"",status:""},errors:[],status:!0,equipment_types:[]}},mounted(){this.create_equipment=this.$store.getters.permissions.filter((function(e){return e.ability.ability.includes("equipment.create")})),this.create_equipment.length?this.column="col-8":this.column="col-12",this.index(),this.getEquipmentTypes()},methods:{submitForm(){let e=this;e.status?e.addEquipment():e.updateEquipment()},index(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"paginateEquipment",data:e.meta}).then((s=>{a.hide(),this.equipments=s.data.data,this.meta.totalRows=s.data.meta.total,this.meta.from=s.data.meta.from,this.meta.lastPage=s.data.meta.last_page,this.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},addEquipment(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"addEquipment",data:e.equipment}).then((s=>{a.hide(),e.$store.dispatch("success",s.data.message),e.discard()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},deleteEquipment(e){let a=this;e.status=1==e.status?0:1,a.$store.dispatch("post",{uri:"deleteEquipment",data:e}).then((function(e){a.$store.dispatch("success",e.data.message),a.discard()})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},editEquipment(e){this.equipment=e,this.status=!1,this.errors=[]},updateEquipment(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"updateEquipment",data:this.equipment}).then((e=>{a.hide(),this.$store.dispatch("success",e.data.message),this.discard(),this.index()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getEquipmentTypes(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getEquipmentTypes"}).then((s=>{a.hide(),e.equipment_types=s.data.data})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},discard(){let e=this;e.equipment={},e.equipment.equipment_type_id="",e.errors=[],e.status=!0,e.index()},search(){let e=this;e.meta.page=1,e.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()},generateBarCode(e){this.equipment.equipment_code=e;var a="https://api.qrserver.com/v1/create-qr-code/?data="+e+"&amp;size=50x50";$("#barcode").attr("src",a)}}};const el=(0,Ce.c)(Xr,[["render",Jr]]);var al=el;const sl={class:""},tl={class:"d-sm-flex align-items-center justify-content-between mb-2"},rl={class:"breadcrumb fs-sm mb-1"},ll={class:"breadcrumb-item","aria-current":"page"},il={class:"breadcrumb-item","aria-current":"page"},ol={key:0,class:"breadcrumb-item","aria-current":"page"},nl={key:1,class:"breadcrumb-item active","aria-current":"page"},dl={class:"row"},cl={class:"col-12"},ul={class:"card card-one"},pl={class:"card-header d-flex justify-content-between"},ml={key:0,class:"card-title"},_l={key:1,class:"card-title"},hl={class:"card-body"},bl={class:"card mb-3"},vl={class:"card-body"},yl={class:"row g-2"},gl={class:"col-md-4"},Dl={key:0,class:"invalid-feedback"},Ql={class:"col-md-4"},fl={key:0,class:"invalid-feedback"},kl={class:"col-md-4"},wl={key:0,class:"invalid-feedback"},Al={class:"card mb-3"},Wl={class:"card-body"},zl={class:"row g-2"},xl={class:"col-md-4"},Pl=["value"],Cl={key:0,class:"invalid-feedback"},$l={class:"col-md-4"},Sl=["value"],Ul={key:0,class:"invalid-feedback"},Vl={class:"col-md-4"},jl=["value"],Yl={key:0,class:"invalid-feedback"},Tl={class:"col-md-4"},Nl=["value"],Rl={key:0,class:"invalid-feedback"},ql={class:"col-md-4"},El=["value"],Kl={key:0,class:"invalid-feedback"},Il={class:"card mb-3"},Fl={class:"card-body"},Ol={class:"row g-2"},Ll={class:"col-md-4"},Bl={key:0,class:"invalid-feedback"},Ml={class:"form-label"},Zl=["onUpdate:modelValue"],Hl={key:0,class:"invalid-feedback"},Jl={class:"col-md-4"},Gl={key:0,class:"invalid-feedback"},Xl={class:"col-md-4"},ei={key:0,class:"invalid-feedback"},ai={class:"col-md-4"},si={key:0,class:"invalid-feedback"},ti={class:"card mb-3"},ri={class:"card-body"},li={class:"row g-2"},ii={key:0},oi={class:"form-label"},ni={key:0,class:"text-danger"},di=["placeholder","onUpdate:modelValue"],ci={key:1,class:"invalid-feedback"},ui={key:1},pi={class:"form-label"},mi={key:0,class:"text-danger"},_i=["placeholder","onUpdate:modelValue"],hi={key:1,class:"invalid-feedback"},bi={key:2},vi={class:"form-label"},yi={key:0,class:"text-danger"},gi=["placeholder","onUpdate:modelValue"],Di={key:0,class:"invalid-feedback"},Qi={key:3},fi={class:"form-label"},ki={key:0,class:"text-danger"},wi=["placeholder","onUpdate:modelValue"],Ai={key:0,class:"invalid-feedback"},Wi={key:4},zi={class:"form-label"},xi={key:0,class:"text-danger"},Pi=["onUpdate:modelValue"],Ci=["value"],$i=["value"],Si=["value"],Ui={key:1,class:"invalid-feedback"},Vi={key:5},ji={class:"form-label"},Yi={key:0,class:"text-danger"},Ti=["onUpdate:modelValue"],Ni={key:0,class:"invalid-feedback"},Ri={class:"card-footer text-end"},qi={type:"submit",class:"btn btn-primary"},Ei={key:0},Ki={key:1};function Ii(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("search");return(0,r.Wz)(),(0,r.An)("div",sl,[(0,r.QD)("div",tl,[(0,r.QD)("div",null,[(0,r.QD)("ol",rl,[(0,r.QD)("li",ll,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[15]||(a[15]=[(0,r.mY)("Dashboard")]))),_:1})]),a[17]||(a[17]=(0,r.QD)("li",{class:"breadcrumb-item"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Masters")],-1)),(0,r.QD)("li",il,[(0,r.K2)(n,{to:"/assets"},{default:(0,r.Ql)((()=>a[16]||(a[16]=[(0,r.mY)("Assets")]))),_:1})]),i.status?((0,r.Wz)(),(0,r.An)("li",ol,"New Asset")):((0,r.Wz)(),(0,r.An)("li",nl,"Update Asset"))]),a[18]||(a[18]=(0,r.QD)("h4",{class:"main-title mb-0"},"Asset",-1))]),(0,r.K2)(n,{to:"/assets",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.Ql)((()=>a[19]||(a[19]=[(0,r.QD)("i",{class:"ri-list-check"},null,-1),(0,r.mY)(" ASSETS")]))),_:1})]),(0,r.QD)("div",dl,[(0,r.QD)("div",cl,[(0,r.QD)("form",{onSubmit:a[14]||(a[14]=(0,t.Y7)((e=>o.submitForm()),["prevent"]))},[(0,r.QD)("div",ul,[(0,r.QD)("div",pl,[i.status?((0,r.Wz)(),(0,r.An)("h6",ml,"Add Asset")):((0,r.Wz)(),(0,r.An)("h6",_l,"Update Asset"))]),(0,r.QD)("div",hl,[(0,r.QD)("div",bl,[a[26]||(a[26]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Asset Details")],-1)),(0,r.QD)("div",vl,[(0,r.QD)("div",yl,[(0,r.QD)("div",gl,[a[20]||(a[20]=(0,r.QD)("label",{class:"form-label"},"Asset Type",-1)),a[21]||(a[21]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.K2)(c,{class:(0,d.WN)({"is-invalid":i.errors.asset_type_id}),customClass:{"is-invalid":i.errors?.asset_type_id},initialize:i.asset.asset_type_id,id:"asset_type_id",label:"asset_type_name",label2:"asset_type_code",placeholder:"Select Asset Type",data:e.asset_attributes,onInput:a[0]||(a[0]=e=>i.asset.asset_type_id=e),onSelectsearch:a[1]||(a[1]=e=>o.getAssetType(i.asset.asset_type_id))},null,8,["class","customClass","initialize","data"]),i.errors?.asset_type_id?((0,r.Wz)(),(0,r.An)("span",Dl,(0,d.WA)(i.errors.asset_type_id[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",Ql,[a[22]||(a[22]=(0,r.QD)("label",{class:"form-label"},"Asset Code",-1)),a[23]||(a[23]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Enter Asset Code",class:(0,d.WN)(["form-control",{"is-invalid":i.errors?.asset_code}]),"onUpdate:modelValue":a[2]||(a[2]=e=>i.asset.asset_code=e)},null,2),[[t.Og,i.asset.asset_code]]),i.errors?.asset_code?((0,r.Wz)(),(0,r.An)("span",fl,(0,d.WA)(i.errors.asset_code[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",kl,[a[24]||(a[24]=(0,r.QD)("label",{class:"form-label"},"Asset Name",-1)),a[25]||(a[25]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Enter Asset Name",class:(0,d.WN)(["form-control",{"is-invalid":i.errors?.asset_name}]),"onUpdate:modelValue":a[3]||(a[3]=e=>i.asset.asset_name=e)},null,2),[[t.Og,i.asset.asset_name]]),i.errors?.asset_name?((0,r.Wz)(),(0,r.An)("span",wl,(0,d.WA)(i.errors.asset_name[0]),1)):(0,r.g1)("",!0)])])])]),(0,r.QD)("div",Al,[a[38]||(a[38]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Lineage Parameters")],-1)),(0,r.QD)("div",Wl,[(0,r.QD)("div",zl,[(0,r.QD)("div",xl,[a[28]||(a[28]=(0,r.QD)("label",{class:"form-label"},"Department",-1)),(0,r.wt)((0,r.QD)("select",{class:(0,d.WN)(["form-control",{"is-invalid":i.errors?.department_id}]),"onUpdate:modelValue":a[4]||(a[4]=e=>i.asset.department_id=e)},[a[27]||(a[27]=(0,r.QD)("option",{value:""},"Select Department",-1)),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.departments,((e,a)=>((0,r.Wz)(),(0,r.An)("option",{key:a,value:e?.department_id},(0,d.WA)(e?.department_name),9,Pl)))),128))],2),[[t.Ip,i.asset.department_id]]),i.errors?.department_id?((0,r.Wz)(),(0,r.An)("span",Cl,(0,d.WA)(i.errors.department_id[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",$l,[a[30]||(a[30]=(0,r.QD)("label",{class:"form-label"},"Section",-1)),(0,r.wt)((0,r.QD)("select",{class:(0,d.WN)(["form-control",{"is-invalid":i.errors?.section_id}]),"onUpdate:modelValue":a[5]||(a[5]=e=>i.asset.section_id=e)},[a[29]||(a[29]=(0,r.QD)("option",{value:""},"Select Section",-1)),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.sections,((e,a)=>((0,r.Wz)(),(0,r.An)("option",{key:a,value:e?.section_id},(0,d.WA)(e?.section_name),9,Sl)))),128))],2),[[t.Ip,i.asset.section_id]]),i.errors?.section_id?((0,r.Wz)(),(0,r.An)("span",Ul,(0,d.WA)(i.errors.section_id[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",Vl,[a[32]||(a[32]=(0,r.QD)("label",{class:"form-label"},"Functional",-1)),(0,r.wt)((0,r.QD)("select",{class:(0,d.WN)(["form-control",{"is-invalid":i.errors?.functional_id}]),"onUpdate:modelValue":a[6]||(a[6]=e=>i.asset.functional_id=e)},[a[31]||(a[31]=(0,r.QD)("option",{value:""},"Select Functional",-1)),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.functionals,((e,a)=>((0,r.Wz)(),(0,r.An)("option",{key:a,value:e?.functional_id},(0,d.WA)(e?.functional_name),9,jl)))),128))],2),[[t.Ip,i.asset.functional_id]]),i.errors?.functional_id?((0,r.Wz)(),(0,r.An)("span",Yl,(0,d.WA)(i.errors.functional_id[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",Tl,[a[34]||(a[34]=(0,r.QD)("label",{class:"form-label"},"Shop",-1)),a[35]||(a[35]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("select",{class:(0,d.WN)(["form-control",{"is-invalid":i.errors?.plant_id}]),"onUpdate:modelValue":a[7]||(a[7]=e=>i.asset.plant_id=e),onChange:a[8]||(a[8]=e=>o.getAreaValue())},[a[33]||(a[33]=(0,r.QD)("option",{value:""},"Select Shop",-1)),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.plants,((e,a)=>((0,r.Wz)(),(0,r.An)("option",{key:a,value:e?.plant_id},(0,d.WA)(e.plant_name),9,Nl)))),128))],34),[[t.Ip,i.asset.plant_id]]),i.errors?.plant_id?((0,r.Wz)(),(0,r.An)("span",Rl,"The shop field is required ")):(0,r.g1)("",!0)]),(0,r.QD)("div",ql,[a[36]||(a[36]=(0,r.QD)("label",{class:"form-label"},"Area",-1)),a[37]||(a[37]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.QD)("input",{type:"text",disabled:"disabled",class:"form-control",value:i.asset?.area_name},null,8,El),i.errors?.area_id?((0,r.Wz)(),(0,r.An)("span",Kl,(0,d.WA)(i.errors.area_id[0]),1)):(0,r.g1)("",!0)])])])]),(0,r.QD)("div",Il,[a[45]||(a[45]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Settings")],-1)),(0,r.QD)("div",Fl,[(0,r.QD)("div",Ol,[(0,r.QD)("div",Ll,[a[39]||(a[39]=(0,r.QD)("label",{class:"form-label"},"No Of Zones ",-1)),a[40]||(a[40]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"number",placeholder:"Enter No Of Zones ",class:(0,d.WN)(["form-control",{"is-invalid":i.errors?.no_of_zones}]),"onUpdate:modelValue":a[9]||(a[9]=e=>i.asset.no_of_zones=e)},null,2),[[t.Og,i.asset.no_of_zones]]),i.errors?.no_of_zones?((0,r.Wz)(),(0,r.An)("span",Bl,(0,d.WA)(i.errors.no_of_zones[0]),1)):(0,r.g1)("",!0)]),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.asset.zone_name,((e,s)=>((0,r.Wz)(),(0,r.An)("div",{key:s,class:"col-md-4"},[(0,r.QD)("label",Ml,"Zone "+(0,d.WA)(s+1),1),a[41]||(a[41]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text","onUpdate:modelValue":a=>e.zone_name=a,class:(0,d.WN)(["form-control",{"is-invalid":i.errors[`zone_name_${s}`]}])},null,10,Zl),[[t.Og,e.zone_name]]),i.errors[`zone_name_${s}`]?((0,r.Wz)(),(0,r.An)("span",Hl,(0,d.WA)(i.errors[`zone_name_${s}`][0]),1)):(0,r.g1)("",!0)])))),128)),(0,r.QD)("div",Jl,[a[42]||(a[42]=(0,r.QD)("label",{class:"form-label"},"Latitude",-1)),(0,r.wt)((0,r.QD)("input",{type:"number",placeholder:"Enter Latitude",class:(0,d.WN)(["form-control",{"is-invalid":i.errors?.latitude}]),"onUpdate:modelValue":a[10]||(a[10]=e=>i.asset.latitude=e)},null,2),[[t.Og,i.asset.latitude]]),i.errors?.latitude?((0,r.Wz)(),(0,r.An)("span",Gl,(0,d.WA)(i.errors.latitude[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",Xl,[a[43]||(a[43]=(0,r.QD)("label",{class:"form-label"},"Longitude",-1)),(0,r.wt)((0,r.QD)("input",{type:"number",placeholder:"Enter Longitude",class:(0,d.WN)(["form-control",{"is-invalid":i.errors?.longitude}]),"onUpdate:modelValue":a[11]||(a[11]=e=>i.asset.longitude=e)},null,2),[[t.Og,i.asset.longitude]]),i.errors?.longitude?((0,r.Wz)(),(0,r.An)("span",ei,(0,d.WA)(i.errors.longitude[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",ai,[a[44]||(a[44]=(0,r.QD)("label",{class:"form-label"},"Radius",-1)),(0,r.wt)((0,r.QD)("input",{type:"number",placeholder:"Enter Radius",class:(0,d.WN)(["form-control",{"is-invalid":i.errors?.radius}]),"onUpdate:modelValue":a[12]||(a[12]=e=>i.asset.radius=e)},null,2),[[t.Og,i.asset.radius]]),i.errors?.radius?((0,r.Wz)(),(0,r.An)("span",si,(0,d.WA)(i.errors.radius[0]),1)):(0,r.g1)("",!0)])])])]),(0,r.QD)("div",ti,[a[46]||(a[46]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Attributes")],-1)),(0,r.QD)("div",ri,[(0,r.QD)("div",li,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.asset.asset_attributes,((e,a)=>((0,r.Wz)(),(0,r.An)("div",{class:"col-md-4",key:a},["Text"==e.field_type?((0,r.Wz)(),(0,r.An)("div",ii,[(0,r.QD)("label",oi,(0,d.WA)(e.display_name),1),e.is_required?((0,r.Wz)(),(0,r.An)("span",ni,"*")):(0,r.g1)("",!0),(0,r.wt)((0,r.QD)("input",{type:"text",class:(0,d.WN)(["form-control",{"is-invalid":i.errors[e.display_name]}]),placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.asset_attribute_value.field_value=a},null,10,di),[[t.Og,e.asset_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.Wz)(),(0,r.An)("span",ci,(0,d.WA)(i.errors[e.display_name][0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0),"Number"==e.field_type?((0,r.Wz)(),(0,r.An)("div",ui,[(0,r.QD)("label",pi,(0,d.WA)(e.display_name),1),e.is_required?((0,r.Wz)(),(0,r.An)("span",mi,"*")):(0,r.g1)("",!0),(0,r.wt)((0,r.QD)("input",{type:"text",class:(0,d.WN)(["form-control",{"is-invalid":i.errors[e.display_name]}]),min:"0",oninput:"validity.valid||(value='');",placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.asset_attribute_value.field_value=a},null,10,_i),[[t.Og,e.asset_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.Wz)(),(0,r.An)("span",hi,(0,d.WA)(i.errors[e.display_name][0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0),"Date"===e.field_type?((0,r.Wz)(),(0,r.An)("div",bi,[(0,r.QD)("label",vi,[(0,r.mY)((0,d.WA)(e.display_name)+" ",1),e.is_required?((0,r.Wz)(),(0,r.An)("span",yi,"*")):(0,r.g1)("",!0)]),(0,r.wt)((0,r.QD)("input",{type:"date",class:(0,d.WN)(["form-control",{"is-invalid":i.errors[e.display_name]}]),placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.asset_attribute_value.field_value=a},null,10,gi),[[t.Og,e.asset_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.Wz)(),(0,r.An)("span",Di,(0,d.WA)(i.errors[e.display_name][0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0),"Date&Time"===e.field_type?((0,r.Wz)(),(0,r.An)("div",Qi,[(0,r.QD)("label",fi,[(0,r.mY)((0,d.WA)(e.display_name)+" ",1),e.is_required?((0,r.Wz)(),(0,r.An)("span",ki,"*")):(0,r.g1)("",!0)]),(0,r.wt)((0,r.QD)("input",{type:"datetime-local",class:(0,d.WN)(["form-control",{"is-invalid":i.errors[e.display_name]}]),placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.asset_attribute_value.field_value=a,step:"1"},null,10,wi),[[t.Og,e.asset_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.Wz)(),(0,r.An)("span",Ai,(0,d.WA)(i.errors[e.display_name][0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0),"Dropdown"==e.field_type?((0,r.Wz)(),(0,r.An)("div",Wi,[(0,r.QD)("label",zi,(0,d.WA)(e.display_name),1),e.is_required?((0,r.Wz)(),(0,r.An)("span",xi,"*")):(0,r.g1)("",!0),(0,r.wt)((0,r.QD)("select",{class:(0,d.WN)(["form-control",{"is-invalid":i.errors[e.display_name]}]),"onUpdate:modelValue":a=>e.asset_attribute_value.field_value=a},[e.asset_attribute_value.field_value?((0,r.Wz)(),(0,r.An)("option",{key:0,value:e.asset_attribute_value.field_value},(0,d.WA)(e.asset_attribute_value.field_value),9,Ci)):((0,r.Wz)(),(0,r.An)("option",{key:1,value:e.asset_attribute_value.field_value},"Select "+(0,d.WA)(e.display_name),9,$i)),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(e.field_values.split(","),((e,a)=>((0,r.Wz)(),(0,r.An)("option",{key:a,value:e},(0,d.WA)(e),9,Si)))),128))],10,Pi),[[t.Ip,e.asset_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.Wz)(),(0,r.An)("span",Ui,(0,d.WA)(i.errors[e.display_name][0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0),"Color"==e.field_type?((0,r.Wz)(),(0,r.An)("div",Vi,[(0,r.QD)("label",ji,[(0,r.mY)((0,d.WA)(e.display_name),1),e.is_required?((0,r.Wz)(),(0,r.An)("span",Yi,"*")):(0,r.g1)("",!0)]),(0,r.wt)((0,r.QD)("input",{type:"color",class:"form-control","onUpdate:modelValue":a=>e.asset_attribute_value.field_value=a,style:{height:"2.2rem"}},null,8,Ti),[[t.Og,e.asset_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.Wz)(),(0,r.An)("span",Ni,(0,d.WA)(i.errors[e.display_name][0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0)])))),128))])])])]),(0,r.QD)("div",Ri,[(0,r.QD)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[13]||(a[13]=e=>o.discard())},a[47]||(a[47]=[(0,r.QD)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.mY)(" Discard")])),(0,r.QD)("button",qi,[i.status?((0,r.Wz)(),(0,r.An)("span",Ei,a[48]||(a[48]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Submit")]))):((0,r.Wz)(),(0,r.An)("span",Ki,a[49]||(a[49]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Update")])))])])])],32)])])])}var Fi={name:"Assets.Create",components:{Search:Gr.c},data(){return{sample:"",asset:{asset_id:"",plant_id:"",asset_code:"",asset_name:"",asset_type_id:"",latitude:"",longitude:"",no_of_zones:null,status:"",asset_attributes:[],department_id:"",section_id:"",functional_id:"",area_id:"",area_name:null,radius:"",zone_name:[],deleted_asset_attribute_values:[],area_name:""},voltage:{color:"#ffffff",voltage_code:""},errors:{no_of_zones:[]},device_code:"",deleted_asset_attribute_values:[],departments:[],sections:[],functionals:[],areas:[],plants:[],asset_types:[],show_assets:[],errors:[],status:!0,zones:[],initial_zone_no:null,new_zone_names:[],prev_zone_names:[]}},beforeRouteEnter(e,a,s){s((a=>{if(a.asset.asset_attributes=[],a.getAssetsDropdown(),"Assets.Create"==e.name);else{a.status=!1;let s={uri:"getAssetdata",data:{asset_id:e.params.asset_id}};a.$store.dispatch("post",s).then((function(e){a.asset=e.data.data,a.initial_zone_no=a.asset.no_of_zones,a.prev_zone_names=a.asset.zone_name,a.show_assets=e.data.data?.asset_attributes,a.asset.area_id=a.asset.area.area_id,a.asset.area_name=a.asset.area.area_name,a.asset.asset_attributes.map((function(e){a.deleted_asset_attribute_values.push(e.asset_attribute_value.asset_attribute_value_id)})),a.asset.deleted_asset_attribute_values=[]})).catch((function(e){console.log(e)}))}}))},watch:{"asset.no_of_zones":function(e){let a=this;if(a.asset.zone_name=[],this.status)for(let s=0;s<a.asset.no_of_zones;s++)a.asset.zone_name.push({zone_name:null});else if(a.prev_zone_names.map((function(e){a.asset.zone_name.push(e)})),a.asset.no_of_zones&&a.asset.no_of_zones<a.prev_zone_names.length&&(a.asset.no_of_zones=a.prev_zone_names.length),a.asset.no_of_zones&&a.asset.no_of_zones>a.prev_zone_names.length){let e=a.asset.no_of_zones-a.prev_zone_names.length;this.new_zone_names=[];for(let a=0;a<e;a++)this.new_zone_names.push({zone_name:null});a.new_zone_names.map((function(e){a.asset.zone_name.push(e)}))}}},computed:{getComponentCode(){return this.device_code=[this.voltage.voltage_code,this.watt_rating,this.frame,this.mounting,this.section,this.make,this.speed,this.asset.serial_no],this.device_code.join("")}},methods:{getZoneNameError(e){let a=Object.entries(this.errors),s=a.filter((function(a){return a[0].includes("zone_name")&&a[0].includes(e)}));if(console.log(s),s.length)return"Zone name field is required"},updateAssetParameters(e){let a=this.asset.asset_attributes.filter((function(a){return a.asset_attribute_id==e.asset_attribute_id}));a.length||this.asset.asset_attributes.push({asset_attribute_id:e.asset_attribute_id,field_value:e.field_value})},submitForm(){let e=this;e.status?e.addAsset():e.updateAsset()},getAssetsDropdown(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssetTypes"}).then((s=>{a.hide(),e.asset_attributes=s.data.data,e.getDepartments()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getDepartments(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getDepartments"}).then((s=>{a.hide(),e.departments=s.data.data,e.getSections()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getSections(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getSections"}).then((s=>{a.hide(),e.sections=s.data.data,e.getFunctionals()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getFunctionals(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getFunctionals"}).then((s=>{a.hide(),e.functionals=s.data.data,e.getShops()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getShops(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getPlants"}).then((s=>{a.hide(),e.plants=s.data.data,e.getAreas()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getAreas(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAreas"}).then((s=>{a.hide(),e.areas=s.data.data})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},validateFields(){let e=!0;this.errors={},this.asset.asset_code||(this.errors.asset_code=["Asset Code is required"],e=!1),this.asset.asset_name||(this.errors.asset_name=["Asset Name is required"],e=!1),this.asset.asset_type_id||(this.errors.asset_type_id=["Asset Type is required"],e=!1),this.asset.plant_id||(this.errors.plant_id=["Shop id is required"],e=!1),this.asset.no_of_zones?this.asset.zone_name.forEach(((a,s)=>{a.zone_name||(this.errors[`zone_name_${s}`]=[`Zone ${s+1} is required`],e=!1)})):(this.errors.no_of_zones=["No. of zones id is required"],e=!1);for(const a of Object.values(this.asset.asset_attributes))a.is_required&&!a.asset_attribute_value.field_value&&("Color"===a.field_type?a.asset_attribute_value.field_value="#000000":(this.errors[a.display_name]=[`${a.display_name} is required`],e=!1));return console.log("Validation Errors:",this.errors),e},addAsset(){if(!this.validateFields())return;let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"addAsset",data:e.asset}).then((s=>{a.hide(),e.$store.dispatch("success",s.data.message),e.$router.push("/assets")})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},updateAsset(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"updateAsset",data:e.asset}).then((s=>{a.hide(),e.$store.dispatch("success",s.data.message),e.$router.push("/assets")})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getAsset(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAsset",data:e.asset}).then((s=>{a.hide(),e.asset=s.data.data})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},discard(){let e=this;e.asset.asset_code="",e.asset.asset_name="",e.asset.latitude="",e.asset.longitude="",e.asset.radius="",e.asset.department_id="",e.asset.section_id="",e.asset.functional_id="",e.errors=[],e.voltage.color="#ffffff",e.voltage.voltage_code="",e.asset.serial_no="",e.watt_rating="",e.frame="",e.device_code="",e.mounting="",e.section="",e.make="",e.speed="",e.show_assets=[],e.asset.asset_type_id="";e.asset.zone_name.filter((function(e){e.zone_name=""}))},getAssetType(e){let a=this,s=a.$loading.show();a.deleted_asset_attribute_values.length&&(a.asset.deleted_asset_attribute_values=a.deleted_asset_attribute_values),a.$store.dispatch("post",{uri:"getAssetsDropdown",data:{asset_type_id:e}}).then((e=>{s.hide(),a.show_assets=e.data.data,a.asset.asset_attributes=e.data.data})).catch((function(e){s.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},getAreaValue(){let e=this,a=e.plants.filter((function(a){return a.plant_id==e.asset.plant_id}));a.length&&"Area"in a[0]&&(e.asset.area_id=a[0].Area?.area_id,e.asset.area_name=a[0].Area?.area_name),console.log("asset"),console.log(e.asset)}}};const Oi=(0,Ce.c)(Fi,[["render",Ii]]);var Li=Oi;Gr.c;const Bi={class:""},Mi={class:"d-sm-flex align-items-center justify-content-between mb-2"},Zi={class:"breadcrumb fs-sm mb-1"},Hi={class:"breadcrumb-item","aria-current":"page"},Ji={class:"row"},Gi={class:"col-12"},Xi={class:"card card-one"},eo={class:"card-body"},ao={class:"table-responsive table-responsive-sm"},so={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},to={class:"",style:{"background-color":"#9b9b9b",color:"white"}},ro={key:0,class:"ri-arrow-up-line"},lo={key:1,class:"ri-arrow-down-line"},io={key:2,class:"fas fa-sort"},oo={key:0,class:"ri-arrow-up-line"},no={key:1,class:"ri-arrow-down-line"},co={key:2,class:"fas fa-sort"},uo={key:0,class:"ri-arrow-up-line"},po={key:1,class:"ri-arrow-down-line"},mo={key:2,class:"fas fa-sort"},_o={key:0,class:"ri-arrow-up-line"},ho={key:1,class:"ri-arrow-down-line"},bo={key:2,class:"fas fa-sort"},vo={key:0,class:"ri-arrow-up-line"},yo={key:1,class:"ri-arrow-down-line"},go={key:2,class:"fas fa-sort"},Do={key:0,class:"ri-arrow-up-line"},Qo={key:1,class:"ri-arrow-down-line"},fo={key:2,class:"fas fa-sort"},ko={class:"text-center"},wo={key:0,class:"text-center"},Ao={class:"text-center"},Wo={class:"text-center"},zo={class:"form-switch"},xo=["id","checked","value","onChange"],Po=["for"],Co={key:0,class:"text-center"},$o=["onClick"],So=["onClick"],Uo={class:"text-center"},Vo=["onClick"],jo=["onClick"],Yo=["onClick"],To={key:0},No={class:"card-footer"},Ro={class:"d-flex justify-content-between align-items-center"};function qo(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("Pagination"),u=(0,r.iS)("can");return(0,r.Wz)(),(0,r.An)("div",Bi,[(0,r.QD)("div",Mi,[(0,r.QD)("div",null,[(0,r.QD)("ol",Zi,[(0,r.QD)("li",Hi,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[10]||(a[10]=[(0,r.mY)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.QD)("li",{class:"breadcrumb-item"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Masters")],-1)),a[12]||(a[12]=(0,r.QD)("li",{class:"breadcrumb-item active","aria-current":"page"},"Assets",-1))]),a[13]||(a[13]=(0,r.QD)("h4",{class:"main-title mb-0"},"Assets",-1))]),(0,r.wt)(((0,r.Wz)(),(0,r.Az)(n,{to:"/asset/create",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.Ql)((()=>a[14]||(a[14]=[(0,r.QD)("i",{class:"ri-list-check"},null,-1),(0,r.mY)(" ADD Asset")]))),_:1})),[[u,"assets.create"]])]),(0,r.QD)("div",Ji,[(0,r.QD)("div",Gi,[(0,r.QD)("div",Xi,[a[31]||(a[31]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Assets")],-1)),(0,r.QD)("div",eo,[(0,r.wt)((0,r.QD)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.search=e),onKeypress:a[1]||(a[1]=(0,t.jj)((e=>o.search()),["enter"]))},null,544),[[t.Og,i.meta.search]]),(0,r.QD)("div",ao,[(0,r.QD)("table",so,[(0,r.QD)("thead",null,[(0,r.QD)("tr",to,[a[22]||(a[22]=(0,r.QD)("th",{class:"text-center"},"#",-1)),(0,r.QD)("th",{onClick:a[2]||(a[2]=e=>o.sort("asset_type_id"))},[a[15]||(a[15]=(0,r.mY)(" Asset Type ")),(0,r.QD)("span",null,["asset_type_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",ro)):"asset_type_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",lo)):((0,r.Wz)(),(0,r.An)("i",io))])]),(0,r.QD)("th",{onClick:a[3]||(a[3]=e=>o.sort("asset_code"))},[a[16]||(a[16]=(0,r.mY)(" Asset Code ")),(0,r.QD)("span",null,["asset_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",oo)):"asset_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",no)):((0,r.Wz)(),(0,r.An)("i",co))])]),(0,r.QD)("th",{onClick:a[4]||(a[4]=e=>o.sort("asset_name"))},[a[17]||(a[17]=(0,r.mY)(" Asset Name ")),(0,r.QD)("span",null,["asset_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",uo)):"asset_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",po)):((0,r.Wz)(),(0,r.An)("i",mo))])]),(0,r.QD)("th",{onClick:a[5]||(a[5]=e=>o.sort("latitude"))},[a[18]||(a[18]=(0,r.mY)(" Latitude ")),(0,r.QD)("span",null,["latitude"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",_o)):"latitude"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",ho)):((0,r.Wz)(),(0,r.An)("i",bo))])]),(0,r.QD)("th",{onClick:a[6]||(a[6]=e=>o.sort("longitude"))},[a[19]||(a[19]=(0,r.mY)(" Longitude ")),(0,r.QD)("span",null,["longitude"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",vo)):"longitude"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",yo)):((0,r.Wz)(),(0,r.An)("i",go))])]),(0,r.QD)("th",{onClick:a[7]||(a[7]=e=>o.sort("radius"))},[a[20]||(a[20]=(0,r.mY)(" Radius ")),(0,r.QD)("span",null,["radius"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Do)):"radius"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Qo)):((0,r.Wz)(),(0,r.An)("i",fo))])]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("th",ko,a[21]||(a[21]=[(0,r.mY)("Status")]))),[[u,"assets.delete"]]),i.get_assetviews.length||i.get_asset.length?((0,r.Wz)(),(0,r.An)("th",wo,"Actions")):(0,r.g1)("",!0),a[23]||(a[23]=(0,r.QD)("th",{class:"text-center"},"GoTo",-1))])]),(0,r.QD)("tbody",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.assets,((e,s)=>((0,r.Wz)(),(0,r.An)("tr",{key:s},[(0,r.QD)("td",Ao,(0,d.WA)(i.meta.from+s),1),(0,r.QD)("td",null,(0,d.WA)(e.asset_type.asset_type_name),1),(0,r.QD)("td",null,(0,d.WA)(e.asset_code),1),(0,r.QD)("td",null,(0,d.WA)(e.asset_name),1),(0,r.QD)("td",null,(0,d.WA)(e.latitude),1),(0,r.QD)("td",null,(0,d.WA)(e.longitude),1),(0,r.QD)("td",null,(0,d.WA)(e.radius),1),(0,r.wt)(((0,r.Wz)(),(0,r.An)("td",Wo,[(0,r.QD)("div",zo,[(0,r.QD)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"asset"+e.asset_id,checked:e.status,value:e.status,onChange:a=>o.deleteAsset(e)},null,40,xo),(0,r.QD)("label",{class:"custom-control-label",for:"asset"+e.asset_id},null,8,Po)])])),[[u,"assets.delete"]]),i.get_assetviews.length||i.get_asset.length?((0,r.Wz)(),(0,r.An)("td",Co,[e.status?(0,r.wt)(((0,r.Wz)(),(0,r.An)("a",{key:0,title:"Edit",href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editAsset(e)},a[24]||(a[24]=[(0,r.QD)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,$o)),[[u,"assets.update"]]):(0,r.g1)("",!0),(0,r.wt)(((0,r.Wz)(),(0,r.An)("a",{title:"View",href:"javascript:void(0)",class:"text-primary me-2",onClick:(0,t.Y7)((a=>o.viewAsset(e)),["prevent"])},a[25]||(a[25]=[(0,r.QD)("i",{class:"ri-eye-fill fs-18 lh-1"},null,-1)]),8,So)),[[u,"assetviews.view"]])])):(0,r.g1)("",!0),(0,r.QD)("td",Uo,[(0,r.QD)("a",{title:"Activity Register",href:"javascript:void(0)",class:"text-primary me-2",onClick:(0,t.Y7)((a=>o.viewRegister(e,"/activity/create")),["prevent"])},a[26]||(a[26]=[(0,r.QD)("i",{class:"ri-stack-fill fs-18 lh-1"},null,-1)]),8,Vo),(0,r.QD)("a",{title:"Service Register",href:"javascript:void(0)",class:"text-primary me-2",onClick:(0,t.Y7)((a=>o.viewRegister(e,"user_service/create")),["prevent"])},a[27]||(a[27]=[(0,r.QD)("i",{class:"ri-tools-fill fs-18 lh-1"},null,-1)]),8,jo),(0,r.QD)("a",{title:"Check Register",href:"javascript:void(0)",class:"text-primary me-2",onClick:(0,t.Y7)((a=>o.viewRegister(e,"user_check/create")),["prevent"])},a[28]||(a[28]=[(0,r.QD)("i",{class:"ri-calendar-check-fill fs-18 lh-1"},null,-1)]),8,Yo)])])))),128)),0==i.assets.length?((0,r.Wz)(),(0,r.An)("tr",To,a[29]||(a[29]=[(0,r.QD)("td",{colspan:"10",class:"text-center"},"No records found",-1)]))):(0,r.g1)("",!0)])])])]),(0,r.QD)("div",No,[(0,r.QD)("div",Ro,[(0,r.wt)((0,r.QD)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.per_page=e),onChange:a[9]||(a[9]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[30]||(a[30]=[(0,r.QD)("option",null,"10",-1),(0,r.QD)("option",null,"15",-1),(0,r.QD)("option",null,"20",-1),(0,r.QD)("option",null,"25",-1),(0,r.QD)("option",null,"30",-1)]),544),[[t.Ip,i.meta.per_page]]),(0,r.QD)("span",null,"Showing "+(0,d.WA)(i.meta.from)+" to "+(0,d.WA)(i.meta.to)+" of "+(0,d.WA)(i.meta.totalRows)+" entries",1),(0,r.K2)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var Eo={components:{Pagination:Zt},data(){return{meta:{search:"",order_by:"asc",keyword:"asset_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},get_assetviews:[],get_asset:[],assets:[],errors:[],status:!0}},beforeRouteEnter(e,a,s){s((e=>{"Assets.Edit"!=a.name&&"Assets.View"!=a.name?e.$store.commit("setCurrentPage",e.meta.page):e.meta.page=e.$store.getters.current_page}))},mounted(){this.assetviews=this.$store.getters.permissions.filter((function(e){return e.ability.ability.includes("assetviews.view")})),this.get_asset=this.$store.getters.permissions.filter((function(e){return e.ability.ability.includes("assets.update")})),document.body.classList.remove("sidebar-hide"),this.$store.commit("setAssetId",""),this.index()},methods:{index(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"paginateAssets",data:e.meta}).then((s=>{a.hide(),e.assets=s.data.data,e.meta.totalRows=s.data.meta.total,e.meta.from=s.data.meta.from,e.meta.lastPage=s.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},editAsset(e){this.$store.commit("setCurrentPage",this.meta.page),this.$router.push("/asset/"+e.asset_id+"/edit")},viewAsset(e){document.body.classList.add("sidebar-hide"),this.$store.commit("setCurrentPage",this.meta.page),this.$router.push("/asset/"+e.asset_id+"/view")},viewRegister(e,a){this.$store.commit("setCurrentPage",this.meta.page),this.$store.commit("setAssetId",e.asset_id),this.$router.push(a)},getQRCode(e){this.$router.push("/QR_code/"+e.asset_id+"/get")},deleteAsset(e){let a=this,s=a.$loading.show();a.$store.dispatch("post",{uri:"deleteAsset",data:e}).then((e=>{s.hide(),a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){s.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},search(){let e=this;e.meta.page=1,e.index()},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const Ko=(0,Ce.c)(Eo,[["render",qo]]);var Io=Ko;const Fo={class:""},Oo={class:"d-sm-flex align-items-center justify-content-between mb-2"},Lo={class:"breadcrumb fs-sm mb-1"},Bo={class:"breadcrumb-item","aria-current":"page"},Mo={class:"breadcrumb-item"},Zo={class:"row g-2"},Ho={class:"col-xl-3 mb-1"},Jo={class:"row"},Go={class:"col-12 mb-2"},Xo={class:"card card-one"},en={class:"card-header d-flex justify-content-between"},an={class:"card-title"},sn={class:"card-body"},tn={class:"nav nav-classic"},rn={class:"nav-link text-dark"},ln={class:"badge text-dark",style:{"text-wrap":"balance"}},on={class:"nav-link text-dark"},nn={class:"badge text-dark"},dn={class:"nav-link text-dark"},cn={class:"badge text-dark"},un={class:"nav-link text-dark"},pn={class:"badge text-dark"},mn={class:"nav-link text-dark"},_n={class:"badge text-dark"},hn={class:"nav-link text-dark"},bn={class:"badge text-dark"},vn={class:"nav-link text-dark"},yn={class:"badge text-dark"},gn={class:"nav-link text-dark"},Dn={class:"badge text-dark"},Qn={class:"nav-link text-dark"},fn={class:"badge text-dark"},kn={class:"badge text-dark"},wn={key:1},An={class:"col-12"},Wn={class:"card card-one"},zn={class:"card-body text-center"},xn={class:"mb-3 mt-3"},Pn=["src"],Cn={class:"card-title"},$n={class:"row g-2 g-sm-3 mb-3"},Sn={class:"col-sm"},Un={class:"col-xl-9 mb-2",style:{height:"950px","overflow-y":"scroll"}},Vn={class:"row"},jn={class:"col-12 mb-2"},Yn={class:"card card-one"},Tn={class:"card-body"},Nn={class:"row g-2"},Rn={class:"col-md-5"},qn={key:0,class:"invalid-feedback"},En={key:0,class:"multiselect"},Kn=["value"],In={style:{"margin-left":"5px"}},Fn={class:"col-md-5"},On={key:0,class:"invalid-feedback"},Ln={class:"col-md-2"},Bn={class:"col-12"},Mn={class:"table-responsive table-responsive-sm"},Zn={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},Hn={class:""},Jn={key:0,class:"ri-arrow-up-line"},Gn={key:1,class:"ri-arrow-down-line"},Xn={key:2,class:"fas fa-sort"},ed={key:0,class:"ri-arrow-up-line"},ad={key:1,class:"ri-arrow-down-line"},sd={key:2,class:"fas fa-sort"},td={key:0,class:"ri-arrow-up-line"},rd={key:1,class:"ri-arrow-down-line"},ld={key:2,class:"fas fa-sort"},id={key:0,class:"ri-arrow-up-line"},od={key:1,class:"ri-arrow-down-line"},nd={key:2,class:"fas fa-sort"},dd={class:"text-center"},cd={key:0},ud={class:"text-center"},pd={class:"text-center"},md=["onClick"],_d=["onClick"],hd={class:"card-footer"},bd={class:"d-flex justify-content-between align-items-center"},vd={class:"col-12 mb-2"},yd={class:"card card-one"},gd={class:"card-body"},Dd={class:"row g-2"},Qd={class:"col-md-4"},fd={key:0,class:"invalid-feedback"},kd={key:0,class:"multiselect"},wd=["value"],Ad={style:{"margin-left":"5px"}},Wd={class:"col-md-8"},zd={key:0,class:"invalid-feedback"},xd={class:"col-md-12"},Pd={class:"row align-items-center g-2"},Cd={class:"col-md-3"},$d={class:"col-md-3"},Sd={class:"col-md-3"},Ud={class:"col-md-3 d-flex justify-content-end"},Vd={class:"col-12"},jd={class:"table-responsive table-responsive-sm"},Yd={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},Td={key:0,class:"ri-arrow-up-line"},Nd={key:1,class:"ri-arrow-down-line"},Rd={key:2,class:"fas fa-sort"},qd={key:0,class:"ri-arrow-up-line"},Ed={key:1,class:"ri-arrow-down-line"},Kd={key:2,class:"fas fa-sort"},Id={key:0,class:"ri-arrow-up-line"},Fd={key:1,class:"ri-arrow-down-line"},Od={key:2,class:"fas fa-sort"},Ld={key:0,class:"ri-arrow-up-line"},Bd={key:1,class:"ri-arrow-down-line"},Md={key:2,class:"fas fa-sort"},Zd={key:0,class:"ri-arrow-up-line"},Hd={key:1,class:"ri-arrow-down-line"},Jd={key:2,class:"fas fa-sort"},Gd={key:0,class:"ri-arrow-up-line"},Xd={key:1,class:"ri-arrow-down-line"},ec={key:2,class:"fas fa-sort"},ac={class:"text-center"},sc={key:0},tc={class:"text-center"},rc={style:{"white-space":"normal"}},lc={style:{"white-space":"normal"}},ic={class:"text-center"},oc=["onClick"],nc=["onClick"],dc={class:"card-footer"},cc={class:"d-flex justify-content-between align-items-center"},uc={class:"col-12 mb-2"},pc={class:"card card-one"},mc={class:"card-body"},_c={class:"row g-2"},hc={class:"col-md-4"},bc={key:0,class:"invalid-feedback"},vc={key:0,class:"multiselect"},yc=["value"],gc={style:{"margin-left":"5px"}},Dc={class:"col-md-5"},Qc={key:0,class:"invalid-feedback"},fc={class:"col-md-3"},kc={class:"col-12"},wc={class:"table-responsive table-responsive-sm"},Ac={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},Wc={class:""},zc={key:0,class:"ri-arrow-up-line"},xc={key:1,class:"ri-arrow-down-line"},Pc={key:2,class:"fas fa-sort"},Cc={key:0,class:"ri-arrow-up-line"},$c={key:1,class:"ri-arrow-down-line"},Sc={key:2,class:"fas fa-sort"},Uc={key:0,class:"ri-arrow-up-line"},Vc={key:1,class:"ri-arrow-down-line"},jc={key:2,class:"fas fa-sort"},Yc={key:0,class:"ri-arrow-up-line"},Tc={key:1,class:"ri-arrow-down-line"},Nc={key:2,class:"fas fa-sort"},Rc={class:"text-center"},qc={key:0},Ec={class:"text-center"},Kc={class:"text-center"},Ic=["onClick"],Fc=["onClick"],Oc={class:"card-footer"},Lc={class:"d-flex justify-content-between align-items-center"},Bc={class:"col-12 mb-2"},Mc={class:"card card-one"},Zc={class:"card-body"},Hc={class:"row g-2"},Jc={class:"col-md-5"},Gc={key:0,class:"invalid-feedback"},Xc={key:0,class:"multiselect"},eu=["value"],au={style:{"margin-left":"5px"}},su={class:"col-md-5"},tu={key:0,class:"invalid-feedback"},ru={class:"col-md-2"},lu={class:"col-12"},iu={class:"table-responsive table-responsive-sm"},ou={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},nu={class:""},du={key:0,class:"ri-arrow-up-line"},cu={key:1,class:"ri-arrow-down-line"},uu={key:2,class:"fas fa-sort"},pu={key:0,class:"ri-arrow-up-line"},mu={key:1,class:"ri-arrow-down-line"},_u={key:2,class:"fas fa-sort"},hu={key:0,class:"ri-arrow-up-line"},bu={key:1,class:"ri-arrow-down-line"},vu={key:2,class:"fas fa-sort"},yu={key:0,class:"ri-arrow-up-line"},gu={key:1,class:"ri-arrow-down-line"},Du={key:2,class:"fas fa-sort"},Qu={key:0},fu={class:"text-center"},ku={class:"text-center"},wu=["onClick"],Au=["onClick"],Wu={class:"card-footer"},zu={class:"d-flex justify-content-between align-items-center"},xu={class:"col-12 mb-2"},Pu={class:"card card-one"},Cu={class:"card-body"},$u={class:"row g-2"},Su={class:"col-md-5"},Uu={key:0,class:"invalid-feedback"},Vu={key:0,class:"multiselect"},ju=["value"],Yu={style:{"margin-left":"5px"}},Tu={class:"col-md-5"},Nu={key:0,class:"invalid-feedback"},Ru={class:"col-md-2"},qu={class:"col-12"},Eu={class:"table-responsive table-responsive-sm"},Ku={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},Iu={class:""},Fu={key:0,class:"ri-arrow-up-line"},Ou={key:1,class:"ri-arrow-down-line"},Lu={key:2,class:"fas fa-sort"},Bu={key:0,class:"ri-arrow-up-line"},Mu={key:1,class:"ri-arrow-down-line"},Zu={key:2,class:"fas fa-sort"},Hu={key:0,class:"ri-arrow-up-line"},Ju={key:1,class:"ri-arrow-down-line"},Gu={key:2,class:"fas fa-sort"},Xu={key:0,class:"ri-arrow-up-line"},ep={key:1,class:"ri-arrow-down-line"},ap={key:2,class:"fas fa-sort"},sp={key:0},tp={class:"text-center"},rp={class:"text-center"},lp=["onClick"],ip=["onClick"],op={class:"card-footer"},np={class:"d-flex justify-content-between align-items-center"},dp={class:"col-12 mb-2"},cp={class:"card card-one"},up={class:"card-body"},pp={class:"row g-2"},mp={class:"col-md-4"},_p={key:0,class:"invalid-feedback"},hp={key:0,class:"multiselect"},bp=["value"],vp={style:{"margin-left":"5px"}},yp={class:"col-md-4"},gp={key:0,class:"invalid-feedback"},Dp={class:"col-md-4"},Qp={key:0,class:"invalid-feedback"},fp={class:"col-md-10"},kp={key:0,class:"invalid-feedback"},wp={class:"col-md-2"},Ap={style:{float:"left"}},Wp={class:"col-12"},zp={class:"table-responsive table-responsive-sm"},xp={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},Pp={class:""},Cp={key:0,class:"ri-arrow-up-line"},$p={key:1,class:"ri-arrow-down-line"},Sp={key:2,class:"fas fa-sort"},Up={key:0,class:"ri-arrow-up-line"},Vp={key:1,class:"ri-arrow-down-line"},jp={key:2,class:"fas fa-sort"},Yp={key:0,class:"ri-arrow-up-line"},Tp={key:1,class:"ri-arrow-down-line"},Np={key:2,class:"fas fa-sort"},Rp={key:0,class:"ri-arrow-up-line"},qp={key:1,class:"ri-arrow-down-line"},Ep={key:2,class:"fas fa-sort"},Kp={key:0},Ip={class:"text-center"},Fp=["href"],Op={key:1},Lp={class:"text-center"},Bp=["onClick"],Mp={class:"card-footer"},Zp={class:"d-flex justify-content-between align-items-center"};function Hp(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("search"),u=(0,r.E1)("Pagination"),p=(0,r.iS)("can");return(0,r.Wz)(),(0,r.An)("div",Fo,[(0,r.QD)("div",Oo,[(0,r.QD)("div",null,[(0,r.QD)("ol",Lo,[(0,r.QD)("li",Bo,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[61]||(a[61]=[(0,r.mY)("Dashboard")]))),_:1})]),a[63]||(a[63]=(0,r.QD)("li",{class:"breadcrumb-item"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Masters")],-1)),(0,r.QD)("li",Mo,[(0,r.K2)(n,{to:"/assets"},{default:(0,r.Ql)((()=>a[62]||(a[62]=[(0,r.mY)("Assets")]))),_:1})]),a[64]||(a[64]=(0,r.QD)("li",{class:"breadcrumb-item active","aria-current":"page"},"View",-1))]),a[65]||(a[65]=(0,r.QD)("h4",{class:"main-title mb-0"},"Assets",-1))]),(0,r.K2)(n,{to:"/assets",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.Ql)((()=>a[66]||(a[66]=[(0,r.QD)("i",{class:"ri-list-check"},null,-1),(0,r.mY)(" ASSETS")]))),_:1})]),(0,r.QD)("div",Zo,[(0,r.QD)("div",Ho,[(0,r.QD)("div",Jo,[(0,r.QD)("div",Go,[(0,r.QD)("div",Xo,[(0,r.QD)("div",en,[(0,r.QD)("h6",an,(0,d.WA)(i.asset?.asset_code),1)]),(0,r.QD)("div",sn,[(0,r.QD)("nav",tn,[(0,r.QD)("span",rn,[a[67]||(a[67]=(0,r.QD)("span",null,"Asset Code",-1)),a[68]||(a[68]=(0,r.mY)()),(0,r.QD)("span",ln,(0,d.WA)(i.asset.asset_code),1)]),(0,r.QD)("span",on,[a[69]||(a[69]=(0,r.QD)("span",null,"Asset Name",-1)),a[70]||(a[70]=(0,r.mY)()),(0,r.QD)("span",nn,(0,d.WA)(i.asset.asset_name),1)]),(0,r.QD)("span",dn,[a[71]||(a[71]=(0,r.QD)("span",null,"Asset Type",-1)),a[72]||(a[72]=(0,r.mY)()),(0,r.QD)("span",cn,(0,d.WA)(i.asset.asset_type?.asset_type_name),1)]),(0,r.QD)("span",un,[a[73]||(a[73]=(0,r.QD)("span",null,"Latitude",-1)),a[74]||(a[74]=(0,r.mY)()),(0,r.QD)("span",pn,(0,d.WA)(i.asset.latitude),1)]),(0,r.QD)("span",mn,[a[75]||(a[75]=(0,r.QD)("span",null,"Longitude",-1)),a[76]||(a[76]=(0,r.mY)()),(0,r.QD)("span",_n,(0,d.WA)(i.asset.longitude),1)]),(0,r.QD)("span",hn,[a[77]||(a[77]=(0,r.QD)("span",null,"Radius",-1)),a[78]||(a[78]=(0,r.mY)()),(0,r.QD)("span",bn,(0,d.WA)(i.asset.radius),1)]),(0,r.QD)("span",vn,[a[79]||(a[79]=(0,r.QD)("span",null,"Department",-1)),a[80]||(a[80]=(0,r.mY)()),(0,r.QD)("span",yn,(0,d.WA)(i.asset.department?.department_name),1)]),(0,r.QD)("span",gn,[a[81]||(a[81]=(0,r.QD)("span",null,"Section",-1)),a[82]||(a[82]=(0,r.mY)()),(0,r.QD)("span",Dn,(0,d.WA)(i.asset.section?.section_name),1)]),(0,r.QD)("span",Qn,[a[83]||(a[83]=(0,r.QD)("span",null,"Functional",-1)),a[84]||(a[84]=(0,r.mY)()),(0,r.QD)("span",fn,(0,d.WA)(i.asset.functional?.functional_name),1)]),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.asset.zone_name,((e,a)=>((0,r.Wz)(),(0,r.An)("span",{class:"nav-link text-dark",key:e.asset_zone_id},[(0,r.QD)("span",null,"Zone "+(0,d.WA)(a+1),1),(0,r.QD)("span",kn,(0,d.WA)(e.zone_name),1)])))),128)),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.asset.asset_attributes,((e,a)=>((0,r.Wz)(),(0,r.An)("h6",{class:"nav-link text-dark d-flex justify-content-between",key:a},[(0,r.mY)((0,d.WA)(e.display_name)+" ",1),"Color"==e.field_name?((0,r.Wz)(),(0,r.An)("span",{key:0,style:(0,d.MN)(o.getColor(e))},(0,d.WA)(e?.asset_attribute_value?.field_value),5)):((0,r.Wz)(),(0,r.An)("span",wn,(0,d.WA)(e?.asset_attribute_value?.field_value),1))])))),128))])])])]),(0,r.QD)("div",An,[(0,r.QD)("div",Wn,[(0,r.QD)("div",zn,[(0,r.QD)("div",xn,[(0,r.QD)("img",{src:i.asset?.QR_Code,class:"img",style:{width:"150px"}},null,8,Pn)]),(0,r.QD)("h3",Cn,(0,d.WA)(i.asset.asset_code),1),a[86]||(a[86]=(0,r.QD)("p",{class:"card-text"},"Please scan the QR Code to get the asset details...",-1)),(0,r.QD)("div",$n,[(0,r.QD)("div",Sn,[(0,r.QD)("button",{type:"button",class:"btn btn-primary",onClick:a[0]||(a[0]=e=>o.downloadQR())},a[85]||(a[85]=[(0,r.QD)("i",{class:"ri-download-2-line fs-18 lh-1"},null,-1),(0,r.mY)(" Download QR")]))])])])])])])]),(0,r.QD)("div",Un,[(0,r.QD)("div",Vn,[(0,r.wt)(((0,r.Wz)(),(0,r.An)("div",jn,[(0,r.QD)("div",Yn,[a[101]||(a[101]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Spares")],-1)),(0,r.QD)("div",Tn,[(0,r.QD)("div",Nn,[(0,r.wt)(((0,r.Wz)(),(0,r.An)("div",Rn,[(0,r.QD)("div",{class:"dropdown",onClick:a[1]||(a[1]=e=>o.toggleAssetZoneStatus("spares"))},[a[88]||(a[88]=(0,r.QD)("div",{class:"overselect"},null,-1)),(0,r.QD)("select",{class:(0,d.WN)(["form-control form-control",{"is-invalid":i.errors?.spare_asset_zones}])},a[87]||(a[87]=[(0,r.QD)("option",{value:""},"Select Asset Zone",-1)]),2),i.errors?.spare_asset_zones?((0,r.Wz)(),(0,r.An)("span",qn,(0,d.WA)(i.errors?.spare_asset_zones[0]),1)):(0,r.g1)("",!0)]),i.asset_zone_status_spares?((0,r.Wz)(),(0,r.An)("div",En,[(0,r.QD)("ul",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.asset_zones,((e,s)=>((0,r.Wz)(),(0,r.An)("li",{key:s},[(0,r.wt)((0,r.QD)("input",{type:"checkbox",value:e.asset_zone_id,"onUpdate:modelValue":a[2]||(a[2]=e=>i.spare.spare_asset_zones=e),style:{padding:"2px"},onClick:a[3]||(a[3]=e=>o.updateSpareAssetZone(e,i.spare))},null,8,Kn),[[t.cV,i.spare.spare_asset_zones]]),(0,r.QD)("label",In,(0,d.WA)(e.zone_name),1)])))),128))])])):(0,r.g1)("",!0)])),[[p,"assetSpares.create"]]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("div",Fn,[(0,r.K2)(c,{class:(0,d.WN)([{"is-invalid":i.errors.spare_id},"my-auto"]),customClass:{"is-invalid":i.errors.spare_id},"aria-describedby":"basic-addon2","aria-label":"Select Spare",initialize:i.spare.spare_id,id:"spare_id",label:"spare_name",label2:"spare_code",placeholder:"Select Spare",data:i.spares,onInput:a[4]||(a[4]=e=>i.spare.spare_id=e)},null,8,["class","customClass","initialize","data"]),i.errors.spare_id?((0,r.Wz)(),(0,r.An)("span",On,(0,d.WA)(i.errors.spare_id[0]),1)):(0,r.g1)("",!0)])),[[p,"assetSpares.create"]]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("div",Ln,[i.spare.asset_spare_id?((0,r.Wz)(),(0,r.An)("button",{key:0,class:"btn btn-outline-success me-2",onClick:a[5]||(a[5]=e=>o.updateSpare())},a[89]||(a[89]=[(0,r.QD)("i",{class:"ri-add-circle-line icon-hgt"},null,-1),(0,r.mY)(" Update ")]))):((0,r.Wz)(),(0,r.An)("button",{key:1,class:"btn btn-outline-success me-2",onClick:a[6]||(a[6]=e=>o.addSpare())},a[90]||(a[90]=[(0,r.QD)("i",{class:"ri-add-circle-line icon-hgt"},null,-1),(0,r.mY)(" Add ")])))])),[[p,"assetSpares.create"]]),(0,r.QD)("div",Bn,[(0,r.QD)("div",Mn,[(0,r.QD)("table",Zn,[(0,r.QD)("thead",null,[(0,r.QD)("tr",Hn,[a[96]||(a[96]=(0,r.QD)("th",{class:"text-center"},"#",-1)),(0,r.QD)("th",{onClick:a[7]||(a[7]=e=>o.sort("asset_zone_id"))},[a[91]||(a[91]=(0,r.mY)(" Asset Zone ")),(0,r.QD)("span",null,["asset_zone_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Jn)):"asset_zone_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Gn)):((0,r.Wz)(),(0,r.An)("i",Xn))])]),(0,r.QD)("th",{onClick:a[8]||(a[8]=e=>o.sort("spare_type_id"))},[a[92]||(a[92]=(0,r.mY)(" Spare Type ")),(0,r.QD)("span",null,["spare_type_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",ed)):"spare_type_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",ad)):((0,r.Wz)(),(0,r.An)("i",sd))])]),(0,r.QD)("th",{onClick:a[9]||(a[9]=e=>o.sort("spare_code"))},[a[93]||(a[93]=(0,r.mY)(" Spare Code ")),(0,r.QD)("span",null,["spare_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",td)):"spare_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",rd)):((0,r.Wz)(),(0,r.An)("i",ld))])]),(0,r.QD)("th",{onClick:a[10]||(a[10]=e=>o.sort("spare_name"))},[a[94]||(a[94]=(0,r.mY)(" Spare Name ")),(0,r.QD)("span",null,["spare_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",id)):"spare_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",od)):((0,r.Wz)(),(0,r.An)("i",nd))])]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("th",dd,a[95]||(a[95]=[(0,r.mY)("Actions")]))),[[p,"assetSpares.delete"]])])]),(0,r.QD)("tbody",null,[0==i.asset_spares?.length?((0,r.Wz)(),(0,r.An)("tr",cd,a[97]||(a[97]=[(0,r.QD)("td",{colspan:"6",class:"text-center"},"No records found",-1)]))):(0,r.g1)("",!0),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.asset_spares,((e,s)=>((0,r.Wz)(),(0,r.An)("tr",{key:s},[(0,r.QD)("td",ud,(0,d.WA)(i.meta.from+s),1),(0,r.QD)("td",null,(0,d.WA)(e.asset_zone?.zone_name),1),(0,r.QD)("td",null,(0,d.WA)(e.spare?.spare_type?.spare_type_name),1),(0,r.QD)("td",null,(0,d.WA)(e.spare?.spare_code),1),(0,r.QD)("td",null,(0,d.WA)(e.spare?.spare_name),1),(0,r.wt)(((0,r.Wz)(),(0,r.An)("td",pd,[(0,r.QD)("a",{href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editSpare(e)},a[98]||(a[98]=[(0,r.QD)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,md),(0,r.QD)("a",{href:"javascript:void(0)",class:"text-danger me-2",onClick:a=>o.deleteSpare(e)},a[99]||(a[99]=[(0,r.QD)("i",{class:"ri-delete-bin-6-line fs-18 lh-1"},null,-1)]),8,_d)])),[[p,"assetSpares.delete"]])])))),128))])])])])])]),(0,r.QD)("div",hd,[(0,r.QD)("div",bd,[(0,r.wt)((0,r.QD)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[11]||(a[11]=e=>i.meta.per_page=e),onChange:a[12]||(a[12]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[100]||(a[100]=[(0,r.QD)("option",null,"5",-1),(0,r.QD)("option",null,"10",-1),(0,r.QD)("option",null,"15",-1),(0,r.QD)("option",null,"20",-1),(0,r.QD)("option",null,"25",-1),(0,r.QD)("option",null,"30",-1)]),544),[[t.Ip,i.meta.per_page]]),(0,r.QD)("span",null,"Showing "+(0,d.WA)(i.meta.from)+" to "+(0,d.WA)(i.meta.to)+" of "+(0,d.WA)(i.meta.totalRows)+" entries",1),(0,r.K2)(u,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])),[[p,"assetSpares.view"]]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("div",vd,[(0,r.QD)("div",yd,[a[118]||(a[118]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Checks")],-1)),(0,r.QD)("div",gd,[(0,r.QD)("div",Dd,[(0,r.wt)(((0,r.Wz)(),(0,r.An)("div",Qd,[(0,r.QD)("div",{class:"dropdown",onClick:a[13]||(a[13]=e=>o.toggleAssetZoneStatus("checks"))},[a[103]||(a[103]=(0,r.QD)("div",{class:"overselect"},null,-1)),(0,r.QD)("select",{class:(0,d.WN)(["form-control form-control",{"is-invalid":i.errors.check_asset_zones}])},a[102]||(a[102]=[(0,r.QD)("option",{value:""},"Select Asset Zone",-1)]),2),i.errors.check_asset_zones?((0,r.Wz)(),(0,r.An)("span",fd,(0,d.WA)(i.errors.check_asset_zones[0]),1)):(0,r.g1)("",!0)]),i.asset_zone_status_checks?((0,r.Wz)(),(0,r.An)("div",kd,[(0,r.QD)("ul",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.asset_zones,((e,s)=>((0,r.Wz)(),(0,r.An)("li",{key:s},[(0,r.wt)((0,r.QD)("input",{type:"checkbox",value:e.asset_zone_id,"onUpdate:modelValue":a[14]||(a[14]=e=>i.check.check_asset_zones=e),onClick:a[15]||(a[15]=e=>o.updateCheckAssetZone(e,i.check)),style:{padding:"2px"}},null,8,wd),[[t.cV,i.check.check_asset_zones]]),(0,r.QD)("label",Ad,(0,d.WA)(e.zone_name),1)])))),128))])])):(0,r.g1)("",!0)])),[[p,"assetChecks.create"]]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("div",Wd,[(0,r.K2)(c,{class:(0,d.WN)([{"is-invalid":i.errors.check_id},"my-auto"]),customClass:{"is-invalid":i.errors.check_id},"aria-describedby":"basic-addon2","aria-label":"Select Check",initialize:i.check.check_id,id:"check_id",label:"field_name",placeholder:"Select Check",data:i.checks,onInput:a[16]||(a[16]=e=>i.check.check_id=e)},null,8,["class","customClass","initialize","data"]),i.errors.check_id?((0,r.Wz)(),(0,r.An)("span",zd,(0,d.WA)(i.errors.check_id[0]),1)):(0,r.g1)("",!0)])),[[p,"assetChecks.create"]]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("div",xd,[(0,r.QD)("div",Pd,[(0,r.QD)("div",Cd,[(0,r.wt)((0,r.QD)("input",{type:"text",class:"form-control",placeholder:"Lcl","onUpdate:modelValue":a[17]||(a[17]=e=>i.check.lcl=e)},null,512),[[t.Og,i.check.lcl]])]),(0,r.QD)("div",$d,[(0,r.wt)((0,r.QD)("input",{type:"text",class:"form-control",placeholder:"Ucl","onUpdate:modelValue":a[18]||(a[18]=e=>i.check.ucl=e)},null,512),[[t.Og,i.check.ucl]])]),(0,r.QD)("div",Sd,[(0,r.wt)((0,r.QD)("input",{type:"text",class:"form-control",placeholder:"Default Value","onUpdate:modelValue":a[19]||(a[19]=e=>i.check.default_value=e)},null,512),[[t.Og,i.check.default_value]])]),(0,r.QD)("div",Ud,[i.check.asset_check_id?((0,r.Wz)(),(0,r.An)("button",{key:0,class:"btn btn-outline-success me-2",onClick:a[20]||(a[20]=e=>o.updateCheck())},a[104]||(a[104]=[(0,r.QD)("i",{class:"ri-add-circle-line icon-hgt"},null,-1),(0,r.mY)(" Update ")]))):((0,r.Wz)(),(0,r.An)("button",{key:1,class:"btn btn-outline-success me-2",onClick:a[21]||(a[21]=e=>o.addCheck())},a[105]||(a[105]=[(0,r.QD)("i",{class:"ri-add-circle-line icon-hgt"},null,-1),(0,r.mY)(" Add ")])))])])])),[[p,"assetChecks.create"]]),(0,r.QD)("div",Vd,[(0,r.QD)("div",jd,[(0,r.QD)("table",Yd,[(0,r.QD)("thead",null,[(0,r.QD)("tr",null,[a[113]||(a[113]=(0,r.QD)("th",{class:"text-center",width:"2%"},"#",-1)),(0,r.QD)("th",{onClick:a[22]||(a[22]=e=>o.sortCheck("asset_zone_id"))},[a[106]||(a[106]=(0,r.mY)(" Asset Zone ")),(0,r.QD)("span",null,["asset_zone_id"==i.check_meta.keyword&&"asc"==i.check_meta.order_by?((0,r.Wz)(),(0,r.An)("i",Td)):"asset_zone_id"==i.check_meta.keyword&&"desc"==i.check_meta.order_by?((0,r.Wz)(),(0,r.An)("i",Nd)):((0,r.Wz)(),(0,r.An)("i",Rd))])]),(0,r.QD)("th",{onClick:a[23]||(a[23]=e=>o.sortCheck("check_id")),width:"40%",style:{"white-space":"normal"}},[a[107]||(a[107]=(0,r.mY)(" Field Name ")),(0,r.QD)("span",null,["field_name"==i.check_meta.keyword&&"asc"==i.check_meta.order_by?((0,r.Wz)(),(0,r.An)("i",qd)):"field_name"==i.check_meta.keyword&&"desc"==i.check_meta.order_by?((0,r.Wz)(),(0,r.An)("i",Ed)):((0,r.Wz)(),(0,r.An)("i",Kd))])]),(0,r.QD)("th",{onClick:a[24]||(a[24]=e=>o.sortCheck("check_id")),width:"10%"},[a[108]||(a[108]=(0,r.mY)(" Field Type ")),(0,r.QD)("span",null,["field_type"==i.check_meta.keyword&&"asc"==i.check_meta.order_by?((0,r.Wz)(),(0,r.An)("i",Id)):"field_type"==i.check_meta.keyword&&"desc"==i.check_meta.order_by?((0,r.Wz)(),(0,r.An)("i",Fd)):((0,r.Wz)(),(0,r.An)("i",Od))])]),(0,r.QD)("th",{onClick:a[25]||(a[25]=e=>o.sortCheck("lcl")),width:"8%"},[a[109]||(a[109]=(0,r.mY)(" Lcl ")),(0,r.QD)("span",null,["lcl"==i.check_meta.keyword&&"asc"==i.check_meta.order_by?((0,r.Wz)(),(0,r.An)("i",Ld)):"lcl"==i.check_meta.keyword&&"desc"==i.check_meta.order_by?((0,r.Wz)(),(0,r.An)("i",Bd)):((0,r.Wz)(),(0,r.An)("i",Md))])]),(0,r.QD)("th",{onClick:a[26]||(a[26]=e=>o.sortCheck("ucl")),width:"8%"},[a[110]||(a[110]=(0,r.mY)(" Ucl ")),(0,r.QD)("span",null,["ucl"==i.check_meta.keyword&&"asc"==i.check_meta.order_by?((0,r.Wz)(),(0,r.An)("i",Zd)):"ucl"==i.check_meta.keyword&&"desc"==i.check_meta.order_by?((0,r.Wz)(),(0,r.An)("i",Hd)):((0,r.Wz)(),(0,r.An)("i",Jd))])]),(0,r.QD)("th",{onClick:a[27]||(a[27]=e=>o.sortCheck("default_value")),width:"8%",style:{"white-space":"normal"}},[a[111]||(a[111]=(0,r.mY)(" Default Value ")),(0,r.QD)("span",null,["default_value"==i.check_meta.keyword&&"asc"==i.check_meta.order_by?((0,r.Wz)(),(0,r.An)("i",Gd)):"default_value"==i.check_meta.keyword&&"desc"==i.check_meta.order_by?((0,r.Wz)(),(0,r.An)("i",Xd)):((0,r.Wz)(),(0,r.An)("i",ec))])]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("th",ac,a[112]||(a[112]=[(0,r.mY)("Actions")]))),[[p,"assetChecks.delete"]])])]),(0,r.QD)("tbody",null,[0==i.asset_checks?.length?((0,r.Wz)(),(0,r.An)("tr",sc,a[114]||(a[114]=[(0,r.QD)("td",{colspan:"8",class:"text-center"},"No records found",-1)]))):(0,r.g1)("",!0),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.asset_checks,((e,s)=>((0,r.Wz)(),(0,r.An)("tr",{key:s},[(0,r.QD)("td",tc,(0,d.WA)(i.check_meta.from+s),1),(0,r.QD)("td",null,(0,d.WA)(e?.asset_zone?.zone_name),1),(0,r.QD)("td",rc,(0,d.WA)(e?.check?.field_name),1),(0,r.QD)("td",null,(0,d.WA)(e?.check?.field_type),1),(0,r.QD)("td",null,(0,d.WA)(e.lcl),1),(0,r.QD)("td",null,(0,d.WA)(e.ucl),1),(0,r.QD)("td",lc,(0,d.WA)(e.default_value),1),(0,r.wt)(((0,r.Wz)(),(0,r.An)("td",ic,[(0,r.QD)("a",{href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editCheck(e)},a[115]||(a[115]=[(0,r.QD)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,oc),(0,r.QD)("a",{href:"javascript:void(0)",class:"text-danger me-2",onClick:a=>o.deleteCheck(e)},a[116]||(a[116]=[(0,r.QD)("i",{class:"ri-delete-bin-6-line fs-18 lh-1"},null,-1)]),8,nc)])),[[p,"assetChecks.delete"]])])))),128))])])])])])]),(0,r.QD)("div",dc,[(0,r.QD)("div",cc,[(0,r.wt)((0,r.QD)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[28]||(a[28]=e=>i.check_meta.per_page=e),onChange:a[29]||(a[29]=(...e)=>o.onPerPageChangeCheck&&o.onPerPageChangeCheck(...e))},a[117]||(a[117]=[(0,r.QD)("option",null,"5",-1),(0,r.QD)("option",null,"10",-1),(0,r.QD)("option",null,"15",-1),(0,r.QD)("option",null,"20",-1),(0,r.QD)("option",null,"25",-1),(0,r.QD)("option",null,"30",-1)]),544),[[t.Ip,i.check_meta.per_page]]),(0,r.QD)("span",null,"Showing "+(0,d.WA)(i.check_meta.from)+" to "+(0,d.WA)(i.check_meta.to)+" of "+(0,d.WA)(i.check_meta.totalRows)+" entries",1),(0,r.K2)(u,{maxPage:i.check_meta.maxPage,totalPages:i.check_meta.lastPage,currentPage:i.check_meta.page,onPagechanged:o.onPageChangeCheck},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])),[[p,"assetChecks.view"]]),(0,r.QD)("div",uc,[(0,r.QD)("div",pc,[a[133]||(a[133]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Services")],-1)),(0,r.QD)("div",mc,[(0,r.QD)("div",_c,[(0,r.wt)(((0,r.Wz)(),(0,r.An)("div",hc,[(0,r.QD)("div",{class:"dropdown",onClick:a[30]||(a[30]=e=>o.toggleAssetZoneStatus("services"))},[a[120]||(a[120]=(0,r.QD)("div",{class:"overselect"},null,-1)),(0,r.QD)("select",{class:(0,d.WN)(["form-control form-control",{"is-invalid":i.errors.service_asset_zones}])},a[119]||(a[119]=[(0,r.QD)("option",{value:""},"Select Asset Zone",-1)]),2),i.errors.service_asset_zones?((0,r.Wz)(),(0,r.An)("span",bc,(0,d.WA)(i.errors.service_asset_zones[0]),1)):(0,r.g1)("",!0)]),i.asset_zone_status_services?((0,r.Wz)(),(0,r.An)("div",vc,[(0,r.QD)("ul",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.asset_zones,((e,s)=>((0,r.Wz)(),(0,r.An)("li",{key:s},[(0,r.wt)((0,r.QD)("input",{type:"checkbox",value:e.asset_zone_id,"onUpdate:modelValue":a[31]||(a[31]=e=>i.service.service_asset_zones=e),style:{padding:"2px"},onClick:a[32]||(a[32]=e=>o.updateServiceAssetZone(e,i.service))},null,8,yc),[[t.cV,i.service.service_asset_zones]]),(0,r.QD)("label",gc,(0,d.WA)(e.zone_name),1)])))),128))])])):(0,r.g1)("",!0)])),[[p,"assetChecks.create"]]),(0,r.QD)("div",Dc,[(0,r.K2)(c,{class:(0,d.WN)([{"is-invalid":i.errors.service_id},"my-auto"]),customClass:{"is-invalid":i.errors.service_id},"aria-describedby":"basic-addon2","aria-label":"Select Check",initialize:i.service.service_id,id:"service_id",label:"service_name",placeholder:"Select Service",data:e.services,onInput:a[33]||(a[33]=e=>i.service.service_id=e)},null,8,["class","customClass","initialize","data"]),i.errors.service_id?((0,r.Wz)(),(0,r.An)("span",Qc,(0,d.WA)(i.errors.service_id[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",fc,[i.service.asset_service_id?((0,r.Wz)(),(0,r.An)("button",{key:0,class:"btn btn-outline-success me-2",onClick:a[34]||(a[34]=e=>o.updateService())},a[121]||(a[121]=[(0,r.QD)("i",{class:"ri-add-circle-line icon-hgt"},null,-1),(0,r.mY)(" Update ")]))):((0,r.Wz)(),(0,r.An)("button",{key:1,class:"btn btn-outline-success me-2",onClick:a[35]||(a[35]=e=>o.addService())},a[122]||(a[122]=[(0,r.QD)("i",{class:"ri-add-circle-line icon-hgt"},null,-1),(0,r.mY)(" Add ")])))]),(0,r.QD)("div",kc,[(0,r.QD)("div",wc,[(0,r.QD)("table",Ac,[(0,r.QD)("thead",null,[(0,r.QD)("tr",Wc,[a[128]||(a[128]=(0,r.QD)("th",{class:"text-center"},"#",-1)),(0,r.QD)("th",null,[a[123]||(a[123]=(0,r.mY)(" Asset Zone ")),(0,r.QD)("span",null,["asset_zone_id"==i.check_meta.keyword&&"asc"==i.check_meta.order_by?((0,r.Wz)(),(0,r.An)("i",zc)):"asset_zone_id"==i.check_meta.keyword&&"desc"==i.check_meta.order_by?((0,r.Wz)(),(0,r.An)("i",xc)):((0,r.Wz)(),(0,r.An)("i",Pc))])]),(0,r.QD)("th",null,[a[124]||(a[124]=(0,r.mY)(" Service Type ")),(0,r.QD)("span",null,["service_type_id"==i.check_meta.keyword&&"asc"==i.check_meta.order_by?((0,r.Wz)(),(0,r.An)("i",Cc)):"service_type_id"==i.check_meta.keyword&&"desc"==i.check_meta.order_by?((0,r.Wz)(),(0,r.An)("i",$c)):((0,r.Wz)(),(0,r.An)("i",Sc))])]),(0,r.QD)("th",null,[a[125]||(a[125]=(0,r.mY)(" Service Name ")),(0,r.QD)("span",null,["service_name"==i.check_meta.keyword&&"asc"==i.check_meta.order_by?((0,r.Wz)(),(0,r.An)("i",Uc)):"service_name"==i.check_meta.keyword&&"desc"==i.check_meta.order_by?((0,r.Wz)(),(0,r.An)("i",Vc)):((0,r.Wz)(),(0,r.An)("i",jc))])]),(0,r.QD)("th",null,[a[126]||(a[126]=(0,r.mY)(" Service Code ")),(0,r.QD)("span",null,["service_code"==i.check_meta.keyword&&"asc"==i.check_meta.order_by?((0,r.Wz)(),(0,r.An)("i",Yc)):"service_code"==i.check_meta.keyword&&"desc"==i.check_meta.order_by?((0,r.Wz)(),(0,r.An)("i",Tc)):((0,r.Wz)(),(0,r.An)("i",Nc))])]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("th",Rc,a[127]||(a[127]=[(0,r.mY)("Actions")]))),[[p,"assetChecks.delete"]])])]),(0,r.QD)("tbody",null,[0==i.asset_services?.length?((0,r.Wz)(),(0,r.An)("tr",qc,a[129]||(a[129]=[(0,r.QD)("td",{colspan:"6",class:"text-center"},"No records found",-1)]))):(0,r.g1)("",!0),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.asset_services,((e,s)=>((0,r.Wz)(),(0,r.An)("tr",{key:s},[(0,r.QD)("td",Ec,(0,d.WA)(i.check_meta_service.from+s),1),(0,r.QD)("td",null,(0,d.WA)(e?.asset_zone?.zone_name),1),(0,r.QD)("td",null,(0,d.WA)(e?.service?.service_type?.service_type_name),1),(0,r.QD)("td",null,(0,d.WA)(e?.service?.service_name),1),(0,r.QD)("td",null,(0,d.WA)(e?.service?.service_code),1),(0,r.QD)("td",Kc,[(0,r.QD)("a",{href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editService(e)},a[130]||(a[130]=[(0,r.QD)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,Ic),(0,r.QD)("a",{href:"javascript:void(0)",class:"text-danger me-2",onClick:a=>o.deleteService(e)},a[131]||(a[131]=[(0,r.QD)("i",{class:"ri-delete-bin-6-line fs-18 lh-1"},null,-1)]),8,Fc)])])))),128))])])])])])]),(0,r.QD)("div",Oc,[(0,r.QD)("div",Lc,[(0,r.wt)((0,r.QD)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[36]||(a[36]=e=>i.check_meta_service.per_page=e),onChange:a[37]||(a[37]=(...e)=>o.onPerPageChangeCheck&&o.onPerPageChangeCheck(...e))},a[132]||(a[132]=[(0,r.QD)("option",null,"5",-1),(0,r.QD)("option",null,"10",-1),(0,r.QD)("option",null,"15",-1),(0,r.QD)("option",null,"20",-1),(0,r.QD)("option",null,"25",-1),(0,r.QD)("option",null,"30",-1)]),544),[[t.Ip,i.check_meta_service.per_page]]),(0,r.QD)("span",null,"Showing "+(0,d.WA)(i.check_meta_service.from)+" to "+(0,d.WA)(i.check_meta_service.to)+" of "+(0,d.WA)(i.check_meta_service.totalRows)+" entries",1),(0,r.K2)(u,{maxPage:i.check_meta_service.maxPage,totalPages:i.check_meta_service.lastPage,currentPage:i.check_meta_service.page,onPagechanged:o.onPageChangeCheck},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])]),(0,r.QD)("div",Bc,[(0,r.QD)("div",Mc,[a[148]||(a[148]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Variables")],-1)),(0,r.QD)("div",Zc,[(0,r.QD)("div",Hc,[(0,r.QD)("div",Jc,[(0,r.QD)("div",{class:"dropdown",onClick:a[38]||(a[38]=e=>o.toggleAssetZoneStatus("variables"))},[a[135]||(a[135]=(0,r.QD)("div",{class:"overselect"},null,-1)),(0,r.QD)("select",{class:(0,d.WN)(["form-control form-control",{"is-invalid":i.errors.variable_asset_zones}])},a[134]||(a[134]=[(0,r.QD)("option",{value:""},"Select Asset Zone",-1)]),2),i.errors.variable_asset_zones?((0,r.Wz)(),(0,r.An)("span",Gc,(0,d.WA)(i.errors.variable_asset_zones[0]),1)):(0,r.g1)("",!0)]),i.asset_zone_status_variables?((0,r.Wz)(),(0,r.An)("div",Xc,[(0,r.QD)("ul",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.asset_zones,((e,s)=>((0,r.Wz)(),(0,r.An)("li",{key:s},[(0,r.wt)((0,r.QD)("input",{type:"checkbox",value:e.asset_zone_id,"onUpdate:modelValue":a[39]||(a[39]=e=>i.variable.variable_asset_zones=e),style:{padding:"2px"},onClick:a[40]||(a[40]=e=>o.updateVariableAssetZone(e,i.variable))},null,8,eu),[[t.cV,i.variable.variable_asset_zones]]),(0,r.QD)("label",au,(0,d.WA)(e.zone_name),1)])))),128))])])):(0,r.g1)("",!0)]),(0,r.QD)("div",su,[(0,r.K2)(c,{class:(0,d.WN)([{"is-invalid":i.errors.variable_id},"my-auto"]),customClass:{"is-invalid":i.errors.variable_id},"aria-describedby":"basic-addon2","aria-label":"Select Variable",initialize:i.variable.variable_id,id:"variable_id",label:"variable_name",label2:"variable_code",placeholder:"Select Variable",data:e.variables,onInput:a[41]||(a[41]=e=>i.variable.variable_id=e)},null,8,["class","customClass","initialize","data"]),i.errors.variable_id?((0,r.Wz)(),(0,r.An)("span",tu,(0,d.WA)(i.errors.variable_id[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",ru,[i.variable.asset_variable_id?((0,r.Wz)(),(0,r.An)("button",{key:0,class:"btn btn-outline-success me-2",onClick:a[42]||(a[42]=e=>o.updateVariable())},a[136]||(a[136]=[(0,r.QD)("i",{class:"ri-add-circle-line icon-hgt"},null,-1),(0,r.mY)(" Update ")]))):((0,r.Wz)(),(0,r.An)("button",{key:1,class:"btn btn-outline-success me-2",onClick:a[43]||(a[43]=e=>o.addVariable())},a[137]||(a[137]=[(0,r.QD)("i",{class:"ri-add-circle-line icon-hgt"},null,-1),(0,r.mY)(" Add ")])))]),(0,r.QD)("div",lu,[(0,r.QD)("div",iu,[(0,r.QD)("table",ou,[(0,r.QD)("thead",null,[(0,r.QD)("tr",nu,[a[142]||(a[142]=(0,r.QD)("th",{class:"text-center"},"#",-1)),(0,r.QD)("th",null,[a[138]||(a[138]=(0,r.mY)(" Asset Zone ")),(0,r.QD)("span",null,["asset_zone_id"==i.variable_meta_service.keyword&&"asc"==i.variable_meta_service.order_by?((0,r.Wz)(),(0,r.An)("i",du)):"asset_zone_id"==i.variable_meta_service.keyword&&"desc"==i.variable_meta_service.order_by?((0,r.Wz)(),(0,r.An)("i",cu)):((0,r.Wz)(),(0,r.An)("i",uu))])]),(0,r.QD)("th",null,[a[139]||(a[139]=(0,r.mY)(" Variable Type ")),(0,r.QD)("span",null,["variable_type_id"==i.variable_meta_service.keyword&&"asc"==i.variable_meta_service.order_by?((0,r.Wz)(),(0,r.An)("i",pu)):"variable_type_id"==i.variable_meta_service.keyword&&"desc"==i.variable_meta_service.order_by?((0,r.Wz)(),(0,r.An)("i",mu)):((0,r.Wz)(),(0,r.An)("i",_u))])]),(0,r.QD)("th",null,[a[140]||(a[140]=(0,r.mY)(" Variable Code ")),(0,r.QD)("span",null,["variable_name"==i.variable_meta_service.keyword&&"asc"==i.variable_meta_service.order_by?((0,r.Wz)(),(0,r.An)("i",hu)):"variable_name"==i.variable_meta_service.keyword&&"desc"==i.variable_meta_service.order_by?((0,r.Wz)(),(0,r.An)("i",bu)):((0,r.Wz)(),(0,r.An)("i",vu))])]),(0,r.QD)("th",null,[a[141]||(a[141]=(0,r.mY)(" Variable Name ")),(0,r.QD)("span",null,["variable_name"==i.variable_meta_service.keyword&&"asc"==i.variable_meta_service.order_by?((0,r.Wz)(),(0,r.An)("i",yu)):"variable_name"==i.variable_meta_service.keyword&&"desc"==i.variable_meta_service.order_by?((0,r.Wz)(),(0,r.An)("i",gu)):((0,r.Wz)(),(0,r.An)("i",Du))])]),a[143]||(a[143]=(0,r.QD)("th",{class:"text-center"},"Actions",-1))])]),(0,r.QD)("tbody",null,[0==i.asset_variables?.length?((0,r.Wz)(),(0,r.An)("tr",Qu,a[144]||(a[144]=[(0,r.QD)("td",{colspan:"6",class:"text-center"},"No records found",-1)]))):(0,r.g1)("",!0),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.asset_variables,((e,s)=>((0,r.Wz)(),(0,r.An)("tr",{key:s},[(0,r.QD)("td",fu,(0,d.WA)(i.variable_meta_service.from+s),1),(0,r.QD)("td",null,(0,d.WA)(e.asset_zone?.zone_name),1),(0,r.QD)("td",null,(0,d.WA)(e.variable?.variable_type?.variable_type_name),1),(0,r.QD)("td",null,(0,d.WA)(e.variable?.variable_code),1),(0,r.QD)("td",null,(0,d.WA)(e.variable?.variable_name),1),(0,r.QD)("td",ku,[(0,r.QD)("a",{href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editVariable(e)},a[145]||(a[145]=[(0,r.QD)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,wu),(0,r.QD)("a",{href:"javascript:void(0)",class:"text-danger me-2",onClick:a=>o.deleteVariable(e)},a[146]||(a[146]=[(0,r.QD)("i",{class:"ri-delete-bin-6-line fs-18 lh-1"},null,-1)]),8,Au)])])))),128))])])])])])]),(0,r.QD)("div",Wu,[(0,r.QD)("div",zu,[(0,r.wt)((0,r.QD)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[44]||(a[44]=e=>i.variable_meta_service.per_page=e),onChange:a[45]||(a[45]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[147]||(a[147]=[(0,r.QD)("option",null,"5",-1),(0,r.QD)("option",null,"10",-1),(0,r.QD)("option",null,"15",-1),(0,r.QD)("option",null,"20",-1),(0,r.QD)("option",null,"25",-1),(0,r.QD)("option",null,"30",-1)]),544),[[t.Ip,i.variable_meta_service.per_page]]),(0,r.QD)("span",null,"Showing "+(0,d.WA)(i.variable_meta_service.from)+" to "+(0,d.WA)(i.variable_meta_service.to)+" of "+(0,d.WA)(i.variable_meta_service.totalRows)+" entries",1),(0,r.K2)(u,{maxPage:i.variable_meta_service.maxPage,totalPages:i.variable_meta_service.lastPage,currentPage:i.variable_meta_service.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])]),(0,r.QD)("div",xu,[(0,r.QD)("div",Pu,[a[163]||(a[163]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Data Sources")],-1)),(0,r.QD)("div",Cu,[(0,r.QD)("div",$u,[(0,r.QD)("div",Su,[(0,r.QD)("div",{class:"dropdown",onClick:a[46]||(a[46]=e=>o.toggleAssetZoneStatus("datasources"))},[a[150]||(a[150]=(0,r.QD)("div",{class:"overselect"},null,-1)),(0,r.QD)("select",{class:(0,d.WN)(["form-control form-control",{"is-invalid":i.errors.data_source_asset_zones}])},a[149]||(a[149]=[(0,r.QD)("option",{value:""},"Select Asset Zone",-1)]),2),i.errors.data_source_asset_zones?((0,r.Wz)(),(0,r.An)("span",Uu,(0,d.WA)(i.errors.data_source_asset_zones[0]),1)):(0,r.g1)("",!0)]),i.asset_zone_status_datasources?((0,r.Wz)(),(0,r.An)("div",Vu,[(0,r.QD)("ul",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.asset_zones,((e,s)=>((0,r.Wz)(),(0,r.An)("li",{key:s},[(0,r.wt)((0,r.QD)("input",{type:"checkbox",value:e.asset_zone_id,"onUpdate:modelValue":a[47]||(a[47]=e=>i.datasource.data_source_asset_zones=e),style:{padding:"2px"},onClick:a[48]||(a[48]=e=>o.updateDataSourceAssetZone(e,i.datasource))},null,8,ju),[[t.cV,i.datasource.data_source_asset_zones]]),(0,r.QD)("label",Yu,(0,d.WA)(e.zone_name),1)])))),128))])])):(0,r.g1)("",!0)]),(0,r.QD)("div",Tu,[(0,r.K2)(c,{class:(0,d.WN)([{"is-invalid":i.errors.data_source_id},"my-auto"]),customClass:{"is-invalid":i.errors.data_source_id},"aria-describedby":"basic-addon2","aria-label":"Select Data Source",initialize:i.datasource.data_source_id,id:"data_source_id",label:"data_source_name",label2:"data_source_code",placeholder:"Select Data Source",data:e.data_sources,onInput:a[49]||(a[49]=e=>i.datasource.data_source_id=e)},null,8,["class","customClass","initialize","data"]),i.errors.data_source_id?((0,r.Wz)(),(0,r.An)("span",Nu,(0,d.WA)(i.errors.data_source_id[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",Ru,[i.datasource.asset_data_source_id?((0,r.Wz)(),(0,r.An)("button",{key:0,class:"btn btn-outline-success me-2",onClick:a[50]||(a[50]=e=>o.updateDataSource())},a[151]||(a[151]=[(0,r.QD)("i",{class:"ri-add-circle-line icon-hgt"},null,-1),(0,r.mY)(" Update ")]))):((0,r.Wz)(),(0,r.An)("button",{key:1,class:"btn btn-outline-success me-2",onClick:a[51]||(a[51]=e=>o.addDataSource())},a[152]||(a[152]=[(0,r.QD)("i",{class:"ri-add-circle-line icon-hgt"},null,-1),(0,r.mY)(" Add ")])))]),(0,r.QD)("div",qu,[(0,r.QD)("div",Eu,[(0,r.QD)("table",Ku,[(0,r.QD)("thead",null,[(0,r.QD)("tr",Iu,[a[157]||(a[157]=(0,r.QD)("th",{class:"text-center"},"#",-1)),(0,r.QD)("th",null,[a[153]||(a[153]=(0,r.mY)(" Asset Zone ")),(0,r.QD)("span",null,["asset_zone_id"==i.datasource_meta_service.keyword&&"asc"==i.datasource_meta_service.order_by?((0,r.Wz)(),(0,r.An)("i",Fu)):"asset_zone_id"==i.datasource_meta_service.keyword&&"desc"==i.datasource_meta_service.order_by?((0,r.Wz)(),(0,r.An)("i",Ou)):((0,r.Wz)(),(0,r.An)("i",Lu))])]),(0,r.QD)("th",null,[a[154]||(a[154]=(0,r.mY)(" Data Source Type ")),(0,r.QD)("span",null,["data_source_type_id"==i.datasource_meta_service.keyword&&"asc"==i.datasource_meta_service.order_by?((0,r.Wz)(),(0,r.An)("i",Bu)):"data_source_type_id"==i.datasource_meta_service.keyword&&"desc"==i.datasource_meta_service.order_by?((0,r.Wz)(),(0,r.An)("i",Mu)):((0,r.Wz)(),(0,r.An)("i",Zu))])]),(0,r.QD)("th",null,[a[155]||(a[155]=(0,r.mY)(" Data Source Code ")),(0,r.QD)("span",null,["data_source_code"==i.datasource_meta_service.keyword&&"asc"==i.datasource_meta_service.order_by?((0,r.Wz)(),(0,r.An)("i",Hu)):"data_source_code"==i.datasource_meta_service.keyword&&"desc"==i.datasource_meta_service.order_by?((0,r.Wz)(),(0,r.An)("i",Ju)):((0,r.Wz)(),(0,r.An)("i",Gu))])]),(0,r.QD)("th",null,[a[156]||(a[156]=(0,r.mY)(" Data Source Name ")),(0,r.QD)("span",null,["data_source_name"==i.datasource_meta_service.keyword&&"asc"==i.datasource_meta_service.order_by?((0,r.Wz)(),(0,r.An)("i",Xu)):"data_source_name"==i.datasource_meta_service.keyword&&"desc"==i.datasource_meta_service.order_by?((0,r.Wz)(),(0,r.An)("i",ep)):((0,r.Wz)(),(0,r.An)("i",ap))])]),a[158]||(a[158]=(0,r.QD)("th",{class:"text-center"},"Actions",-1))])]),(0,r.QD)("tbody",null,[0==i.asset_data_sources.length?((0,r.Wz)(),(0,r.An)("tr",sp,a[159]||(a[159]=[(0,r.QD)("td",{colspan:"6",class:"text-center"},"No records found",-1)]))):(0,r.g1)("",!0),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.asset_data_sources,((e,s)=>((0,r.Wz)(),(0,r.An)("tr",{key:s},[(0,r.QD)("td",tp,(0,d.WA)(i.datasource_meta_service.from+s),1),(0,r.QD)("td",null,(0,d.WA)(e.asset_zone?.zone_name),1),(0,r.QD)("td",null,(0,d.WA)(e.data_source?.data_source_type?.data_source_type_name),1),(0,r.QD)("td",null,(0,d.WA)(e?.data_source?.data_source_code),1),(0,r.QD)("td",null,(0,d.WA)(e?.data_source?.data_source_name),1),(0,r.QD)("td",rp,[(0,r.QD)("a",{href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editDataSource(e)},a[160]||(a[160]=[(0,r.QD)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,lp),(0,r.QD)("a",{href:"javascript:void(0)",class:"text-danger me-2",onClick:a=>o.deleteDataSource(e)},a[161]||(a[161]=[(0,r.QD)("i",{class:"ri-delete-bin-6-line fs-18 lh-1"},null,-1)]),8,ip)])])))),128))])])])])])]),(0,r.QD)("div",op,[(0,r.QD)("div",np,[(0,r.wt)((0,r.QD)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[52]||(a[52]=e=>i.datasource_meta_service.per_page=e),onChange:a[53]||(a[53]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[162]||(a[162]=[(0,r.QD)("option",null,"5",-1),(0,r.QD)("option",null,"10",-1),(0,r.QD)("option",null,"15",-1),(0,r.QD)("option",null,"20",-1),(0,r.QD)("option",null,"25",-1),(0,r.QD)("option",null,"30",-1)]),544),[[t.Ip,i.datasource_meta_service.per_page]]),(0,r.QD)("span",null,"Showing "+(0,d.WA)(i.datasource_meta_service.from)+" to "+(0,d.WA)(i.datasource_meta_service.to)+" of "+(0,d.WA)(i.datasource_meta_service.totalRows)+" entries",1),(0,r.K2)(u,{maxPage:i.datasource_meta_service.maxPage,totalPages:i.datasource_meta_service.lastPage,currentPage:i.datasource_meta_service.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])]),(0,r.QD)("div",dp,[(0,r.QD)("div",cp,[a[176]||(a[176]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Accessories")],-1)),(0,r.QD)("div",up,[(0,r.QD)("div",pp,[(0,r.QD)("div",mp,[(0,r.QD)("div",{class:"dropdown",onClick:a[54]||(a[54]=e=>o.toggleAssetZoneStatus("accessories"))},[a[165]||(a[165]=(0,r.QD)("div",{class:"overselect"},null,-1)),(0,r.QD)("select",{class:(0,d.WN)(["form-control form-control",{"is-invalid":i.errors.accessory_asset_zone_id}])},a[164]||(a[164]=[(0,r.QD)("option",{value:""},"Select Asset Zone",-1)]),2),i.errors.accessory_asset_zone_id?((0,r.Wz)(),(0,r.An)("span",_p,(0,d.WA)(i.errors.accessory_asset_zone_id[0]),1)):(0,r.g1)("",!0)]),i.asset_zone_status_accessories?((0,r.Wz)(),(0,r.An)("div",hp,[(0,r.QD)("ul",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.asset_zones,((e,s)=>((0,r.Wz)(),(0,r.An)("li",{key:s},[(0,r.wt)((0,r.QD)("input",{type:"checkbox",value:e.asset_zone_id,"onUpdate:modelValue":a[55]||(a[55]=e=>i.accessory.accessory_asset_zone_id=e),style:{padding:"2px"}},null,8,bp),[[t.cV,i.accessory.accessory_asset_zone_id]]),(0,r.QD)("label",vp,(0,d.WA)(e.zone_name),1)])))),128))])])):(0,r.g1)("",!0)]),(0,r.QD)("div",yp,[(0,r.K2)(c,{class:(0,d.WN)([{"is-invalid":i.errors.accessory_type_id},"my-auto"]),customClass:{"is-invalid":i.errors.accessory_type_id},"aria-describedby":"basic-addon2","aria-label":"Select Accessory",initialize:i.accessory.accessory_type_id,id:"accessory_type_id",label:"accessory_type_name",placeholder:"Select Accessory",data:i.accessory_types,onInput:a[56]||(a[56]=e=>i.accessory.accessory_type_id=e)},null,8,["class","customClass","initialize","data"]),i.errors.accessory_type_id?((0,r.Wz)(),(0,r.An)("span",gp,(0,d.WA)(i.errors.accessory_type_id[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",Dp,[(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Enter accessory name",class:(0,d.WN)(["form-control",{"is-invalid":i.errors?.accessory_name}]),"onUpdate:modelValue":a[57]||(a[57]=e=>i.accessory.accessory_name=e)},null,2),[[t.Og,i.accessory.accessory_name]]),i.errors?.accessory_name?((0,r.Wz)(),(0,r.An)("span",Qp,(0,d.WA)(i.errors.accessory_name[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",fp,[(0,r.QD)("input",{type:"file",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.attachment}]),id:"attachment",ref:"attachment",name:"attachment"},null,2),i.errors?.attachment?((0,r.Wz)(),(0,r.An)("span",kp,(0,d.WA)(i.errors.attachment[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",wp,[(0,r.QD)("div",Ap,[(0,r.QD)("button",{class:"btn btn-outline-success me-2",onClick:a[58]||(a[58]=e=>o.addAccessory())},a[166]||(a[166]=[(0,r.QD)("i",{class:"ri-add-circle-line icon-hgt"},null,-1),(0,r.mY)(" Add")]))])]),(0,r.QD)("div",Wp,[(0,r.QD)("div",zp,[(0,r.QD)("table",xp,[(0,r.QD)("thead",null,[(0,r.QD)("tr",Pp,[a[171]||(a[171]=(0,r.QD)("th",{class:"text-center"},"#",-1)),(0,r.QD)("th",null,[a[167]||(a[167]=(0,r.mY)(" Asset Zone ")),(0,r.QD)("span",null,["asset_zone_id"==i.accessory_meta_service.keyword&&"asc"==i.accessory_meta_service.order_by?((0,r.Wz)(),(0,r.An)("i",Cp)):"asset_zone_id"==i.accessory_meta_service.keyword&&"desc"==i.accessory_meta_service.order_by?((0,r.Wz)(),(0,r.An)("i",$p)):((0,r.Wz)(),(0,r.An)("i",Sp))])]),(0,r.QD)("th",null,[a[168]||(a[168]=(0,r.mY)(" Accessory Type ")),(0,r.QD)("span",null,["accessory_type_id"==i.accessory_meta_service.keyword&&"asc"==i.accessory_meta_service.order_by?((0,r.Wz)(),(0,r.An)("i",Up)):"accessory_type_id"==i.accessory_meta_service.keyword&&"desc"==i.accessory_meta_service.order_by?((0,r.Wz)(),(0,r.An)("i",Vp)):((0,r.Wz)(),(0,r.An)("i",jp))])]),(0,r.QD)("th",null,[a[169]||(a[169]=(0,r.mY)(" Accessory Name ")),(0,r.QD)("span",null,["accessory_name"==i.accessory_meta_service.keyword&&"asc"==i.accessory_meta_service.order_by?((0,r.Wz)(),(0,r.An)("i",Yp)):"accessory_name"==i.accessory_meta_service.keyword&&"desc"==i.accessory_meta_service.order_by?((0,r.Wz)(),(0,r.An)("i",Tp)):((0,r.Wz)(),(0,r.An)("i",Np))])]),(0,r.QD)("th",null,[a[170]||(a[170]=(0,r.mY)(" Attachment ")),(0,r.QD)("span",null,["attachment"==i.accessory_meta_service.keyword&&"asc"==i.accessory_meta_service.order_by?((0,r.Wz)(),(0,r.An)("i",Rp)):"attachment"==i.accessory_meta_service.keyword&&"desc"==i.accessory_meta_service.order_by?((0,r.Wz)(),(0,r.An)("i",qp)):((0,r.Wz)(),(0,r.An)("i",Ep))])]),a[172]||(a[172]=(0,r.QD)("th",{class:"text-center"},"Actions",-1))])]),(0,r.QD)("tbody",null,[0==i.asset_accessories?.length?((0,r.Wz)(),(0,r.An)("tr",Kp,a[173]||(a[173]=[(0,r.QD)("td",{colspan:"6",class:"text-center"},"No records found",-1)]))):(0,r.g1)("",!0),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.asset_accessories,((e,s)=>((0,r.Wz)(),(0,r.An)("tr",{key:s},[(0,r.QD)("td",Ip,(0,d.WA)(i.accessory_meta_service.from+s),1),(0,r.QD)("td",null,(0,d.WA)(e.asset_zone?.zone_name),1),(0,r.QD)("td",null,(0,d.WA)(e.accessory_type.accessory_type_name),1),(0,r.QD)("td",null,(0,d.WA)(e.accessory_name),1),(0,r.QD)("td",null,[e.attachment?((0,r.Wz)(),(0,r.An)("a",{key:0,href:o.getAttachmentUrl(e.attachment),target:"_blank",rel:"noopener noreferrer"},(0,d.WA)(o.getAttachmentName(e.attachment)),9,Fp)):((0,r.Wz)(),(0,r.An)("span",Op,"No attachment"))]),(0,r.QD)("td",Lp,[(0,r.QD)("a",{href:"javascript:void(0)",class:"text-danger me-2",onClick:a=>o.deleteAccessory(e)},a[174]||(a[174]=[(0,r.QD)("i",{class:"ri-delete-bin-6-line fs-18 lh-1"},null,-1)]),8,Bp)])])))),128))])])])])])]),(0,r.QD)("div",Mp,[(0,r.QD)("div",Zp,[(0,r.wt)((0,r.QD)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[59]||(a[59]=e=>i.accessory_meta_service.per_page=e),onChange:a[60]||(a[60]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[175]||(a[175]=[(0,r.QD)("option",null,"5",-1),(0,r.QD)("option",null,"10",-1),(0,r.QD)("option",null,"15",-1),(0,r.QD)("option",null,"20",-1),(0,r.QD)("option",null,"25",-1),(0,r.QD)("option",null,"30",-1)]),544),[[t.Ip,i.accessory_meta_service.per_page]]),(0,r.QD)("span",null,"Showing "+(0,d.WA)(i.accessory_meta_service.from)+" to "+(0,d.WA)(i.accessory_meta_service.to)+" of "+(0,d.WA)(i.accessory_meta_service.totalRows)+" entries",1),(0,r.K2)(u,{maxPage:i.accessory_meta_service.maxPage,totalPages:i.accessory_meta_service.lastPage,currentPage:i.accessory_meta_service.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])])])}var Jp=s(292),Gp={name:"Assets.View",components:{Search:Gr.c,Pagination:Zt},data(){return{meta:{search:"",order_by:"asc",keyword:"spare_id",per_page:5,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1,asset_id:"",asset_type_id:""},check_meta:{search:"",order_by:"asc",keyword:"check_id",per_page:5,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1,asset_id:"",asset_type_id:"",department_id:""},check_meta_service:{search:"",order_by:"asc",keyword:"service_id",per_page:5,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1,asset_id:"",asset_type_id:""},variable_meta_service:{search:"",order_by:"asc",keyword:"variable_id",per_page:5,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1,asset_id:"",asset_type_id:""},datasource_meta_service:{search:"",order_by:"asc",keyword:"data_source_id",per_page:5,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1,asset_id:"",asset_type_id:""},accessory_meta_service:{search:"",order_by:"asc",keyword:"asset_accessory_id",per_page:5,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1,asset_id:"",asset_type_id:""},asset:{asset_id:"",plant_id:"",asset_code:"",asset_name:"",asset_type_id:"",section_id:"",serial_no:"",status:"",QR_Code:""},spare:{spare_id:"",asset_spare_id:"",spare_code:"",spare_name:"",asset_id:"",asset_zone_id:"",spare_asset_zones:[]},check:{check_id:"",check_code:"",check_name:"",asset_id:"",lcl:"",ucl:"",default_value:"",asset_check_id:"",asset_zone_id:"",check_asset_zones:[]},service:{service_id:"",service_code:"",service_name:"",asset_id:"",asset_zone_id:"",asset_service_id:"",service_asset_zones:[]},datasource:{data_source_id:"",data_source_code:"",data_source_name:"",asset_id:"",asset_zone_id:"",data_source_asset_zones:[],asset_data_source_id:""},variable:{variable_id:"",variable_code:"",variable_name:"",asset_id:"",asset_zone_id:"",variable_asset_zones:[],asset_variable_id:""},accessory:{accessory_id:"",asset_id:"",accessory_asset_zone_id:[],accessory_name:"",accessory_type_id:"",attachment:""},device_code:"",spares:[],asset_spares:[],checks:[],asset_checks:[],asset_services:[],asset_variables:[],asset_data_sources:[],accessory_types:[],asset_accessories:[],asset_zones:[],errors:[],status:!0,asset_zone_status:!1,asset_zone_status_variables:!1,asset_zone_status_datasources:!1,asset_zone_status_spares:!1,asset_zone_status_checks:!1,asset_zone_status_services:!1,asset_zone_status_accessories:!1,initial_status:!0}},beforeRouteEnter(e,a,s){s((a=>{a.asset.asset_id=e.params.asset_id;let s={uri:"getAsset",data:{asset_id:e.params.asset_id}};a.$store.dispatch("post",s).then((function(e){a.asset=e.data.asset,a.asset_zones=e?.data?.asset?.zone_name,a.asset.QR_Code=e?.data?.QRCode,a.getAssetSpares()})).catch((function(e){console.log(e)}))}))},mounted(){document.body.classList.add("sidebar-hide")},methods:{getAttachmentUrl(e){return`${e}`},getAttachmentName(e){return e.split("/").pop()},updateCheckAssetZone(e,a){a.asset_check_id&&(this.check.check_asset_zones=[],this.check.check_asset_zones=[parseInt(e.target.value,10)],this.check.asset_zone_id=e.target.value)},updateSpareAssetZone(e,a){a.asset_spare_id&&(this.spare.spare_asset_zones=[],this.spare.spare_asset_zones=[parseInt(e.target.value,10)],this.spare.asset_zone_id=e.target.value)},updateServiceAssetZone(e,a){a.asset_service_id&&(this.service.service_asset_zones=[],this.service.service_asset_zones=[parseInt(e.target.value,10)],this.service.asset_zone_id=e.target.value)},updateVariableAssetZone(e,a){a.asset_variable_id&&(this.variable.variable_asset_zones=[],this.variable.variable_asset_zones=[parseInt(e.target.value,10)],this.variable.asset_zone_id=e.target.value)},updateDataSourceAssetZone(e,a){a.asset_data_source_id&&(this.datasource.data_source_asset_zones=[],this.datasource.data_source_asset_zones=[parseInt(e.target.value,10)],this.datasource.asset_zone_id=e.target.value)},toggleAssetZoneStatus(e){"variables"===e?(this.asset_zone_status_variables=!this.asset_zone_status_variables,this.asset_zone_status_datasources=!1,this.asset_zone_status_spares=!1,this.asset_zone_status_checks=!1,this.asset_zone_status_services=!1,this.asset_zone_status_accessories=!1):"datasources"===e?(this.asset_zone_status_datasources=!this.asset_zone_status_datasources,this.asset_zone_status_variables=!1,this.asset_zone_status_spares=!1,this.asset_zone_status_checks=!1,this.asset_zone_status_services=!1,this.asset_zone_status_accessories=!1):"spares"===e?(this.asset_zone_status_spares=!this.asset_zone_status_spares,this.asset_zone_status_variables=!1,this.asset_zone_status_datasources=!1,this.asset_zone_status_checks=!1,this.asset_zone_status_services=!1,this.asset_zone_status_accessories=!1):"checks"===e?(this.asset_zone_status_checks=!this.asset_zone_status_checks,this.asset_zone_status_variables=!1,this.asset_zone_status_datasources=!1,this.asset_zone_status_spares=!1,this.asset_zone_status_services=!1,this.asset_zone_status_accessories=!1):"services"===e?(this.asset_zone_status_services=!this.asset_zone_status_services,this.asset_zone_status_variables=!1,this.asset_zone_status_datasources=!1,this.asset_zone_status_spares=!1,this.asset_zone_status_checks=!1,this.asset_zone_status_accessories=!1):"accessories"===e&&(this.asset_zone_status_accessories=!this.asset_zone_status_accessories,this.asset_zone_status_variables=!1,this.asset_zone_status_datasources=!1,this.asset_zone_status_spares=!1,this.asset_zone_status_checks=!1,this.asset_zone_status_services=!1)},getColor(e){let a="color:black";return(e.field_name="Color")&&(a="background-color:"+e.asset_parameter_value?.field_value+"; color:white; padding:5px"),a},editSpare(e){this.spare.spare_id=e.spare_id,this.spare.asset_id=e.asset_id,this.spare.asset_spare_id=e.asset_spare_id,this.spare.spare_code=e.spare_code,this.spare.spare_name=e.spare_name,this.spare.spare_asset_zones=[],this.spare.spare_asset_zones.push(e.asset_zone_id),this.spare.asset_zone_id=e.asset_zone_id},editCheck(e){this.check.asset_id=e.asset_id,this.check.asset_check_id=e.asset_check_id,this.check.check_id=e.check_id,this.check.lcl=e.lcl,this.check.ucl=e.ucl,this.check.default_value=e.default_value,this.check.check_asset_zones=[],this.check.check_asset_zones.push(e.asset_zone_id),this.check.asset_zone_id=e.asset_zone_id},editService(e){this.service.service_id=e.service_id,this.service.asset_id=e.asset_id,this.service.asset_service_id=e.asset_service_id,this.service.service_code=e.service_code,this.service.service_name=e.service_name,this.service.service_asset_zones=[],this.service.service_asset_zones.push(e.asset_zone_id),this.service.asset_zone_id=e.asset_zone_id},editVariable(e){this.variable.variable_id=e.variable_id,this.variable.asset_id=e.asset_id,this.variable.asset_variable_id=e.asset_variable_id,this.variable.variable_code=e.variable_code,this.variable.variable_name=e.variable_name,this.variable.variable_asset_zones=[],this.variable.variable_asset_zones.push(e.asset_zone_id),this.variable.asset_zone_id=e.asset_zone_id},editDataSource(e){this.datasource.data_source_id=e.data_source_id,this.datasource.asset_id=e.asset_id,this.datasource.asset_data_source_id=e.asset_data_source_id,this.datasource.data_source_code=e.data_source_code,this.datasource.data_source_name=e.data_source_name,this.datasource.data_source_asset_zones=[],this.datasource.data_source_asset_zones.push(e.asset_zone_id),this.datasource.asset_zone_id=e.asset_zone_id},getAssetSpares(){let e=this;e.meta.asset_id=e.asset.asset_id,e.meta.asset_type_id=e.asset.asset_type_id;let a=e.$loading.show();e.$store.dispatch("post",{uri:"paginateAssetSpares",data:e.meta}).then((s=>{a.hide(),e.asset_spares=s.data.paginate_spares,e.spares=s?.data?.spares,e.meta.totalRows=s.data.meta.total,e.meta.lastPage=s.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage,e.initial_status&&e.getAssetChecks()})).catch((function(e){a.hide(),console.log("errors",e)}))},getAssetChecks(){let e=this;e.check_meta.asset_id=e.asset.asset_id,e.check_meta.asset_type_id=e.asset.asset_type_id,e.check_meta.department_id=e.asset.department_id;let a=e.$loading.show();e.$store.dispatch("post",{uri:"paginateAssetChecks",data:e.check_meta}).then((s=>{a.hide(),console.log("checks response",s),e.checks=s.data.checks,e.asset_checks=s.data.paginate_checks,e.check_meta.totalRows=s.data.meta.total,e.check_meta.lastPage=s.data.meta.last_page,e.check_meta.maxPage=e.check_meta.lastPage>=3?3:e.check_meta.lastPage,e.initial_status&&e.getAssetServices()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getAssetServices(){let e=this;e.check_meta_service.asset_id=e.asset.asset_id,e.check_meta_service.asset_type_id=e.asset.asset_type_id;let a=e.$loading.show();e.$store.dispatch("post",{uri:"paginateAssetServices",data:e.check_meta_service}).then((s=>{a.hide(),console.log("service paginate",s.data),e.services=s.data.services,e.asset_services=s.data.paginate_services,e.check_meta_service.totalRows=s.data.meta.total,e.check_meta_service.lastPage=s.data.meta.last_page,e.check_meta_service.maxPage=e.check_meta_service.lastPage>=3?3:e.check_meta_service.lastPage,e.initial_status&&e.getAssetVariables()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getAssetVariables(){let e=this;e.variable_meta_service.asset_id=e.asset.asset_id,e.variable_meta_service.asset_type_id=e.asset.asset_type_id;let a=e.$loading.show();e.$store.dispatch("post",{uri:"paginateAssetVariables",data:e.variable_meta_service}).then((s=>{a.hide(),console.log("pagevariable",s.data),e.variables=s.data.variables,e.asset_variables=s.data.paginate_variables,e.variable_meta_service.totalRows=s.data.meta.total,e.variable_meta_service.lastPage=s.data.meta.last_page,e.variable_meta_service.maxPage=e.variable_meta_service.lastPage>=3?3:e.variable_meta_service.lastPage,e.initial_status&&e.getAssetDataSources()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getAssetDataSources(){let e=this;e.datasource_meta_service.asset_id=e.asset.asset_id,e.datasource_meta_service.asset_type_id=e.asset.asset_type_id;let a=e.$loading.show();e.$store.dispatch("post",{uri:"paginateAssetDataSources",data:e.datasource_meta_service}).then((s=>{a.hide(),console.log(" pageintae data source",s.data),e.data_sources=s.data.data_sources,e.asset_data_sources=s.data.paginate_data_sources,e.datasource_meta_service.totalRows=s.data.meta.total,e.datasource_meta_service.lastPage=s.data.meta.last_page,e.datasource_meta_service.maxPage=e.datasource_meta_service.lastPage>=3?3:e.meta.lastPage,e.initial_status&&e.getAssetAccessories()})).catch((function(s){a.hide(),console.log("error",s),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},downloadQR(){let e=this;window.open(e.$store.state.apiUrl+"downloadAssetQRCode?asset_code="+e.asset.asset_code)},addSpare(){let e=this;e.spare.asset_id=e.asset.asset_id;let a=e.$loading.show();e.$store.dispatch("post",{uri:"addAssetSpare",data:e.spare}).then((s=>{a.hide(),e.$store.dispatch("success",s.data.message),e.spare.spare_id="",e.spare.asset_zone_id=[],e.spare.spare_asset_zones=[],e.asset_zone_status_spares=!1,e.errors=[],e.getAssetSpares()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},updateSpare(){let e=this,a=e.$loading.show(),s={uri:"updateAssetSpare",data:e.spare};e.$store.dispatch("post",s).then((function(s){a.hide(),e.$store.dispatch("success",s.data.message),e.spare.spare_id="",e.spare.asset_zone_id="",e.spare.asset_spare_id="",e.spare.spare_asset_zones=[],e.asset_zone_status_spares=!1,e.getAssetSpares()})).catch((function(s){a.hide(),e.errors=s.response?.data?.errors,e.$store.dispatch("error",s?.response?.data?.message)}))},addCheck(){let e=this;e.check.asset_id=e.asset.asset_id;let a=e.$loading.show();e.$store.dispatch("post",{uri:"addAssetCheck",data:e.check}).then((s=>{a.hide(),e.$store.dispatch("success",s.data.message),e.check.check_id="",e.check.lcl="",e.check.ucl="",e.check.default_value="",e.errors=[],e.check.asset_zone_id=[],e.check.check_asset_zones=[],e.asset_zone_status_checks=!1,e.getAssetChecks()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},addService(){let e=this;e.service.asset_id=e.asset.asset_id;let a=e.$loading.show();e.$store.dispatch("post",{uri:"addAssetService",data:e.service}).then((s=>{a.hide(),e.$store.dispatch("success",s.data.message),e.service.service_id="",e.service.asset_zone_id="",e.service.service_asset_zones=[],e.asset_zone_status_services=!1,e.errors=[],e.getAssetServices()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},updateService(){let e=this,a=e.$loading.show(),s={uri:"updateAssetService",data:e.service};e.$store.dispatch("post",s).then((function(s){a.hide(),e.$store.dispatch("success",s.data.message),e.service.service_id="",e.service.asset_zone_id="",e.service.asset_service_id="",e.service.service_asset_zones=[],e.asset_zone_status_services=!1,e.errors=[],e.getAssetServices()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},addVariable(){let e=this;e.variable.asset_id=e.asset.asset_id;let a=e.$loading.show();e.$store.dispatch("post",{uri:"addAssetVariable",data:e.variable}).then((s=>{a.hide(),e.$store.dispatch("success",s.data.message),e.variable.variable_id="",e.variable.asset_zone_id="",e.variable.variable_asset_zones=[],e.asset_zone_status_variables=!1,e.errors=[],e.getAssetVariables()})).catch((function(s){a.hide(),console.log("eeee-00",s),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},updateVariable(){let e=this,a=e.$loading.show(),s={uri:"updateAssetVariable",data:e.variable};e.$store.dispatch("post",s).then((function(s){a.hide(),e.$store.dispatch("success",s.data.message),e.variable.variable_id="",e.variable.asset_zone_id="",e.variable.asset_variable_id="",e.variable.variable_asset_zones=[],e.asset_zone_status_variables=!1,e.errors=[],e.getAssetVariables()})).catch((function(s){a.hide(),e.errors=s.response?.data?.errors,e.$store.dispatch("error",s?.response?.data?.message)}))},addDataSource(){let e=this;e.datasource.asset_id=e.asset.asset_id;let a=e.$loading.show();e.$store.dispatch("post",{uri:"addAssetDataSource",data:e.datasource}).then((s=>{a.hide(),e.$store.dispatch("success",s.data.message),e.datasource.data_source_id="",e.errors=[],e.datasource.asset_zone_id="",e.datasource.data_source_asset_zones=[],e.asset_zone_status_datasources=!1,e.getAssetDataSources()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},updateDataSource(){let e=this,a=e.$loading.show(),s={uri:"updateAssetDataSource",data:e.datasource};e.$store.dispatch("post",s).then((function(s){a.hide(),e.$store.dispatch("success",s.data.message),e.datasource.data_source_id="",e.datasource.asset_zone_id="",e.datasource.asset_data_source_id="",e.datasource.data_source_asset_zones=[],e.asset_zone_status_datasources=!1,e.getAssetDataSources()})).catch((function(s){a.hide(),e.errors=s.response?.data?.errors,e.$store.dispatch("error",s?.response?.data?.message)}))},deleteSpare(e){let a=this,s=a.$loading.show();a.$store.dispatch("post",{uri:"forceDeleteAssetSpare",data:e}).then((e=>{s.hide(),a.$store.dispatch("success",e.data.message),a.spare.spare_id="",a.errors=[],a.getAssetSpares()})).catch((function(e){s.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},updateCheck(){let e=this,a=e.$loading.show(),s={uri:"updateAssetCheck",data:e.check};e.$store.dispatch("post",s).then((function(s){a.hide(),e.$store.dispatch("success",s.data.message),e.check.check_id="",e.check.lcl="",e.check.ucl="",e.check.default_value="",e.check.asset_check_id="",e.check.check_asset_zones=[],e.asset_zone_status_checks=!1,e.getAssetChecks()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},deleteCheck(e){let a=this,s=a.$loading.show();a.$store.dispatch("post",{uri:"forceDeleteAssetCheck",data:e}).then((e=>{s.hide(),a.$store.dispatch("success",e.data.message),a.check.check_id="",a.errors=[],a.getAssetChecks()})).catch((function(e){s.hide(),a.$store.dispatch("warning",e.response.data.message)}))},deleteService(e){let a=this,s=a.$loading.show();a.$store.dispatch("post",{uri:"forceDeleteAssetService",data:e}).then((e=>{s.hide(),a.$store.dispatch("success",e.data.message),a.service.service_id="",a.errors=[],a.getAssetServices()})).catch((function(e){s.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},deleteVariable(e){let a=this,s=a.$loading.show();a.$store.dispatch("post",{uri:"deleteAssetVariable",data:e}).then((e=>{s.hide(),a.$store.dispatch("success",e.data.message),a.variable.variable_id="",a.errors=[],a.getAssetVariables()})).catch((function(e){s.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},deleteDataSource(e){let a=this,s=a.$loading.show();a.$store.dispatch("post",{uri:"deleteAssetDataSource",data:e}).then((e=>{s.hide(),a.$store.dispatch("success",e.data.message),a.datasource.data_source_id="",a.errors=[],a.getAssetDataSources()})).catch((function(e){s.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},deleteAccessory(e){let a=this,s=a.$loading.show();a.$store.dispatch("post",{uri:"deleteAssetAccessory",data:e}).then((e=>{s.hide(),a.$store.dispatch("success",e.data.message),a.accessory.accessory_id="",a.errors=[],a.getAssetAccessories()})).catch((function(e){s.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},getAssetAccessories(){let e=this;e.accessory_meta_service.asset_id=e.asset.asset_id,e.accessory_meta_service.asset_type_id=e.asset.asset_type_id;let a=e.$loading.show();e.$store.dispatch("post",{uri:"paginateAssetAccessories",data:e.accessory_meta_service}).then((s=>{a.hide(),console.log("access reposne",s.data),e.initial_status=!1,e.accessory_types=s.data.accessory_types,e.asset_accessories=s.data.paginate_accessories,e.accessory_meta_service.totalRows=s.data.meta.total,e.accessory_meta_service.lastPage=s.data.meta.last_page,e.accessory_meta_service.maxPage=e.accessory_meta_service.lastPage>=3?3:e.accessory_meta_service.lastPage})).catch((function(e){a.hide(),console.log("errors accessories--",e)}))},addAccessory(){let e=this;e.accessory.asset_id=e.asset.asset_id;let a=e.$loading.show();const s=new FormData;s.append("asset_id",e.accessory.asset_id),s.append("accessory_type_id",e.accessory.accessory_type_id),s.append("accessory_name",e.accessory.accessory_name),s.append("accessory_asset_zone_id",e.accessory.accessory_asset_zone_id),s.append("attachment",e.$refs.attachment.files[0]),Jp.c.post(e.$store.state.apiUrl+"addAssetAccessory",s,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+e.$store.getters.token}}).then((s=>{a.hide(),e.$store.dispatch("success",s.data.message),e.accessory.accessory_id="",e.accessory.accessory_name="",e.accessory.accessory_asset_zone_id=[],e.accessory.accessory_type_id="",e.$refs.attachment.value="",e.errors=[],e.asset_zone_status_accessories=!1,e.getAssetAccessories()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},onPageChange(e){this.meta.page=e,this.getAssetSpares()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.getAssetSpares()},sortVariable(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.getAssetVariables()},onPerPageChange(){let e=this;e.meta.page=1,e.getAssetSpares()},onPageChangeCheck(e){this.check_meta.page=e,this.getAssetChecks()},sortCheck(e){this.check_meta.keyword=e,this.check_meta.order_by="asc"==this.check_meta.order_by?"desc":"asc",this.getAssetChecks()},onPerPageChangeCheck(){let e=this;e.check_meta.page=1,e.getAssetChecks()}}};const Xp=(0,Ce.c)(Gp,[["render",Hp],["__scopeId","data-v-8819aae6"]]);var em=Xp;const am={class:""},sm={class:"d-sm-flex align-items-center justify-content-between mb-2"},tm={class:"breadcrumb fs-sm mb-1"},rm={class:"breadcrumb-item","aria-current":"page"},lm={class:"breadcrumb-item"},im={class:"row text-center",style:{"justify-content":"center"}},om={class:"col-4"},nm={class:"card card-one"},dm={class:"card-body text-center"},cm={class:"mb-5 mt-5"},um=["src"],pm={class:"card-title"},mm={class:"row g-2 g-sm-3 mb-5"},_m={class:"col-sm"};function hm(e,a,s,t,l,i){const o=(0,r.E1)("router-link");return(0,r.Wz)(),(0,r.An)(r.ae,null,[(0,r.QD)("div",am,[(0,r.QD)("div",sm,[(0,r.QD)("div",null,[(0,r.QD)("ol",tm,[(0,r.QD)("li",rm,[(0,r.K2)(o,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[1]||(a[1]=[(0,r.mY)("Dashboard")]))),_:1})]),a[3]||(a[3]=(0,r.QD)("li",{class:"breadcrumb-item"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Masters")],-1)),(0,r.QD)("li",lm,[(0,r.K2)(o,{to:"/assets"},{default:(0,r.Ql)((()=>a[2]||(a[2]=[(0,r.mY)("Assets")]))),_:1})]),a[4]||(a[4]=(0,r.QD)("li",{class:"breadcrumb-item active","aria-current":"page"},"QR Code",-1))]),a[5]||(a[5]=(0,r.QD)("h4",{class:"main-title mb-0"},"Asset QR- Code",-1))]),(0,r.K2)(o,{to:"/assets",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.Ql)((()=>a[6]||(a[6]=[(0,r.QD)("i",{class:"ri-list-check"},null,-1),(0,r.mY)(" ASSETS")]))),_:1})])]),(0,r.QD)("div",im,[(0,r.QD)("div",om,[(0,r.QD)("div",nm,[(0,r.QD)("div",dm,[(0,r.QD)("div",cm,[(0,r.QD)("img",{src:l.asset?.QR_Code,class:"img",style:{width:"200px"}},null,8,um)]),(0,r.QD)("h3",pm,(0,d.WA)(l.asset.asset_code),1),a[8]||(a[8]=(0,r.QD)("p",{class:"card-text"},"Please scan the QR Code to get the asset details...",-1)),(0,r.QD)("div",mm,[(0,r.QD)("div",_m,[(0,r.QD)("button",{type:"button",class:"btn btn-primary",onClick:a[0]||(a[0]=e=>i.downloadQR())},a[7]||(a[7]=[(0,r.QD)("i",{class:"ri-download-2-line fs-18 lh-1"},null,-1),(0,r.mY)(" Download QR")]))])])])])])])],64)}var bm={name:"GenerateQR",data(){return{asset:{asset_id:"",asset_code:"",QR_Code:""}}},beforeRouteEnter(e,a,s){s((a=>{a.asset.asset_id=e.params.asset_id;let s={uri:"getAsset",data:{asset_id:e.params.asset_id}};a.$store.dispatch("post",s).then((function(e){a.asset=e.data.data,a.getQRCode()})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}))},methods:{getQRCode(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssetQRCode",data:e.asset}).then((s=>{a.hide(),e.asset.QR_Code=s.data.QRCode})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},downloadQR(){let e=this;window.open(e.$store.state.apiUrl+"downloadAssetQRCode?asset_code="+e.asset.asset_code)}}};const vm=(0,Ce.c)(bm,[["render",hm],["__scopeId","data-v-1b64bde4"]]);var ym=vm;const gm={class:""},Dm={class:"d-sm-flex align-items-center justify-content-between mb-2"},Qm={class:"breadcrumb fs-sm mb-1"},fm={class:"breadcrumb-item","aria-current":"page"},km={class:"row"},wm={class:"col-12"},Am={class:"card card-one"},Wm={class:"card-body"},zm={class:"table-responsive table-responsive-sm"},xm={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},Pm={class:"",style:{"background-color":"#9b9b9b",color:"white"}},Cm={key:0,class:"ri-arrow-up-line"},$m={key:1,class:"ri-arrow-down-line"},Sm={key:2,class:"fas fa-sort"},Um={key:0,class:"ri-arrow-up-line"},Vm={key:1,class:"ri-arrow-down-line"},jm={key:2,class:"fas fa-sort"},Ym={key:0,class:"ri-arrow-up-line"},Tm={key:1,class:"ri-arrow-down-line"},Nm={key:2,class:"fas fa-sort"},Rm={key:0,class:"ri-arrow-up-line"},qm={key:1,class:"ri-arrow-down-line"},Em={key:2,class:"fas fa-sort"},Km={key:0,class:"text-center"},Im={class:"text-center"},Fm={key:0,class:"text-center"},Om=["onClick"],Lm=["onClick"],Bm={key:0},Mm={class:"card-footer"},Zm={class:"d-flex justify-content-between align-items-center"};function Hm(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("Pagination"),u=(0,r.iS)("can");return(0,r.Wz)(),(0,r.An)("div",gm,[(0,r.QD)("div",Dm,[(0,r.QD)("div",null,[(0,r.QD)("ol",Qm,[(0,r.QD)("li",fm,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[8]||(a[8]=[(0,r.mY)("Dashboard")]))),_:1})]),a[9]||(a[9]=(0,r.QD)("li",{class:"breadcrumb-item"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Registers")],-1)),a[10]||(a[10]=(0,r.QD)("li",{class:"breadcrumb-item active","aria-current":"page"},"Activities",-1))]),a[11]||(a[11]=(0,r.QD)("h4",{class:"main-title mb-0"},"Activities",-1))]),(0,r.wt)(((0,r.Wz)(),(0,r.Az)(n,{to:"/activity/create",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.Ql)((()=>a[12]||(a[12]=[(0,r.QD)("i",{class:"ri-list-check"},null,-1),(0,r.mY)(" Add Activity")]))),_:1})),[[u,"userActivities.create"]])]),(0,r.QD)("div",km,[(0,r.QD)("div",wm,[(0,r.QD)("div",Am,[a[24]||(a[24]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Activities")],-1)),(0,r.QD)("div",Wm,[(0,r.wt)((0,r.QD)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.search=e),onKeypress:a[1]||(a[1]=(0,t.jj)((e=>o.search()),["enter"]))},null,544),[[t.Og,i.meta.search]]),(0,r.QD)("div",zm,[(0,r.QD)("table",xm,[(0,r.QD)("thead",null,[(0,r.QD)("tr",Pm,[a[17]||(a[17]=(0,r.QD)("th",{class:"text-center"},"#",-1)),(0,r.QD)("th",{onClick:a[2]||(a[2]=e=>o.sort("activity_no"))},[a[13]||(a[13]=(0,r.mY)(" Activity No. ")),(0,r.QD)("span",null,["activity_no"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Cm)):"activity_no"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",$m)):((0,r.Wz)(),(0,r.An)("i",Sm))])]),a[18]||(a[18]=(0,r.QD)("th",null,"Activity Date & Time",-1)),(0,r.QD)("th",{onClick:a[3]||(a[3]=e=>o.sort("asset_id"))},[a[14]||(a[14]=(0,r.mY)(" Asset Code ")),(0,r.QD)("span",null,["asset_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Um)):"asset_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Vm)):((0,r.Wz)(),(0,r.An)("i",jm))])]),(0,r.QD)("th",{onClick:a[4]||(a[4]=e=>o.sort("reason_id"))},[a[15]||(a[15]=(0,r.mY)(" Reason ")),(0,r.QD)("span",null,["reason_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Ym)):"reason_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Tm)):((0,r.Wz)(),(0,r.An)("i",Nm))])]),(0,r.QD)("th",{onClick:a[5]||(a[5]=e=>o.sort("cost"))},[a[16]||(a[16]=(0,r.mY)(" Cost ")),(0,r.QD)("span",null,["cost"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Rm)):"cost"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",qm)):((0,r.Wz)(),(0,r.An)("i",Em))])]),a[19]||(a[19]=(0,r.QD)("th",{class:"text-center"},"Status",-1)),i.get_activity.length?((0,r.Wz)(),(0,r.An)("th",Km,"Actions")):(0,r.g1)("",!0)])]),(0,r.QD)("tbody",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.activities,((e,s)=>((0,r.Wz)(),(0,r.An)("tr",{key:s},[(0,r.QD)("td",Im,(0,d.WA)(i.meta.from+s),1),(0,r.QD)("td",null,(0,d.WA)(e.activity_no),1),(0,r.QD)("td",null,(0,d.WA)(e.activity_date),1),(0,r.QD)("td",null,(0,d.WA)(e.asset?.asset_code),1),(0,r.QD)("td",null,(0,d.WA)(e.reason?.reason_code),1),(0,r.QD)("td",null,(0,d.WA)(e.cost),1),(0,r.QD)("td",null,(0,d.WA)(e.activity_status),1),i.get_activity.length?((0,r.Wz)(),(0,r.An)("td",Fm,[e.status?(0,r.wt)(((0,r.Wz)(),(0,r.An)("a",{key:0,title:"Edit",href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editActivity(e)},a[20]||(a[20]=[(0,r.QD)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,Om)),[[u,"userActivities.update"]]):(0,r.g1)("",!0),(0,r.wt)(((0,r.Wz)(),(0,r.An)("a",{title:"View",href:"javascript:void(0)",class:"text-danger me-2",onClick:(0,t.Y7)((a=>o.deleteActivity(e)),["prevent"])},a[21]||(a[21]=[(0,r.QD)("i",{class:"ri-delete-bin-6-line fs-18 lh-1"},null,-1)]),8,Lm)),[[u,"userActivities.delete"]])])):(0,r.g1)("",!0)])))),128)),0==i.activities.length?((0,r.Wz)(),(0,r.An)("tr",Bm,a[22]||(a[22]=[(0,r.QD)("td",{colspan:"8",class:"text-center"},"No records found",-1)]))):(0,r.g1)("",!0)])])])]),(0,r.QD)("div",Mm,[(0,r.QD)("div",Zm,[(0,r.wt)((0,r.QD)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[6]||(a[6]=e=>i.meta.per_page=e),onChange:a[7]||(a[7]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[23]||(a[23]=[(0,r.QD)("option",null,"10",-1),(0,r.QD)("option",null,"15",-1),(0,r.QD)("option",null,"20",-1),(0,r.QD)("option",null,"25",-1),(0,r.QD)("option",null,"30",-1)]),544),[[t.Ip,i.meta.per_page]]),(0,r.QD)("span",null,"Showing "+(0,d.WA)(i.meta.from)+" to "+(0,d.WA)(i.meta.to)+" of "+(0,d.WA)(i.meta.totalRows)+" entries",1),(0,r.K2)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var Jm={components:{Pagination:Zt},data(){return{meta:{search:"",order_by:"asc",keyword:"user_activity_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},get_activity:[],get_asset:[],activities:[],errors:[],status:!0}},beforeRouteEnter(e,a,s){s((e=>{"Activity.Edit"!=a.name?e.$store.commit("setCurrentPage",e.meta.page):e.meta.page=e.$store.getters.current_page}))},mounted(){this.get_activity=this.$store.getters.permissions.filter((function(e){return e.ability.ability.includes("userActivities.update")||e.ability.ability.includes("userActivities.delete")})),this.$store.commit("setAssetId",""),this.index()},methods:{index(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"paginateUserActivities",data:e.meta}).then((s=>{a.hide(),e.activities=s.data.data,e.meta.totalRows=s.data.meta.total,e.meta.from=s.data.meta.from,e.meta.lastPage=s.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},editActivity(e){this.$store.commit("setCurrentPage",this.meta.page),this.$router.push("/activity/"+e.user_activity_id+"/edit")},deleteActivity(e){let a=this;alert("are you sure you want delete it!");let s=a.$loading.show();a.$store.dispatch("post",{uri:"deleteUserActivity",data:e}).then((e=>{s.hide(),a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){s.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},search(){let e=this;e.meta.page=1,e.index()},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const Gm=(0,Ce.c)(Jm,[["render",Hm]]);var Xm=Gm;const e_={class:""},a_={class:"d-sm-flex align-items-center justify-content-between mb-2"},s_={class:"breadcrumb fs-sm mb-1"},t_={class:"breadcrumb-item","aria-current":"page"},r_={class:"breadcrumb-item","aria-current":"page"},l_={key:0,class:"breadcrumb-item","aria-current":"page"},i_={key:1,class:"breadcrumb-item active","aria-current":"page"},o_={class:"row"},n_={class:"col-12"},d_={class:"card card-one"},c_={class:"card-header d-flex justify-content-between"},u_={key:0,class:"card-title"},p_={key:1,class:"card-title"},m_={class:"card-body"},__={class:"row g-2"},h_={class:"col-md-4"},b_=["value"],v_={key:0,class:"invalid-feedback"},y_={class:"col-md-4"},g_={key:0,class:"invalid-feedback"},D_={class:"col-md-4"},Q_={key:0,class:"invalid-feedback"},f_={class:"col-md-6"},k_={key:0,class:"text-danger"},w_={key:1,class:"invalid-feedback"},A_={class:"col-md-6"},W_={key:0,class:"invalid-feedback"},z_={class:"col-md-12"},x_={key:0,class:"invalid-feedback"},P_={class:"card-footer text-end"},C_={type:"submit",class:"btn btn-primary"},$_={key:0},S_={key:1};function U_(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("search");return(0,r.Wz)(),(0,r.An)("div",e_,[(0,r.QD)("div",a_,[(0,r.QD)("div",null,[(0,r.QD)("ol",s_,[(0,r.QD)("li",t_,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[7]||(a[7]=[(0,r.mY)("Dashboard")]))),_:1})]),a[9]||(a[9]=(0,r.QD)("li",{class:"breadcrumb-item"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Registers")],-1)),(0,r.QD)("li",r_,[(0,r.K2)(n,{to:"/activities"},{default:(0,r.Ql)((()=>a[8]||(a[8]=[(0,r.mY)("Activities")]))),_:1})]),i.status?((0,r.Wz)(),(0,r.An)("li",l_,"New Activity")):((0,r.Wz)(),(0,r.An)("li",i_,"Update Activity"))]),a[10]||(a[10]=(0,r.QD)("h4",{class:"main-title mb-0"},"Activity",-1))]),(0,r.K2)(n,{to:"/activities",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.Ql)((()=>a[11]||(a[11]=[(0,r.QD)("i",{class:"ri-list-check"},null,-1),(0,r.mY)(" ACTIVITIES")]))),_:1})]),(0,r.QD)("div",o_,[(0,r.QD)("div",n_,[(0,r.QD)("form",{onSubmit:a[6]||(a[6]=(0,t.Y7)(((...e)=>o.submitForm&&o.submitForm(...e)),["prevent"]))},[(0,r.QD)("div",d_,[(0,r.QD)("div",c_,[i.status?((0,r.Wz)(),(0,r.An)("h6",u_,"Add Activity")):((0,r.Wz)(),(0,r.An)("h6",p_,"Update Activity"))]),(0,r.QD)("div",m_,[(0,r.QD)("div",__,[(0,r.QD)("div",h_,[a[12]||(a[12]=(0,r.QD)("label",{class:"form-label"},"Activity Date & Time",-1)),a[13]||(a[13]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"datetime-local",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.activity_date}]),placeholder:"Enter Activity Date",ref:"activity_date",value:o.convertDateFormat(i.activity.activity_date),"onUpdate:modelValue":a[0]||(a[0]=e=>i.activity.activity_date=e)},null,10,b_),[[t.Og,i.activity.activity_date]]),i.errors.activity_date?((0,r.Wz)(),(0,r.An)("span",v_,(0,d.WA)(i.errors.activity_date[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",y_,[a[15]||(a[15]=(0,r.QD)("label",{class:"form-label"},"Activity Status",-1)),a[16]||(a[16]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("select",{class:(0,d.WN)(["form-control",{"is-invalid":i.errors.status}]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.activity.activity_status=e)},a[14]||(a[14]=[(0,r.QD)("option",{value:""},"Select Status",-1),(0,r.QD)("option",{value:"Added"},"Added",-1),(0,r.QD)("option",{value:"Removed"},"Removed",-1),(0,r.QD)("option",{value:"Scraped"},"Scraped",-1)]),2),[[t.Ip,i.activity.activity_status]]),i.errors.activity_status?((0,r.Wz)(),(0,r.An)("span",g_,(0,d.WA)(i.errors.activity_status[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",D_,[a[17]||(a[17]=(0,r.QD)("label",{class:"form-label"},"Asset",-1)),a[18]||(a[18]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.K2)(c,{class:(0,d.WN)({"is-invalid":i.errors.asset_id}),customClass:{"is-invalid":i.errors.asset_id},initialize:i.activity.asset_id,id:"asset_id",label:"asset_name",label2:"asset_code",placeholder:"Select Asset",data:i.assets,onInput:a[2]||(a[2]=e=>i.activity.asset_id=e)},null,8,["class","customClass","initialize","data"]),i.errors.asset_id?((0,r.Wz)(),(0,r.An)("span",Q_,(0,d.WA)(i.errors.asset_id[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",f_,[a[19]||(a[19]=(0,r.QD)("label",{class:"form-label"},"Activity Type",-1)),"Removed"==i.activity.activity_status||"Scraped"==i.activity.activity_status?((0,r.Wz)(),(0,r.An)("span",k_," *")):(0,r.g1)("",!0),(0,r.K2)(c,{class:(0,d.WN)({"is-invalid":i.errors.reason_id}),customClass:{"is-invalid":i.errors.reason_id},initialize:i.activity.reason_id,id:"reason_id",label:"reason_name",label2:"reason_code",placeholder:"Select Activity Type",data:i.reasons,onInput:a[3]||(a[3]=e=>i.activity.reason_id=e)},null,8,["class","customClass","initialize","data"]),i.errors.reason_id?((0,r.Wz)(),(0,r.An)("span",w_,"activity type field is required when activity status is Removed")):(0,r.g1)("",!0)]),(0,r.QD)("div",A_,[a[20]||(a[20]=(0,r.QD)("label",{class:"form-label"},"Cost",-1)),(0,r.wt)((0,r.QD)("input",{type:"number",placeholder:"Enter Cost",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.cost}]),"onUpdate:modelValue":a[4]||(a[4]=e=>i.activity.cost=e)},null,2),[[t.Og,i.activity.cost]]),i.errors.cost?((0,r.Wz)(),(0,r.An)("span",W_,(0,d.WA)(i.errors.cost[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",z_,[a[21]||(a[21]=(0,r.QD)("label",{class:"form-label"},"Note",-1)),(0,r.wt)((0,r.QD)("textarea",{type:"text",placeholder:"Enter Note",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.note}]),"onUpdate:modelValue":a[5]||(a[5]=e=>i.activity.note=e)},null,2),[[t.Og,i.activity.note]]),i.errors.note?((0,r.Wz)(),(0,r.An)("span",x_,(0,d.WA)(i.errors.note[0]),1)):(0,r.g1)("",!0)])])]),(0,r.QD)("div",P_,[(0,r.K2)(n,{type:"button",to:"/activities",class:"btn btn-danger me-2"},{default:(0,r.Ql)((()=>a[22]||(a[22]=[(0,r.QD)("i",{class:"ri-arrow-left-line fs-18 lh-1"},null,-1),(0,r.mY)(" Back")]))),_:1}),(0,r.QD)("button",C_,[i.status?((0,r.Wz)(),(0,r.An)("span",$_,a[23]||(a[23]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Submit")]))):((0,r.Wz)(),(0,r.An)("span",S_,a[24]||(a[24]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Update")])))])])])],32)])])])}var V_=s(4648),j_=s.n(V_),Y_={name:"Assets.Create",components:{Search:Gr.c},data(){return{sample:"",activity:{user_activity_id:"",activity_no:"",activity_date:"",asset_id:"",reason_id:"",cost:"",note:"",status:!0,activity_status:""},assets:[],reasons:[],errors:[],status:!0}},beforeRouteEnter(e,a,s){s((a=>{if(a.getAssets(),"Activity.Create"==e.name)a.$store.getters.asset_id&&(a.activity.asset_id=a.$store.getters.asset_id),a.$refs.activity_date.focus();else{a.status=!1;let s={uri:"getUserActivity",data:{user_activity_id:e.params.user_activity_id}};a.$store.dispatch("post",s).then((function(e){a.activity=e.data.data})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}}))},mounted(){this.activity.activity_date=j_()().format("yyyy-MM-DD HH:MM")},methods:{submitForm(){let e=this;e.status?e.addUserActivity():e.updateUserActivity()},convertDateFormat(e){return j_()(e).format("yyyy-MM-DD HH:MM")},getAssets(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssets"}).then((s=>{a.hide(),e.assets=s.data.data,e.getReasons()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getReasons(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getReasons"}).then((s=>{a.hide(),e.reasons=s.data.data})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},addUserActivity(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"addUserActivity",data:e.activity}).then((s=>{a.hide(),e.$store.dispatch("success",s.data.message),e.$router.push("/activities")})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},updateUserActivity(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"updateUserActivity",data:e.activity}).then((s=>{a.hide(),e.$store.dispatch("success",s.data.message),e.$router.push("/activities")})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},discard(){let e=this;e.activity={},e.$refs.activity_date.focus(),e.errors=[],e.status=!0}}};const T_=(0,Ce.c)(Y_,[["render",U_]]);var N_=T_;const R_={class:""},q_={class:"d-sm-flex align-items-center justify-content-between mb-2"},E_={class:"breadcrumb fs-sm mb-1"},K_={class:"breadcrumb-item","aria-current":"page"},I_={class:"row"},F_={class:"col-12 mb-3"},O_={class:"card card-one"},L_={class:"card-body"},B_={class:"row mb-3"},M_={class:"col-md-4"},Z_=["value"],H_={key:0,class:"invalid-feedback"},J_={class:"col-md-4"},G_={key:0,class:"invalid-feedback"},X_={class:"col-md-4"},eh={key:0,class:"invalid-feedback"},ah={class:"card-footer text-end"},sh={type:"submit",class:"btn btn-primary"},th={key:0},rh={key:1},lh={key:0,class:"col-12"},ih={class:"card"},oh={class:"card-body"},nh={class:"table-responsive"},dh={class:"table table-bordered mb-0"},ch={key:0,class:"text-center"},uh=["src"],ph={key:1,class:"text-center"},mh=["src"];function _h(e,a,s,l,i,o){const n=(0,r.E1)("router-link");return(0,r.Wz)(),(0,r.An)("div",R_,[(0,r.QD)("div",q_,[(0,r.QD)("div",null,[(0,r.QD)("ol",E_,[(0,r.QD)("li",K_,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[4]||(a[4]=[(0,r.mY)("Dashboard")]))),_:1})]),a[5]||(a[5]=(0,r.QD)("li",{class:"breadcrumb-item"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Register")],-1)),a[6]||(a[6]=(0,r.QD)("li",{class:"breadcrumb-item active","aria-current":"page"},"Health Check Register",-1))]),a[7]||(a[7]=(0,r.QD)("h4",{class:"main-title mb-0"},"Health Check Register",-1))]),(0,r.K2)(n,{to:"/health_checks",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.Ql)((()=>a[8]||(a[8]=[(0,r.QD)("i",{class:"ri-list-check"},null,-1),(0,r.mY)(" HEALTH CHECK REGISTERS")]))),_:1})]),(0,r.QD)("div",I_,[(0,r.QD)("div",F_,[(0,r.QD)("form",{onSubmit:a[3]||(a[3]=(0,t.Y7)((e=>o.submitForm()),["prevent"]))},[(0,r.QD)("div",O_,[a[20]||(a[20]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Health Check")],-1)),(0,r.QD)("div",L_,[(0,r.QD)("div",B_,[(0,r.QD)("div",M_,[a[10]||(a[10]=(0,r.QD)("label",{class:"form-label"},"Asset",-1)),a[11]||(a[11]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("select",{class:(0,d.WN)(["form-control",{"is-invalid":i.errors.asset_id}]),"onUpdate:modelValue":a[0]||(a[0]=e=>i.campaign.asset_id=e)},[a[9]||(a[9]=(0,r.QD)("option",{value:""},"Select Asset",-1)),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.assets,((e,a)=>((0,r.Wz)(),(0,r.An)("option",{key:a,value:e.asset_id},(0,d.WA)(e.asset_name),9,Z_)))),128))],2),[[t.Ip,i.campaign.asset_id]]),i.errors.asset_id?((0,r.Wz)(),(0,r.An)("span",H_,(0,d.WA)(i.errors.asset_id[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",J_,[a[13]||(a[13]=(0,r.QD)("label",{class:"form-label"},"Data Source",-1)),a[14]||(a[14]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("select",{class:(0,d.WN)(["form-control",{"is-invalid":i.errors.datasource}]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.campaign.datasource_id=e)},a[12]||(a[12]=[(0,r.QD)("option",{value:""},"Select Data Source",-1),(0,r.QD)("option",{value:"File"},"File",-1)]),2),[[t.Ip,i.campaign.datasource_id]]),i.errors.datasource?((0,r.Wz)(),(0,r.An)("span",G_,(0,d.WA)(i.errors.datasource[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",X_,[a[15]||(a[15]=(0,r.QD)("label",{class:"form-label"},"File",-1)),a[16]||(a[16]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.QD)("input",{type:"file",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.file}]),id:"file",ref:"file",name:"file"},null,2),i.errors.file?((0,r.Wz)(),(0,r.An)("span",eh,(0,d.WA)(i.errors.file[0]),1)):(0,r.g1)("",!0)])])]),(0,r.QD)("div",ah,[(0,r.QD)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[2]||(a[2]=e=>o.discard())},a[17]||(a[17]=[(0,r.QD)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.mY)(" Discard")])),(0,r.QD)("button",sh,[i.status?((0,r.Wz)(),(0,r.An)("span",th,a[18]||(a[18]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Submit")]))):((0,r.Wz)(),(0,r.An)("span",rh,a[19]||(a[19]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Update")])))])])])],32)]),o.groupedResults.length?((0,r.Wz)(),(0,r.An)("div",lh,[(0,r.QD)("div",ih,[(0,r.QD)("div",oh,[(0,r.QD)("div",nh,[(0,r.QD)("table",dh,[(0,r.QD)("tbody",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(o.groupedResults,((e,a)=>((0,r.Wz)(),(0,r.An)("tr",{key:a},[e[0]?((0,r.Wz)(),(0,r.An)("td",ch,[(0,r.QD)("h6",null,(0,d.WA)(e[0]?.location),1),(0,r.QD)("img",{src:e[0]?.file,height:"180",width:"250"},null,8,uh)])):(0,r.g1)("",!0),e[1]?((0,r.Wz)(),(0,r.An)("td",ph,[(0,r.QD)("h6",null,(0,d.WA)(e[1]?.location),1),(0,r.QD)("img",{src:e[1]?.file,height:"180",width:"250"},null,8,mh)])):(0,r.g1)("",!0)])))),128))])])])])])])):(0,r.g1)("",!0)])])}var hh={components:{},data(){return{campaign:{asset_id:"",datasource_id:"",file:""},assets:[],campaign_results:[],errors:[],status:!0}},mounted(){this.getAssets()},computed:{groupedResults(){const e=this.campaign_results,a=[];for(let s=0;s<e.length;s+=2)a.push(e.slice(s,s+2));return a}},methods:{submitForm(){let e=this;e.status?e.addHealthCheck():e.updateHealthCheck()},getAssets(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssets"}).then((s=>{a.hide(),e.assets=s.data.data})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},addHealthCheck(){let e=this,a=this.$loading.show();const s=new FormData;s.append("asset_id",e.campaign.asset_id),s.append("datasource",e.campaign.datasource_id),s.append("file",e.$refs.file.files[0]),Jp.c.post(e.$store.state.apiUrl+"addCampaign",s,{headers:{"Content-Type":"multipart/form-data",Authorization:"Bearer "+e.$store.getters.token}}).then((s=>{a.hide(),this.$store.dispatch("success","Health check created successfully"),e.campaign_results=s.data[0],e.errors=[],e.discard()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},discard(){let e=this;e.campaign.asset_id="",e.campaign.datasource_id="",e.campaign.file=null,e.$refs.file.value=null,e.errors=[],e.status=!0}}};const bh=(0,Ce.c)(hh,[["render",_h]]);var vh=bh;const yh={class:""},gh={class:"d-sm-flex align-items-center justify-content-between mb-2"},Dh={class:"breadcrumb fs-sm mb-1"},Qh={class:"breadcrumb-item","aria-current":"page"},fh={class:"row"},kh={class:"col-12"},wh={class:"card card-one"},Ah={class:"card-body"},Wh={class:"table-responsive table-responsive-sm"},zh={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},xh={class:"",style:{"background-color":"#9b9b9b",color:"white"}},Ph={key:0,class:"ri-arrow-up-line"},Ch={key:1,class:"ri-arrow-down-line"},$h={key:2,class:"fas fa-sort"},Sh={key:0,class:"ri-arrow-up-line"},Uh={key:1,class:"ri-arrow-down-line"},Vh={key:2,class:"fas fa-sort"},jh={class:"text-center"},Yh={class:"text-center align-middle"},Th=["onClick"],Nh={key:0},Rh={class:"card-footer"},qh={class:"d-flex justify-content-between align-items-center"};function Eh(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("Pagination");return(0,r.Wz)(),(0,r.An)("div",yh,[(0,r.QD)("div",gh,[(0,r.QD)("div",null,[(0,r.QD)("ol",Dh,[(0,r.QD)("li",Qh,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[6]||(a[6]=[(0,r.mY)("Dashboard")]))),_:1})]),a[7]||(a[7]=(0,r.QD)("li",{class:"breadcrumb-item"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Register")],-1)),a[8]||(a[8]=(0,r.QD)("li",{class:"breadcrumb-item active","aria-current":"page"},"Health Check",-1))]),a[9]||(a[9]=(0,r.QD)("h4",{class:"main-title mb-0"},"Health Check",-1))]),(0,r.K2)(n,{to:"/health_check/create",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.Ql)((()=>a[10]||(a[10]=[(0,r.QD)("i",{class:"ri-list-check"},null,-1),(0,r.mY)(" ADD HEALTH CHECK")]))),_:1})]),(0,r.QD)("div",fh,[(0,r.QD)("div",kh,[(0,r.QD)("div",wh,[a[18]||(a[18]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Health Check")],-1)),(0,r.QD)("div",Ah,[(0,r.wt)((0,r.QD)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.search=e),onKeypress:a[1]||(a[1]=(0,t.jj)((e=>o.search()),["enter"]))},null,544),[[t.Og,i.meta.search]]),(0,r.QD)("div",Wh,[(0,r.QD)("table",zh,[(0,r.QD)("thead",null,[(0,r.QD)("tr",xh,[a[13]||(a[13]=(0,r.QD)("th",{class:"text-center"},"#",-1)),(0,r.QD)("th",{onClick:a[2]||(a[2]=e=>o.sort("asset_id"))},[a[11]||(a[11]=(0,r.mY)(" Asset ")),(0,r.QD)("span",null,["asset_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Ph)):"asset_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Ch)):((0,r.Wz)(),(0,r.An)("i",$h))])]),(0,r.QD)("th",{onClick:a[3]||(a[3]=e=>o.sort("datasource"))},[a[12]||(a[12]=(0,r.mY)("Data Source ")),(0,r.QD)("span",null,["datasource"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Sh)):"datasource"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Uh)):((0,r.Wz)(),(0,r.An)("i",Vh))])]),a[14]||(a[14]=(0,r.QD)("th",{class:"text-center"}," Action ",-1))])]),(0,r.QD)("tbody",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.campaigns,((e,s)=>((0,r.Wz)(),(0,r.An)("tr",{key:s},[(0,r.QD)("td",jh,(0,d.WA)(i.meta.from+s),1),(0,r.QD)("td",null,(0,d.WA)(e?.asset?.asset_name),1),(0,r.QD)("td",null,(0,d.WA)(e.datasource),1),(0,r.QD)("td",Yh,[(0,r.QD)("a",{href:"javascript:void(0)",class:"text-danger me-2",onClick:(0,t.Y7)((a=>o.deleteHealthCheck(e)),["prevent"])},a[15]||(a[15]=[(0,r.QD)("i",{class:"ri-delete-bin-6-line fs-18 lh-1"},null,-1)]),8,Th)])])))),128)),0==i.campaigns.length?((0,r.Wz)(),(0,r.An)("tr",Nh,a[16]||(a[16]=[(0,r.QD)("td",{colspan:"3",class:"text-center"},"No records found",-1)]))):(0,r.g1)("",!0)])])])]),(0,r.QD)("div",Rh,[(0,r.QD)("div",qh,[(0,r.wt)((0,r.QD)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[4]||(a[4]=e=>i.meta.per_page=e),onChange:a[5]||(a[5]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[17]||(a[17]=[(0,r.QD)("option",null,"10",-1),(0,r.QD)("option",null,"15",-1),(0,r.QD)("option",null,"20",-1),(0,r.QD)("option",null,"25",-1),(0,r.QD)("option",null,"30",-1)]),544),[[t.Ip,i.meta.per_page]]),(0,r.QD)("span",null,"Showing "+(0,d.WA)(i.meta.from)+" to "+(0,d.WA)(i.meta.to)+" of "+(0,d.WA)(i.meta.totalRows)+" entries",1),(0,r.K2)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var Kh={components:{Pagination:Zt},data(){return{meta:{search:"",order_by:"asc",keyword:"campaign_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},campaign:{asset_id:"",datasource:"",campaign_id:""},campaigns:[],errors:[]}},mounted(){this.index()},methods:{index(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"paginateCampaigns",data:e.meta}).then((s=>{a.hide(),e.campaigns=s.data.data,e.meta.totalRows=s.data.meta.total,e.meta.from=s.data.meta.from,e.meta.lastPage=s.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},search(){let e=this;e.meta.page=1,e.index()},deleteHealthCheck(e){let a=this;alert("are you sure you want delete it!");let s=a.$loading.show();a.$store.dispatch("post",{uri:"deleteHealthCheck",data:e}).then((e=>{s.hide(),a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){s.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const Ih=(0,Ce.c)(Kh,[["render",Eh]]);var Fh=Ih;const Oh={class:""},Lh={class:"d-sm-flex align-items-center justify-content-between mb-2"},Bh={class:"breadcrumb fs-sm mb-1"},Mh={class:"breadcrumb-item","aria-current":"page"},Zh={class:"row"},Hh={class:"col-12"},Jh={class:"card card-one"},Gh={class:"card-body"},Xh={class:"table-responsive table-responsive-sm"},eb={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},ab={class:"",style:{"background-color":"#9b9b9b",color:"white"}},sb={key:0,class:"ri-arrow-up-line"},tb={key:1,class:"ri-arrow-down-line"},rb={key:2,class:"fas fa-sort"},lb={key:0,class:"ri-arrow-up-line"},ib={key:1,class:"ri-arrow-down-line"},ob={key:2,class:"fas fa-sort"},nb={key:0,class:"ri-arrow-up-line"},db={key:1,class:"ri-arrow-down-line"},cb={key:2,class:"fas fa-sort"},ub={key:0,class:"ri-arrow-up-line"},pb={key:1,class:"ri-arrow-down-line"},mb={key:2,class:"fas fa-sort"},_b={key:0,class:"text-center"},hb={class:"text-center"},bb={key:0,class:"text-center"},vb=["onClick"],yb=["onClick"],gb={key:0},Db={class:"card-footer"},Qb={class:"d-flex justify-content-between align-items-center"};function fb(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("Pagination"),u=(0,r.iS)("can");return(0,r.Wz)(),(0,r.An)("div",Oh,[(0,r.QD)("div",Lh,[(0,r.QD)("div",null,[(0,r.QD)("ol",Bh,[(0,r.QD)("li",Mh,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[8]||(a[8]=[(0,r.mY)("Dashboard")]))),_:1})]),a[9]||(a[9]=(0,r.QD)("li",{class:"breadcrumb-item"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Registers")],-1)),a[10]||(a[10]=(0,r.QD)("li",{class:"breadcrumb-item active","aria-current":"page"},"Service Registers",-1))]),a[11]||(a[11]=(0,r.QD)("h4",{class:"main-title mb-0"},"Service Registers",-1))]),(0,r.wt)(((0,r.Wz)(),(0,r.Az)(n,{to:"/user_service/create",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.Ql)((()=>a[12]||(a[12]=[(0,r.QD)("i",{class:"ri-list-check"},null,-1),(0,r.mY)(" Add Service Register")]))),_:1})),[[u,"userServices.create"]])]),(0,r.QD)("div",Zh,[(0,r.QD)("div",Hh,[(0,r.QD)("div",Jh,[a[22]||(a[22]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Service Registers")],-1)),(0,r.QD)("div",Gh,[(0,r.wt)((0,r.QD)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.search=e),onKeypress:a[1]||(a[1]=(0,t.jj)((e=>o.search()),["enter"]))},null,544),[[t.Og,i.meta.search]]),(0,r.QD)("div",Xh,[(0,r.QD)("table",eb,[(0,r.QD)("thead",null,[(0,r.QD)("tr",ab,[a[17]||(a[17]=(0,r.QD)("th",{class:"text-center"},"#",-1)),(0,r.QD)("th",{onClick:a[2]||(a[2]=e=>o.sort("service_no"))},[a[13]||(a[13]=(0,r.mY)(" Service No. ")),(0,r.QD)("span",null,["service_no"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",sb)):"service_no"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",tb)):((0,r.Wz)(),(0,r.An)("i",rb))])]),(0,r.QD)("th",{onClick:a[3]||(a[3]=e=>o.sort("service_date"))},[a[14]||(a[14]=(0,r.mY)(" Service Date ")),(0,r.QD)("span",null,["service_date"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",lb)):"service_date"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",ib)):((0,r.Wz)(),(0,r.An)("i",ob))])]),(0,r.QD)("th",{onClick:a[4]||(a[4]=e=>o.sort("next_service_date"))},[a[15]||(a[15]=(0,r.mY)(" Next Service Date ")),(0,r.QD)("span",null,["next_service_date"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",nb)):"next_service_date"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",db)):((0,r.Wz)(),(0,r.An)("i",cb))])]),(0,r.QD)("th",{onClick:a[5]||(a[5]=e=>o.sort("asset_id"))},[a[16]||(a[16]=(0,r.mY)(" Asset Code ")),(0,r.QD)("span",null,["asset_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",ub)):"asset_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",pb)):((0,r.Wz)(),(0,r.An)("i",mb))])]),i.get_service.length?((0,r.Wz)(),(0,r.An)("th",_b,"Actions")):(0,r.g1)("",!0)])]),(0,r.QD)("tbody",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.user_services,((e,s)=>((0,r.Wz)(),(0,r.An)("tr",{key:s},[(0,r.QD)("td",hb,(0,d.WA)(i.meta.from+s),1),(0,r.QD)("td",null,(0,d.WA)(e.service_no),1),(0,r.QD)("td",null,(0,d.WA)(o.convertDateFormat(e.service_date)),1),(0,r.QD)("td",null,(0,d.WA)(o.convertDateFormat(e.next_service_date)),1),(0,r.QD)("td",null,(0,d.WA)(e.asset?.asset_code),1),i.get_service.length?((0,r.Wz)(),(0,r.An)("td",bb,[(0,r.wt)(((0,r.Wz)(),(0,r.An)("a",{title:"Edit",href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editService(e)},a[18]||(a[18]=[(0,r.QD)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,vb)),[[u,"userServices.update"]]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("a",{title:"View",href:"javascript:void(0)",class:"text-danger me-2",onClick:(0,t.Y7)((a=>o.deleteService(e)),["prevent"])},a[19]||(a[19]=[(0,r.QD)("i",{class:"ri-delete-bin-6-line fs-18 lh-1"},null,-1)]),8,yb)),[[u,"userServices.delete"]])])):(0,r.g1)("",!0)])))),128)),0==i.user_services.length?((0,r.Wz)(),(0,r.An)("tr",gb,a[20]||(a[20]=[(0,r.QD)("td",{colspan:"8",class:"text-center"},"No records found",-1)]))):(0,r.g1)("",!0)])])])]),(0,r.QD)("div",Db,[(0,r.QD)("div",Qb,[(0,r.wt)((0,r.QD)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[6]||(a[6]=e=>i.meta.per_page=e),onChange:a[7]||(a[7]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[21]||(a[21]=[(0,r.QD)("option",null,"10",-1),(0,r.QD)("option",null,"15",-1),(0,r.QD)("option",null,"20",-1),(0,r.QD)("option",null,"25",-1),(0,r.QD)("option",null,"30",-1)]),544),[[t.Ip,i.meta.per_page]]),(0,r.QD)("span",null,"Showing "+(0,d.WA)(i.meta.from)+" to "+(0,d.WA)(i.meta.to)+" of "+(0,d.WA)(i.meta.totalRows)+" entries",1),(0,r.K2)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var kb={components:{Pagination:Zt},data(){return{meta:{search:"",order_by:"asc",keyword:"user_service_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},get_service:[],get_asset:[],user_services:[],errors:[],status:!0}},beforeRouteEnter(e,a,s){s((e=>{"UserServices.Edit"==!a.name?e.$store.commit("setCurrentPage",e.meta.page):e.meta.page=e.$store.getters.current_page}))},mounted(){this.get_service=this.$store.getters.permissions.filter((function(e){return e.ability.ability.includes("userServices.update")||e.ability.ability.includes("userServices.delete")})),this.$store.commit("setAssetId",""),this.index()},methods:{convertDateFormat(e){return j_()(e).format("yyyy-MM-DD")},index(){let e=this;console.log("page",e.meta.page);let a=e.$loading.show();e.$store.dispatch("post",{uri:"paginateUserServices",data:e.meta}).then((s=>{a.hide(),e.user_services=s.data.data,e.meta.totalRows=s.data.meta.total,e.meta.from=s.data.meta.from,e.meta.lastPage=s.data.meta.last_page,e.meta.page=s.data.meta.current_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},editService(e){this.$store.commit("setCurrentPage",this.meta.page),this.$router.push("/user_service/"+e.user_service_id+"/edit")},deleteService(e){let a=this;alert("are you sure you want delete it!");let s=a.$loading.show();a.$store.dispatch("post",{uri:"deleteUserService",data:e}).then((e=>{s.hide(),a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){s.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},search(){let e=this;e.meta.page=1,e.index()},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const wb=(0,Ce.c)(kb,[["render",fb]]);var Ab=wb;const Wb={class:""},zb={class:"d-sm-flex align-items-center justify-content-between mb-2"},xb={class:"breadcrumb fs-sm mb-1"},Pb={class:"breadcrumb-item","aria-current":"page"},Cb={class:"breadcrumb-item","aria-current":"page"},$b={key:0,class:"breadcrumb-item","aria-current":"page"},Sb={key:1,class:"breadcrumb-item active","aria-current":"page"},Ub={class:"row"},Vb={class:"col-12"},jb={class:"card card-one"},Yb={class:"card-header d-flex justify-content-between"},Tb={key:0,class:"card-title"},Nb={key:1,class:"card-title"},Rb={class:"card-body"},qb={class:"row g-2 mb-5"},Eb={class:"col-md-4"},Kb={key:0,class:"invalid-feedback"},Ib={class:"col-md-4"},Fb=["value"],Ob={key:0,class:"invalid-feedback"},Lb={class:"col-md-4"},Bb=["value"],Mb={key:0,class:"invalid-feedback"},Zb={class:"col-md-12"},Hb={key:0,class:"invalid-feedback"},Jb={class:"row g-2"},Gb={class:""},Xb={class:"table table-responsive table-responsive-sm table-sm text-nowrap table-bordered mb-0"},ev={key:0,class:"invalid-feedback"},av={key:0,class:"invalid-feedback"},sv={key:0,class:"invalid-feedback"},tv={key:0,class:"invalid-feedback"},rv={key:0,class:"invalid-feedback"},lv={class:"text-center"},iv={colspan:"6",class:"text-danger text-center"},ov={class:"text-center"},nv=["onClick"],dv=["onClick"],cv={class:"card-footer text-end"},uv={type:"submit",class:"btn btn-primary"},pv={key:0},mv={key:1};function _v(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("search");return(0,r.Wz)(),(0,r.An)("div",Wb,[(0,r.QD)("div",zb,[(0,r.QD)("div",null,[(0,r.QD)("ol",xb,[(0,r.QD)("li",Pb,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[16]||(a[16]=[(0,r.mY)("Dashboard")]))),_:1})]),a[18]||(a[18]=(0,r.QD)("li",{class:"breadcrumb-item"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Registers")],-1)),(0,r.QD)("li",Cb,[(0,r.K2)(n,{to:"/user_services"},{default:(0,r.Ql)((()=>a[17]||(a[17]=[(0,r.mY)("Service Registers")]))),_:1})]),i.status?((0,r.Wz)(),(0,r.An)("li",$b,"New Service Register")):((0,r.Wz)(),(0,r.An)("li",Sb,"Update Service Register"))]),a[19]||(a[19]=(0,r.QD)("h4",{class:"main-title mb-0"},"Service Register",-1))]),(0,r.K2)(n,{to:"/user_services",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.Ql)((()=>a[20]||(a[20]=[(0,r.QD)("i",{class:"ri-list-check"},null,-1),(0,r.mY)(" SERVICE REGISTERS")]))),_:1})]),(0,r.QD)("div",Ub,[(0,r.QD)("div",Vb,[(0,r.QD)("form",{onSubmit:a[15]||(a[15]=(0,t.Y7)(((...e)=>o.submitForm&&o.submitForm(...e)),["prevent"]))},[(0,r.QD)("div",jb,[(0,r.QD)("div",Yb,[i.status?((0,r.Wz)(),(0,r.An)("h6",Tb,"Add Service Register")):((0,r.Wz)(),(0,r.An)("h6",Nb,"Update Service Register"))]),(0,r.QD)("div",Rb,[(0,r.QD)("div",qb,[(0,r.QD)("div",Eb,[a[21]||(a[21]=(0,r.QD)("label",{class:"form-label"},"Asset",-1)),a[22]||(a[22]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.K2)(c,{class:(0,d.WN)({"is-invalid":i.errors.asset_id}),customClass:{"is-invalid":i.errors.asset_id},initialize:i.user_service.asset_id,id:"asset_id",label:"asset_name",label2:"asset_code",placeholder:"Select Asset",data:i.assets,onInput:a[0]||(a[0]=e=>i.user_service.asset_id=e)},null,8,["class","customClass","initialize","data"]),i.errors.asset_id?((0,r.Wz)(),(0,r.An)("span",Kb,(0,d.WA)(i.errors.asset_id[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",Ib,[a[23]||(a[23]=(0,r.QD)("label",{class:"form-label"},"Service Date",-1)),a[24]||(a[24]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"date",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.service_date}]),placeholder:"Enter Service Date",value:o.convertDateFormat(i.user_service.service_date),"onUpdate:modelValue":a[1]||(a[1]=e=>i.user_service.service_date=e),ref:"service_date"},null,10,Fb),[[t.Og,i.user_service.service_date]]),i.errors.service_date?((0,r.Wz)(),(0,r.An)("span",Ob,(0,d.WA)(i.errors.service_date[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",Lb,[a[25]||(a[25]=(0,r.QD)("label",{class:"form-label"},"Next Service Date",-1)),a[26]||(a[26]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"date",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.next_service_date}]),placeholder:"Enter Next Service Date",value:o.convertDateFormat(i.user_service.next_service_date),"onUpdate:modelValue":a[2]||(a[2]=e=>i.user_service.next_service_date=e)},null,10,Bb),[[t.Og,i.user_service.next_service_date]]),i.errors.next_service_date?((0,r.Wz)(),(0,r.An)("span",Mb,(0,d.WA)(i.errors.next_service_date[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",Zb,[a[27]||(a[27]=(0,r.QD)("label",{class:"form-label"},"Note",-1)),(0,r.wt)((0,r.QD)("textarea",{type:"text",placeholder:"Enter Note",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.note}]),"onUpdate:modelValue":a[3]||(a[3]=e=>i.user_service.note=e)},null,2),[[t.Og,i.user_service.note]]),i.errors.note?((0,r.Wz)(),(0,r.An)("span",Hb,(0,d.WA)(i.errors.note[0]),1)):(0,r.g1)("",!0)])]),(0,r.QD)("div",Jb,[(0,r.QD)("div",Gb,[(0,r.QD)("table",Xb,[a[33]||(a[33]=(0,r.QD)("thead",null,[(0,r.QD)("tr",null,[(0,r.QD)("th",null,"Asset Zone"),(0,r.QD)("th",null,[(0,r.mY)("Service "),(0,r.QD)("span",{class:"text-danger"}," *")]),(0,r.QD)("th",null,[(0,r.mY)("Service Cost "),(0,r.QD)("span",{class:"text-danger"}," *")]),(0,r.QD)("th",null,[(0,r.mY)("Spare "),(0,r.QD)("span",{class:"text-danger"}," *")]),(0,r.QD)("th",null,[(0,r.mY)("Spare Cost "),(0,r.QD)("span",{class:"text-danger"}," *")]),(0,r.QD)("th",{class:"text-center"},"Actions")])],-1)),(0,r.QD)("tbody",null,[(0,r.QD)("tr",null,[(0,r.QD)("td",null,[(0,r.K2)(c,{class:(0,d.WN)({"is-invalid":i.errors.asset_zone_id}),customClass:{"is-invalid":i.errors.asset_zone_id},initialize:i.user_spare.asset_zone_id,id:"asset_zone_id",label:"zone_name",placeholder:"Select Asset Zone",data:i.asset_zones,onInput:a[4]||(a[4]=e=>i.user_spare.asset_zone_id=e),onSelectsearch:a[5]||(a[5]=e=>o.getAssetZoneValue(i.user_spare.asset_zone_id))},null,8,["class","customClass","initialize","data"]),i.errors.asset_zone_id?((0,r.Wz)(),(0,r.An)("span",ev,(0,d.WA)(i.errors.asset_zone_id[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("td",null,[(0,r.K2)(c,{class:(0,d.WN)({"is-invalid":i.errors.service_id}),customClass:{"is-invalid":i.errors.service_id},initialize:i.user_spare.service_id,id:"service_id",label:"service_name",label2:"service_code",placeholder:"Select Service",data:i.services,onInput:a[6]||(a[6]=e=>i.user_spare.service_id=e),onSelectsearch:a[7]||(a[7]=e=>o.getServiceValue(i.user_spare.service_id))},null,8,["class","customClass","initialize","data"]),i.errors.service_id?((0,r.Wz)(),(0,r.An)("span",av,(0,d.WA)(i.errors.service_id[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("td",null,[(0,r.wt)((0,r.QD)("input",{type:"number",placeholder:"Enter Service Cost",min:"0",oninput:"validity.valid||(value='');",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.service_cost}]),"onUpdate:modelValue":a[8]||(a[8]=e=>i.user_spare.service_cost=e)},null,2),[[t.Og,i.user_spare.service_cost]]),i.errors.service_cost?((0,r.Wz)(),(0,r.An)("span",sv,(0,d.WA)(i.errors.service_cost[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("td",null,[(0,r.K2)(c,{class:(0,d.WN)({"is-invalid":i.errors.spare_id}),customClass:{"is-invalid":i.errors.spare_id},"aria-describedby":"basic-addon2","aria-label":"Select Spare",initialize:i.user_spare.spare_id,id:"spare_id",label:"spare_name",label2:"spare_code",placeholder:"Select Spare",data:i.spares,onInput:a[9]||(a[9]=e=>i.user_spare.spare_id=e),onSelectsearch:a[10]||(a[10]=e=>o.getValue(i.user_spare.spare_id))},null,8,["class","customClass","initialize","data"]),i.errors.spare_id?((0,r.Wz)(),(0,r.An)("span",tv,(0,d.WA)(i.errors.spare_id[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("td",null,[(0,r.wt)((0,r.QD)("input",{type:"number",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.spare_cost}]),placeholder:"Enter Spare Cost",min:"0","onUpdate:modelValue":a[11]||(a[11]=e=>i.user_spare.spare_cost=e)},null,2),[[t.Og,i.user_spare.spare_cost]]),i.errors.spare_cost?((0,r.Wz)(),(0,r.An)("span",rv,(0,d.WA)(i.errors.spare_cost[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("td",lv,[i.user_spare.status?((0,r.Wz)(),(0,r.An)("button",{key:0,class:"btn btn-outline-success mx-1",onClick:a[12]||(a[12]=(0,t.Y7)((e=>o.addRow()),["prevent"]))},a[28]||(a[28]=[(0,r.QD)("i",{class:"ri-add-line fs-18 lh-1"},null,-1)]))):((0,r.Wz)(),(0,r.An)("button",{key:1,class:"btn btn-outline-success mx-1",onClick:a[13]||(a[13]=(0,t.Y7)((e=>o.updateRow(i.user_spare)),["prevent"]))},a[29]||(a[29]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1)]))),(0,r.QD)("button",{class:"btn btn-outline-danger mx-1",onClick:a[14]||(a[14]=(0,t.Y7)((e=>o.discardNewRow()),["prevent"]))},a[30]||(a[30]=[(0,r.QD)("i",{class:"ri-close-line fs-18 lh-1"},null,-1)]))])]),(0,r.QD)("tr",null,[(0,r.QD)("td",iv,(0,d.WA)(i.errors.user_spares),1)])]),(0,r.QD)("tbody",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.user_service.user_spares,((e,s)=>((0,r.Wz)(),(0,r.An)("tr",{key:s},[(0,r.QD)("td",null,(0,d.WA)(e?.asset_zone?.zone_name),1),(0,r.QD)("td",null,(0,d.WA)(e?.service?.service_name),1),(0,r.QD)("td",null,(0,d.WA)(e?.service_cost),1),(0,r.QD)("td",null,(0,d.WA)(e?.spare?.spare_name),1),(0,r.QD)("td",null,(0,d.WA)(e?.spare_cost),1),(0,r.QD)("td",ov,[(0,r.QD)("button",{type:"button",class:"btn btn-outline-primary mx-2",onClick:(0,t.Y7)((a=>o.editSpare(e,s)),["prevent"])},a[31]||(a[31]=[(0,r.QD)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,nv),(0,r.QD)("button",{type:"button",class:"btn btn-outline-danger",onClick:(0,t.Y7)((a=>o.deleteSpare(e,s)),["prevent"])},a[32]||(a[32]=[(0,r.QD)("i",{class:"ri-delete-bin-line fs-18 lh-1"},null,-1)]),8,dv)])])))),128))])])])])]),(0,r.QD)("div",cv,[(0,r.K2)(n,{type:"button",to:"/user_services",class:"btn btn-danger me-2"},{default:(0,r.Ql)((()=>a[34]||(a[34]=[(0,r.QD)("i",{class:"ri-arrow-left-line fs-18 lh-1"},null,-1),(0,r.mY)(" Back")]))),_:1}),(0,r.QD)("button",uv,[i.status?((0,r.Wz)(),(0,r.An)("span",pv,a[35]||(a[35]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Submit")]))):((0,r.Wz)(),(0,r.An)("span",mv,a[36]||(a[36]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Update")])))])])])],32)])])])}var hv={name:"Assets.Create",components:{Search:Gr.c},data(){return{user_service:{user_service_id:"",service_no:"",service_date:"",asset_id:"",next_service_date:"",note:"",user_spares:[],deleted_user_spares:[],status:!0,asset_zone_id:""},user_spare:{user_spare_id:"",spare_id:"",spare:{spare_name:""},asset_zone_id:"",asset_zone:{zone_name:""},service_id:"",service:{service_name:""},service_cost:"",spare_cost:"",status:!0},deleted_spares:[],assets:[],services:[],spares:[],errors:[],asset_zones:[],status:!0}},watch:{"user_service.asset_id":function(){this.getAssetZones()},"user_spare.asset_zone_id":function(){this.getServices(),this.getSpares()}},beforeRouteEnter(e,a,s){s((a=>{if(a.getAssets(),"UserServices.Create"==e.name)a.$store.getters.asset_id&&(a.user_service.asset_id=a.$store.getters.asset_id),a.$refs.service_date.focus();else{a.status=!1;let s={uri:"getUserService",data:{user_service_id:e.params.user_service_id}};a.$store.dispatch("post",s).then((function(e){a.user_service=e.data.data})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}}))},mounted(){this.user_service.service_date=j_()().format("yyyy-MM-DD"),this.user_service.next_service_date=j_()().format("yyyy-MM-DD")},methods:{convertDateFormat(e){return j_()(e).format("yyyy-MM-DD")},submitForm(){let e=this;e.status?e.addUserService():e.updateUserService()},getAssetZoneValue(e){let a=this,s=a.asset_zones?.filter((function(a){return a.asset_zone_id==e}));console.log("aaa--",s,e),s.length&&(a.user_service.asset_zone_id=s[0].asset_zone_id,a.user_spare.asset_zone.zone_name=s[0].zone_name)},getValue(e){let a=this,s=a.spares?.filter((function(a){return a.spare_id==e}));s.length&&(a.user_spare.spare.spare_name=s[0].spare_name)},getServiceValue(e){let a=this,s=a.services?.filter((function(a){return a.service_id==e}));s.length&&(a.user_spare.service.service_name=s[0].service_name)},getAssets(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssets"}).then((s=>{a.hide(),e.assets=s.data.data})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getServices(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssetsServices",data:e.user_service}).then((s=>{a.hide(),e.services=s.data})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getSpares(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssetServiceSpares",data:e.user_service}).then((s=>{a.hide(),e.spares=s.data})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getAssetZones(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssetZones",data:e.user_service}).then((s=>{a.hide(),e.asset_zones=s.data.data,e.asset_zones.length||(e.getServices(),e.getSpares())})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},addUserService(){let e=this,a=e.$loading.show();if(0===e.user_service.user_spares.length)return a.hide(),e.errors.user_spares="At least one entry is required",void e.$store.dispatch("error","At least one entry is required.");e.$store.dispatch("post",{uri:"addUserService",data:e.user_service}).then((s=>{a.hide(),e.$store.dispatch("success",s.data.message),e.$router.push("/user_services")})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},updateUserService(){let e=this;e.user_service.deleted_user_spares=e.deleted_spares;let a=e.$loading.show();if(0===e.user_service.user_spares.length)return a.hide(),e.errors.user_spares="At least one entry is required",void e.$store.dispatch("error","At least one entry is required.");e.$store.dispatch("post",{uri:"updateUserService",data:e.user_service}).then((s=>{a.hide(),e.$store.dispatch("success",s.data.message),e.$router.push("/user_services")})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},addRow(){let e=this;e.errors=[],""==e.user_spare.spare_id||""==e.user_spare.spare_cost||""==e.user_spare.service_id||""==e.user_spare.service_cost?(""==e.user_spare.service_id&&(e.errors.service_id=["Service cannot be empty"]),""==e.user_spare.service_cost&&(e.errors.service_cost=["Service Cost cannot be empty"]),""==e.user_spare.spare_id&&(e.errors.spare_id=["Spare field cannot be empty"]),""==e.user_spare.spare_cost&&(e.errors.spare_cost=["Spare Cost cannot be empty"])):(e.user_service.user_spares.push({user_spare_id:"",asset_zone_id:e.user_spare.asset_zone_id,asset_zone:{zone_name:e.user_spare.asset_zone.zone_name},service_id:e.user_spare.service_id,service:{service_name:e.user_spare.service.service_name},service_cost:e.user_spare.service_cost,spare_id:e.user_spare.spare_id,spare:{spare_name:e.user_spare.spare.spare_name},spare_cost:e.user_spare.spare_cost}),e.discardNewRow())},discardNewRow(){let e=this;e.user_spare.asset_zone_id="",e.user_spare.service_id="",e.user_spare.service_cost="",e.user_spare.user_spare_id="",e.user_spare.spare_id="",e.user_spare.spare_cost="",e.user_spare.spare.spare_name="",e.user_spare.status=!0,e.errors=[]},editSpare(e,a){let s=this;s.user_spare.asset_zone_id=e.asset_zone_id,s.user_spare.asset_zone.zone_name=e.asset_zone.zone_name,s.user_spare.service_id=e.service_id,s.user_spare.service.service_name=e.service.service_name,s.user_spare.service_cost=e.service_cost,s.user_spare.user_spare_id=e.user_spare_id,s.user_spare.spare_id=e.spare_id,s.user_spare.spare.spare_name=e.spare.spare_name,s.user_spare.spare_cost=e.spare_cost,s.user_spare.status=!1,s.user_spare.key=a,s.errors=[]},updateRow(e){let a=this;if(a.errors=[],""==a.user_spare.spare_id||""==a.user_spare.spare_cost||""==a.user_spare.service_id||""==a.user_spare.service_cost)""==a.user_spare.service_id&&(a.errors.service_id=["Service cannot be empty"]),""==a.user_spare.service_cost&&(a.errors.service_cost=["Service Cost cannot be empty"]),""==a.user_spare.spare_id&&(a.errors.spare_id=["Spare field cannot be empty"]),""==a.user_spare.spare_cost&&(a.errors.spare_cost=["Spare Cost cannot be empty"]);else{let s=a.user_service.user_spares.filter((function(a){return a.key==e.key}));a.user_service.user_spares[s.key]=s,a.user_service.user_spares.splice(a.user_spare.key,1),console.log("push",a.user_spare),a.user_service.user_spares.push({asset_zone_id:a.user_spare.asset_zone_id,asset_zone:{zone_name:a.user_spare.asset_zone.zone_name},service_id:a.user_spare.service_id,service:{service_name:a.user_spare.service.service_name},service_cost:a.user_spare.service_cost,user_spare_id:a.user_spare.user_spare_id,spare_id:a.user_spare.spare_id,spare:{spare_name:a.user_spare.spare.spare_name},spare_cost:a.user_spare.spare_cost}),a.discardNewRow()}},deleteSpare(e,a){let s=this;confirm("Are you sure you want to delete")&&(s.deleted_spares.push(e?.user_spare_id),s.user_service.user_spares.splice(a,1),s.discardNewRow())}}};const bv=(0,Ce.c)(hv,[["render",_v],["__scopeId","data-v-099e9c4b"]]);var vv=bv;const yv={class:""},gv={class:"d-sm-flex align-items-center justify-content-between mb-2"},Dv={class:"breadcrumb fs-sm mb-1"},Qv={class:"breadcrumb-item","aria-current":"page"},fv={class:"row"},kv={class:"col-12"},wv={class:"card card-one"},Av={class:"card-body"},Wv={class:"table-responsive table-responsive-sm"},zv={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},xv={class:"",style:{"background-color":"#9b9b9b",color:"white"}},Pv={key:0,class:"ri-arrow-up-line"},Cv={key:1,class:"ri-arrow-down-line"},$v={key:2,class:"fas fa-sort"},Sv={key:0,class:"ri-arrow-up-line"},Uv={key:1,class:"ri-arrow-down-line"},Vv={key:2,class:"fas fa-sort"},jv={key:0,class:"ri-arrow-up-line"},Yv={key:1,class:"ri-arrow-down-line"},Tv={key:2,class:"fas fa-sort"},Nv={key:0,class:"ri-arrow-up-line"},Rv={key:1,class:"ri-arrow-down-line"},qv={key:2,class:"fas fa-sort"},Ev={class:"text-center"},Kv={class:"text-center"},Iv=["onClick"],Fv=["onClick"],Ov=["onClick"],Lv={key:0},Bv={class:"card-footer"},Mv={class:"d-flex justify-content-between align-items-center"};function Zv(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("Pagination"),u=(0,r.iS)("can");return(0,r.Wz)(),(0,r.An)("div",yv,[(0,r.QD)("div",gv,[(0,r.QD)("div",null,[(0,r.QD)("ol",Dv,[(0,r.QD)("li",Qv,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[7]||(a[7]=[(0,r.mY)("Dashboard")]))),_:1})]),a[8]||(a[8]=(0,r.QD)("li",{class:"breadcrumb-item"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Registers")],-1)),a[9]||(a[9]=(0,r.QD)("li",{class:"breadcrumb-item active","aria-current":"page"},"Check Registers",-1))]),a[10]||(a[10]=(0,r.QD)("h4",{class:"main-title mb-0"},"Check Registers",-1))]),(0,r.wt)(((0,r.Wz)(),(0,r.Az)(n,{to:"/user_check/create",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.Ql)((()=>a[11]||(a[11]=[(0,r.QD)("i",{class:"ri-list-check"},null,-1),(0,r.mY)(" Add Check Register")]))),_:1})),[[u,"userChecks.create"]])]),(0,r.QD)("div",fv,[(0,r.QD)("div",kv,[(0,r.QD)("div",wv,[a[23]||(a[23]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Check Registers")],-1)),(0,r.QD)("div",Av,[(0,r.wt)((0,r.QD)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.search=e),onKeypress:a[1]||(a[1]=(0,t.jj)((e=>o.search()),["enter"]))},null,544),[[t.Og,i.meta.search]]),(0,r.QD)("div",Wv,[(0,r.QD)("table",zv,[(0,r.QD)("thead",null,[(0,r.QD)("tr",xv,[a[16]||(a[16]=(0,r.QD)("th",{class:"text-center"},"#",-1)),(0,r.QD)("th",{onClick:a[2]||(a[2]=e=>o.sort("asset_id"))},[a[12]||(a[12]=(0,r.mY)(" Asset ")),(0,r.QD)("span",null,["asset_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Pv)):"asset_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Cv)):((0,r.Wz)(),(0,r.An)("i",$v))])]),(0,r.QD)("th",{onClick:a[3]||(a[3]=e=>o.sort("reference_no"))},[a[13]||(a[13]=(0,r.mY)(" Reference No. ")),(0,r.QD)("span",null,["reference_no"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Sv)):"reference_no"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Uv)):((0,r.Wz)(),(0,r.An)("i",Vv))])]),(0,r.QD)("th",{onClick:a[4]||(a[4]=e=>o.sort("reference_date"))},[a[14]||(a[14]=(0,r.mY)(" Reference Date. ")),(0,r.QD)("span",null,["reference_date"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",jv)):"reference_date"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Yv)):((0,r.Wz)(),(0,r.An)("i",Tv))])]),(0,r.QD)("th",null,[a[15]||(a[15]=(0,r.mY)(" Asset Zone. ")),(0,r.QD)("span",null,["asset_zone_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Nv)):"asset_zone_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Rv)):((0,r.Wz)(),(0,r.An)("i",qv))])]),a[17]||(a[17]=(0,r.QD)("th",{class:"text-center"},"Actions",-1))])]),(0,r.QD)("tbody",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.user_checks,((e,s)=>((0,r.Wz)(),(0,r.An)("tr",{key:s},[(0,r.QD)("td",Ev,(0,d.WA)(i.meta.from+s),1),(0,r.QD)("td",null,(0,d.WA)(e.asset?.asset_code),1),(0,r.QD)("td",null,(0,d.WA)(e.reference_no),1),(0,r.QD)("td",null,(0,d.WA)(o.convertDateFormat(e.reference_date)),1),(0,r.QD)("td",null,(0,d.WA)(e?.asset_zone?.zone_name),1),(0,r.QD)("td",Kv,[(0,r.wt)(((0,r.Wz)(),(0,r.An)("a",{title:"Edit",href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editUserCheck(e)},a[18]||(a[18]=[(0,r.QD)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,Iv)),[[u,"userChecks.update"]]),(0,r.QD)("a",{title:"View",href:"javascript:void(0)",onClick:a=>o.viewUserCheck(e),class:"text-primary me-2"},a[19]||(a[19]=[(0,r.QD)("i",{class:"ri-eye-fill fs-18 lh-1"},null,-1)]),8,Fv),(0,r.wt)(((0,r.Wz)(),(0,r.An)("a",{title:"View",href:"javascript:void(0)",class:"text-danger me-2",onClick:(0,t.Y7)((a=>o.deleteUserCheck(e)),["prevent"])},a[20]||(a[20]=[(0,r.QD)("i",{class:"ri-delete-bin-6-line fs-18 lh-1"},null,-1)]),8,Ov)),[[u,"userChecks.delete"]])])])))),128)),0==i.user_checks.length?((0,r.Wz)(),(0,r.An)("tr",Lv,a[21]||(a[21]=[(0,r.QD)("td",{colspan:"5",class:"text-center"},"No records found",-1)]))):(0,r.g1)("",!0)])])])]),(0,r.QD)("div",Bv,[(0,r.QD)("div",Mv,[(0,r.wt)((0,r.QD)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[5]||(a[5]=e=>i.meta.per_page=e),onChange:a[6]||(a[6]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[22]||(a[22]=[(0,r.QD)("option",null,"10",-1),(0,r.QD)("option",null,"15",-1),(0,r.QD)("option",null,"20",-1),(0,r.QD)("option",null,"25",-1),(0,r.QD)("option",null,"30",-1)]),544),[[t.Ip,i.meta.per_page]]),(0,r.QD)("span",null,"Showing "+(0,d.WA)(i.meta.from)+" to "+(0,d.WA)(i.meta.to)+" of "+(0,d.WA)(i.meta.totalRows)+" entries",1),(0,r.K2)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var Hv={name:"UserChecks.Index",components:{Pagination:Zt},data(){return{status:!0,meta:{search:"",order_by:"asc",keyword:"user_check_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},user_checks:[],errors:[],status:!0}},beforeRouteEnter(e,a,s){s((e=>{"UserChecks.Edit"!=a.name&&"UserChecks.View"!=a.name?e.$store.commit("setCurrentPage",e.meta.page):e.meta.page=e.$store.getters.current_page}))},mounted(){this.$store.commit("setAssetId",""),this.index()},methods:{convertDateFormat(e){return j_()(e).format("DD-MM-YYYY")},index(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"paginateUserChecks",data:e.meta}).then((s=>{a.hide(),e.user_checks=s.data.data,e.meta.totalRows=s.data.meta.total,e.meta.from=s.data.meta.from,e.meta.lastPage=s.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},editUserCheck(e){this.$store.commit("setCurrentPage",this.meta.page),this.$router.push("/user_check/"+e.user_check_id+"/edit")},viewUserCheck(e){this.$store.commit("setCurrentPage",this.meta.page),this.$router.push("/user_check/"+e.user_check_id+"/view")},deleteUserCheck(e){let a=this;alert("are you sure you want delete it!");let s=a.$loading.show();a.$store.dispatch("post",{uri:"deleteUserCheck",data:e}).then((e=>{s.hide(),a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){s.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},search(){let e=this;e.meta.page=1,e.index()},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const Jv=(0,Ce.c)(Hv,[["render",Zv]]);var Gv=Jv;const Xv={class:""},ey={class:"d-sm-flex align-items-center justify-content-between mb-2"},ay={class:"breadcrumb fs-sm mb-1"},sy={class:"breadcrumb-item","aria-current":"page"},ty={class:"breadcrumb-item active","aria-current":"page"},ry={key:0,class:"breadcrumb-item","aria-current":"page"},ly={key:1,class:"breadcrumb-item active","aria-current":"page"},iy={class:"row"},oy={class:"col-12 mb-3"},ny={class:"card card-one"},dy={class:"card-header d-flex justify-content-between"},cy={key:0,class:"card-title"},uy={key:1,class:"card-title"},py={class:"card-body"},my={class:"row g-2"},_y={class:"col-md-3"},hy={key:0,class:"invalid-feedback"},by={class:"col-md-3"},vy={key:0,class:"invalid-feedback"},yy={class:"col-md-3"},gy={key:0,class:"invalid-feedback"},Dy={class:"col-md-3"},Qy=["value"],fy={key:0,class:"invalid-feedback"},ky={class:"col-md-12"},wy={key:0,class:"invalid-feedback"},Ay={class:"col-12"},Wy={class:"card card-one"},zy={class:"card-body"},xy={class:"row g-2"},Py={class:""},Cy={class:"table table-responsive table-striped table-responsive-sm table-sm text-nowrap table-bordered mb-0"},$y={class:"text-center"},Sy={key:0},Uy=["onUpdate:modelValue"],Vy={key:1},jy=["onUpdate:modelValue"],Yy={key:2},Ty=["onUpdate:modelValue"],Ny={key:3},Ry=["onUpdate:modelValue"],qy={key:4},Ey=["onUpdate:modelValue"],Ky={key:5},Iy=["onUpdate:modelValue"],Fy=["value"];function Oy(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("search");return(0,r.Wz)(),(0,r.An)("div",Xv,[(0,r.QD)("div",ey,[(0,r.QD)("div",null,[(0,r.QD)("ol",ay,[(0,r.QD)("li",sy,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[9]||(a[9]=[(0,r.mY)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.QD)("li",{class:"breadcrumb-item"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Registers")],-1)),(0,r.QD)("li",ty,[(0,r.K2)(n,{to:"/user_checks"},{default:(0,r.Ql)((()=>a[10]||(a[10]=[(0,r.mY)("Check Registers")]))),_:1})]),i.status?((0,r.Wz)(),(0,r.An)("li",ry,"Add Check")):((0,r.Wz)(),(0,r.An)("li",ly,"Update Check"))]),a[12]||(a[12]=(0,r.QD)("h4",{class:"main-title mb-0"},"Check Register",-1))]),(0,r.QD)("div",null,[(0,r.K2)(n,{to:"/user_checks",type:"button",class:"btn btn-danger me-2"},{default:(0,r.Ql)((()=>a[13]||(a[13]=[(0,r.QD)("i",{class:"ri-arrow-left-line fs-18 lh-1"},null,-1),(0,r.mY)(" Back")]))),_:1}),i.status?((0,r.Wz)(),(0,r.An)("button",{key:0,type:"button",class:"btn btn-primary me-2",onClick:a[0]||(a[0]=e=>o.addUserCheck())},a[14]||(a[14]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Submit")]))):((0,r.Wz)(),(0,r.An)("button",{key:1,type:"button",class:"btn btn-primary me-2",onClick:a[1]||(a[1]=e=>o.updateUserCheck())},a[15]||(a[15]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Update")])))])]),(0,r.QD)("div",iy,[(0,r.QD)("div",oy,[(0,r.QD)("form",null,[(0,r.QD)("div",ny,[(0,r.QD)("div",dy,[i.status?((0,r.Wz)(),(0,r.An)("h6",cy,"Add Check Register")):((0,r.Wz)(),(0,r.An)("h6",uy,"Update Check Register"))]),(0,r.QD)("div",py,[(0,r.QD)("div",my,[(0,r.QD)("div",_y,[a[16]||(a[16]=(0,r.QD)("label",{class:"form-label"},"Asset",-1)),a[17]||(a[17]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.K2)(c,{disabled:!i.status,class:(0,d.WN)({"is-invalid":i.errors?.asset_id}),customClass:{"is-invalid":i.errors?.asset_id},initialize:i.user_check.asset_id,id:"asset_id",label:"asset_name",label2:"asset_code",placeholder:"Select Asset",data:i.assets,onInput:a[2]||(a[2]=e=>i.user_check.asset_id=e),onSelectsearch:a[3]||(a[3]=e=>o.checkAssets())},null,8,["disabled","class","customClass","initialize","data"]),i.errors?.asset_id?((0,r.Wz)(),(0,r.An)("span",hy,(0,d.WA)(i.errors?.asset_id[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",by,[a[18]||(a[18]=(0,r.QD)("label",{class:"form-label"},"Department",-1)),a[19]||(a[19]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.K2)(c,{disabled:!i.status,class:(0,d.WN)({"is-invalid":i.errors.department_id}),customClass:{"is-invalid":i.errors.department_id},initialize:i.user_check.department_id,id:"department_id",label:"department_name",label2:"department_code",placeholder:"Select Department",data:i.departments,onInput:a[4]||(a[4]=e=>i.user_check.department_id=e)},null,8,["disabled","class","customClass","initialize","data"]),i.errors.asset_id?((0,r.Wz)(),(0,r.An)("span",vy,(0,d.WA)(i.errors.asset_id[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",yy,[a[20]||(a[20]=(0,r.QD)("label",{class:"form-label"},"Asset Zone",-1)),(0,r.K2)(c,{disabled:!i.status,class:(0,d.WN)({"is-invalid":i.errors.asset_zone_id}),customClass:{"is-invalid":i.errors.asset_zone_id},initialize:i.user_check.asset_zone_id,id:"asset_zone_id",label:"zone_name",placeholder:"Select Asset Zone",data:i.asset_zones,onInput:a[5]||(a[5]=e=>i.user_check.asset_zone_id=e),onSelectsearch:a[6]||(a[6]=e=>o.getAssetChecks(i.user_check.asset_zone_id))},null,8,["disabled","class","customClass","initialize","data"]),i.errors.asset_zone_id?((0,r.Wz)(),(0,r.An)("span",gy,(0,d.WA)(i.errors.asset_zone_id[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",Dy,[a[21]||(a[21]=(0,r.QD)("label",{class:"form-label"},"Reference Date",-1)),a[22]||(a[22]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"date",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.reference_date}]),placeholder:"Enter Reference Date",value:o.convertDateFormat(i.user_check.reference_date),"onUpdate:modelValue":a[7]||(a[7]=e=>i.user_check.reference_date=e),ref:"reference_date"},null,10,Qy),[[t.Og,i.user_check.reference_date]]),i.errors.reference_date?((0,r.Wz)(),(0,r.An)("span",fy,(0,d.WA)(i.errors.reference_date[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",ky,[a[23]||(a[23]=(0,r.QD)("label",{class:"form-label"},"Note",-1)),(0,r.wt)((0,r.QD)("textarea",{type:"text",placeholder:"Enter Note",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.note}]),"onUpdate:modelValue":a[8]||(a[8]=e=>i.user_check.note=e)},null,2),[[t.Og,i.user_check.note]]),i.errors.note?((0,r.Wz)(),(0,r.An)("span",wy,(0,d.WA)(i.errors.note[0]),1)):(0,r.g1)("",!0)])])])])])]),(0,r.QD)("div",Ay,[(0,r.QD)("div",Wy,[a[26]||(a[26]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Asset Checks")],-1)),(0,r.QD)("div",zy,[(0,r.QD)("div",xy,[(0,r.QD)("div",Py,[(0,r.QD)("table",Cy,[a[25]||(a[25]=(0,r.QD)("thead",null,[(0,r.QD)("tr",null,[(0,r.QD)("th",{class:"text-center"},"#"),(0,r.QD)("th",null,"Field name"),(0,r.QD)("th",null,"Field Type"),(0,r.QD)("th",null,"Default Value"),(0,r.QD)("th",null,"Is Required"),(0,r.QD)("th",null,"LCL"),(0,r.QD)("th",null,"UCL"),(0,r.QD)("th",null,"Value")])],-1)),(0,r.QD)("tbody",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.user_check.asset_checks,((e,s)=>((0,r.Wz)(),(0,r.An)("tr",{key:s},[(0,r.QD)("td",$y,(0,d.WA)(s+1),1),(0,r.QD)("td",null,(0,d.WA)(e.field_name),1),(0,r.QD)("td",null,(0,d.WA)(e.field_type),1),(0,r.QD)("td",null,(0,d.WA)(e.default_value),1),(0,r.QD)("td",null,(0,d.WA)(1==e.is_required?"Yes":"No"),1),(0,r.QD)("td",null,(0,d.WA)(e.lcl),1),(0,r.QD)("td",null,(0,d.WA)(e.ucl),1),"Text"==e.field_type?((0,r.Wz)(),(0,r.An)("td",Sy,[(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Enter Value",class:"form-control","onUpdate:modelValue":a=>e.value=a},null,8,Uy),[[t.Og,e.value]])])):(0,r.g1)("",!0),"Number"==e.field_type?((0,r.Wz)(),(0,r.An)("td",Vy,[(0,r.wt)((0,r.QD)("input",{type:"number",placeholder:"Enter Value",class:"form-control","onUpdate:modelValue":a=>e.value=a},null,8,jy),[[t.Og,e.value]])])):(0,r.g1)("",!0),"Text Area"==e.field_type?((0,r.Wz)(),(0,r.An)("td",Yy,[(0,r.wt)((0,r.QD)("textarea",{type:"text",placeholder:"Enter Value",class:"form-control","onUpdate:modelValue":a=>e.value=a},null,8,Ty),[[t.Og,e.value]])])):(0,r.g1)("",!0),"Date"==e.field_type?((0,r.Wz)(),(0,r.An)("td",Ny,[(0,r.wt)((0,r.QD)("input",{type:"date",placeholder:"Enter Value",class:"form-control","onUpdate:modelValue":a=>e.value=a},null,8,Ry),[[t.Og,e.value]])])):(0,r.g1)("",!0),"Date & Time"==e.field_type?((0,r.Wz)(),(0,r.An)("td",qy,[(0,r.wt)((0,r.QD)("input",{type:"datetime-local",placeholder:"Enter Value",class:"form-control","onUpdate:modelValue":a=>e.value=a},null,8,Ey),[[t.Og,e.value]])])):(0,r.g1)("",!0),"Select"==e.field_type?((0,r.Wz)(),(0,r.An)("td",Ky,[(0,r.wt)((0,r.QD)("select",{class:"form-control","onUpdate:modelValue":a=>e.value=a},[a[24]||(a[24]=(0,r.QD)("option",{value:""},"Select",-1)),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(e?.field_values?.split(","),((e,a)=>((0,r.Wz)(),(0,r.An)("option",{key:a,value:e},(0,d.WA)(e),9,Fy)))),128))],8,Iy),[[t.Ip,e.value]])])):(0,r.g1)("",!0)])))),128))])])])])])])])])])}var Ly={name:"UserChecks.Create",components:{Search:Gr.c},data(){return{status:!0,user_check:{user_check_id:"",asset_id:"",reference_no:"",reference_date:"",note:"",asset_zone_id:"",department_id:"",status:"",asset_checks:[]},assets:[],status:!0,asset_checks:[],asset_zones:[],departments:[],errors:[]}},beforeRouteEnter(e,a,s){s((a=>{if(a.getAssets(),"UserChecks.Create"==e.name)a.$store.getters.asset_id&&(a.user_check.asset_id=a.$store.getters.asset_id),a.$refs.reference_date.focus();else{a.status=!1;let s={uri:"getUserCheck",data:{user_check_id:e.params.user_check_id}};a.$store.dispatch("post",s).then((function(e){a.user_check=e.data.data,console.log("ss--",a.user_check)})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}}))},watch:{"user_check.asset_id":function(){this.getAssetZones(),this.getDepartments()},"user_check.department_id":function(){this.status&&this.getAssetChecks()}},mounted(){this.user_check.reference_date=j_()().format("yyyy-MM-DD")},methods:{checkAssets(){this.user_check.asset_zone_id=""},getAssets(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssets"}).then((s=>{a.hide(),e.assets=s.data.data})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getDepartments(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssetRegisterDepartments",data:e.user_check}).then((s=>{a.hide(),e.departments=s.data})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getAssetChecks(){let e=this;e.asset_checks=[],e.user_check.asset_checks=[];let a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssetRegisterChecks",data:e.user_check}).then((s=>{if(a.hide(),s.data.data?.length){e.user_check.asset_checks=[];s.data.data.filter((function(a){e.user_check.asset_checks.push({check_id:a.check.check_id,default_value:a.check.default_value,field_name:a.check.field_name,field_type:a.check.field_type,field_value:a.check.field_value,is_required:a.check.is_required,field_values:a.check.field_values,lcl:a.check.lcl,order:a.check.order,status:a.check.status,ucl:a.check.ucl,value:"",asset_check_id:a.asset_check_id})}));console.log("user",e.user_check.asset_checks)}})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},addUserCheck(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"addUserCheck",data:e.user_check}).then((s=>{a.hide(),this.$store.dispatch("success",s.data.message),e.$router.push("/user_checks")})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},updateUserCheck(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"updateUserCheck",data:e.user_check}).then((s=>{a.hide(),this.$store.dispatch("success",s.data.message),e.$router.push("/user_checks")})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getAssetZones(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssetZones",data:e.user_check}).then((s=>{a.hide(),e.asset_zones=s.data.data})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},convertDateFormat(e){return j_()(e).format("yyyy-MM-DD")}}};const By=(0,Ce.c)(Ly,[["render",Oy]]);var My=By;const Zy={class:""},Hy={class:"d-sm-flex align-items-center justify-content-between mb-2"},Jy={class:"breadcrumb fs-sm mb-1"},Gy={class:"breadcrumb-item","aria-current":"page"},Xy={class:"breadcrumb-item active","aria-current":"page"},eg={class:"row"},ag={class:"col-12"},sg={class:"card card-one mb-3"},tg={class:"card-body p-0"},rg={class:"setting-item"},lg={class:"row g-2 mb-4"},ig={class:"col-md-4 mb-3"},og={class:"font"},ng={class:"col-md-4 mb-3"},dg={class:"font"},cg={class:"col-md-4 mb-3"},ug={class:"font"},pg={class:"col-md-4 mb-3"},mg={class:"font"},_g={class:"col-md-12 mt-1"},hg={class:"table-responsive table-responsive-sm"},bg={class:"table table-responsive table-striped table-responsive-sm table-sm text-nowrap table-bordered mb-0"},vg={class:"text-center"},yg={class:"row g-2"},gg=["href"],Dg=["src","href"];function Qg(e,a,s,t,l,i){const o=(0,r.E1)("router-link");return(0,r.Wz)(),(0,r.An)("div",Zy,[(0,r.QD)("div",Hy,[(0,r.QD)("div",null,[(0,r.QD)("ol",Jy,[(0,r.QD)("li",Gy,[(0,r.K2)(o,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[0]||(a[0]=[(0,r.mY)("Dashboard")]))),_:1})]),a[2]||(a[2]=(0,r.QD)("li",{class:"breadcrumb-item"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Registers")],-1)),(0,r.QD)("li",Xy,[(0,r.K2)(o,{to:"/user_checks"},{default:(0,r.Ql)((()=>a[1]||(a[1]=[(0,r.mY)("Check Registers")]))),_:1})]),a[3]||(a[3]=(0,r.QD)("li",{class:"breadcrumb-item","aria-current":"page"},"View",-1))]),a[4]||(a[4]=(0,r.QD)("h4",{class:"main-title mb-0"},"View Check Register",-1))]),(0,r.K2)(o,{to:"/user_checks",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.Ql)((()=>a[5]||(a[5]=[(0,r.QD)("i",{class:"ri-list-check"},null,-1),(0,r.mY)(" CHECK REGISTERS")]))),_:1})]),(0,r.QD)("div",eg,[(0,r.QD)("div",ag,[(0,r.QD)("div",sg,[a[13]||(a[13]=(0,r.QD)("div",{class:"card-header"},[(0,r.QD)("h5",{class:"card-title"},"Check Register"),(0,r.QD)("br")],-1)),(0,r.QD)("div",tg,[(0,r.QD)("div",rg,[(0,r.QD)("div",lg,[(0,r.QD)("div",ig,[a[6]||(a[6]=(0,r.QD)("h6",null,"Reference Number",-1)),(0,r.QD)("p",og,(0,d.WA)(l.user_check.reference_no),1)]),(0,r.QD)("div",ng,[a[7]||(a[7]=(0,r.QD)("h6",null,"Asset Code",-1)),(0,r.QD)("p",dg,(0,d.WA)(l.user_check?.asset?.asset_code),1)]),(0,r.QD)("div",cg,[a[8]||(a[8]=(0,r.QD)("h6",null,"Asset Zone",-1)),(0,r.QD)("p",ug,(0,d.WA)(l.user_check?.asset_zone?.zone_name),1)]),(0,r.QD)("div",pg,[a[9]||(a[9]=(0,r.QD)("h6",null,"Reference Date",-1)),(0,r.QD)("p",mg,(0,d.WA)(i.convertDateFormat(l.user_check.reference_date)),1)]),(0,r.QD)("div",_g,[a[11]||(a[11]=(0,r.QD)("h6",{class:"mb-2"},"Asset Checks :",-1)),(0,r.QD)("div",hg,[(0,r.QD)("table",bg,[a[10]||(a[10]=(0,r.QD)("thead",null,[(0,r.QD)("tr",null,[(0,r.QD)("th",{class:"text-center"},"#"),(0,r.QD)("th",{class:"text-left"},"Field name"),(0,r.QD)("th",null,"Field Type"),(0,r.QD)("th",null,"Default Value"),(0,r.QD)("th",null,"Is Required"),(0,r.QD)("th",null,"Field Values"),(0,r.QD)("th",null,"LCL"),(0,r.QD)("th",null,"UCL"),(0,r.QD)("th",null,"Value")])],-1)),(0,r.QD)("tbody",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(l.user_check.asset_checks,((e,a)=>((0,r.Wz)(),(0,r.An)("tr",{key:a},[(0,r.QD)("td",vg,(0,d.WA)(a+1),1),(0,r.QD)("td",null,(0,d.WA)(e.field_name),1),(0,r.QD)("td",null,(0,d.WA)(e.field_type),1),(0,r.QD)("td",null,(0,d.WA)(e.default_value),1),(0,r.QD)("td",null,(0,d.WA)(1==e.is_required?"Yes":"No"),1),(0,r.QD)("td",null,(0,d.WA)(e.field_values),1),(0,r.QD)("td",null,(0,d.WA)(e.lcl),1),(0,r.QD)("td",null,(0,d.WA)(e.ucl),1),(0,r.QD)("td",null,(0,d.WA)(e.value),1)])))),128))])])])])]),(0,r.QD)("div",yg,[a[12]||(a[12]=(0,r.QD)("h6",null,"Attachments :",-1)),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(l.user_check.user_attachments,((a,s)=>((0,r.Wz)(),(0,r.An)("div",{class:"col-2 mb-2 imageContainer",key:s},[(0,r.QD)("a",{href:e.$store.state.apiUrl+"downloadCheckAttachment?file_name="+a.file_name},[(0,r.QD)("img",{src:a.attachments,class:"img-fluid1",alt:"",href:a.attachments,style:{width:"120px",height:"120px"}},null,8,Dg)],8,gg)])))),128))])])])])])])])}var fg={name:"ViewAsset",data(){return{user_check:{user_check_id:"",asset_id:"",reference_no:"",reference_date:"",note:"",status:"",asset_checks:[]}}},beforeRouteEnter(e,a,s){s((a=>{a.user_check.user_check_id=e.params.user_check_id,a.getUserCheck()}))},methods:{getUserCheck(){let e=this,a=e.$loading.show(),s={uri:"getUserCheck",data:{user_check_id:e.user_check.user_check_id}};e.$store.dispatch("post",s).then((function(s){a.hide(),e.user_check=s.data.data})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},showImage(e){document.getElementById("image").style.display="block",document.getElementById("btnID").style.display="none"},downloadImage(e){let a=this;window.open(a.$store.state.apiUrl+"downloadCheckAttachment?file_name="+e)},downloadEngineeringDetail(){let e=this;e.errors=[],""==e.engineering.project_id&&(e.engineering.project_id=["The project field is required."]),""==e.engineering.to_date&&(e.engineering.to_date=["The To Date field is required."]),e.engineering.project_id&&e.engineering.to_date&&window.open(e.$store.getters.apiUrl+"downloadElectricalDetailReport?project_id="+e.engineering.project_id+"&to_date="+e.engineering.to_date+"&from_date="+e.engineering.from_date+"&isDownload=true")},convertDateFormat(e){return j_()(e).format("yyyy-MM-DD")}}};const kg=(0,Ce.c)(fg,[["render",Qg],["__scopeId","data-v-f24a0314"]]);var wg=kg;const Ag={class:""},Wg={class:"breadcrumb fs-sm mb-1"},zg={class:"breadcrumb-item"},xg={class:"row g-2"},Pg={class:"col-4"},Cg={class:"card card-one"},$g={class:"card-header d-flex justify-content-between"},Sg={key:0,class:"card-title"},Ug={key:1,class:"card-title"},Vg={class:"card-body"},jg={class:"row g-2"},Yg={class:"col-md-12"},Tg={key:0,class:"invalid-feedback"},Ng={class:"col-md-12"},Rg={key:0,class:"invalid-feedback"},qg={class:"card-footer text-end"},Eg={type:"submit",class:"btn btn-primary"},Kg={key:0},Ig={key:1},Fg={class:"card card-one"},Og={class:"card-body"},Lg={class:"table-responsive table-responsive-sm"},Bg={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},Mg={class:"",style:{"background-color":"#9b9b9b",color:"white"}},Zg={key:0,class:"ri-arrow-up-line"},Hg={key:1,class:"ri-arrow-down-line"},Jg={key:2,class:"fas fa-sort"},Gg={key:0,class:"ri-arrow-up-line"},Xg={key:1,class:"ri-arrow-down-line"},eD={key:2,class:"fas fa-sort"},aD={key:0},sD={class:"text-center"},tD={class:"text-center"},rD={class:"form-switch"},lD=["id","checked","value","onChange"],iD=["for"],oD={class:"text-center"},nD=["onClick"],dD={class:"card-footer"},cD={class:"d-flex justify-content-between align-items-center"};function uD(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("Pagination");return(0,r.Wz)(),(0,r.An)("div",Ag,[(0,r.QD)("div",null,[(0,r.QD)("ol",Wg,[(0,r.QD)("li",zg,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[10]||(a[10]=[(0,r.mY)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.QD)("li",{class:"breadcrumb-item"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Lineage Parameters")],-1)),a[12]||(a[12]=(0,r.QD)("li",{class:"breadcrumb-item active","aria-current":"page"},"Areas",-1))]),a[13]||(a[13]=(0,r.QD)("h4",{class:"main-title mb-2"},"Areas",-1))]),(0,r.QD)("div",xg,[(0,r.QD)("div",Pg,[(0,r.QD)("form",{onSubmit:a[3]||(a[3]=(0,t.Y7)((e=>o.submitForm()),["prevent"]))},[(0,r.QD)("div",Cg,[(0,r.QD)("div",$g,[i.status?((0,r.Wz)(),(0,r.An)("h6",Sg,"Add Area")):((0,r.Wz)(),(0,r.An)("h6",Ug,"Update Area"))]),(0,r.QD)("div",Vg,[(0,r.QD)("div",jg,[(0,r.QD)("div",Yg,[a[14]||(a[14]=(0,r.QD)("label",{class:"form-label"},"Area Code",-1)),a[15]||(a[15]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Area Code",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.area_code}]),"onUpdate:modelValue":a[0]||(a[0]=e=>i.area.area_code=e),ref:"area_code"},null,2),[[t.Og,i.area.area_code]]),i.errors.area_code?((0,r.Wz)(),(0,r.An)("span",Tg,(0,d.WA)(i.errors.area_code[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",Ng,[a[16]||(a[16]=(0,r.QD)("label",{class:"form-label"},"Area Name",-1)),a[17]||(a[17]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Enter Area name",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.area_name}]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.area.area_name=e)},null,2),[[t.Og,i.area.area_name]]),i.errors.area_name?((0,r.Wz)(),(0,r.An)("span",Rg,(0,d.WA)(i.errors.area_name[0]),1)):(0,r.g1)("",!0)])])]),(0,r.QD)("div",qg,[(0,r.QD)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[2]||(a[2]=e=>o.discard())},a[18]||(a[18]=[(0,r.QD)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.mY)(" Discard")])),(0,r.QD)("button",Eg,[i.status?((0,r.Wz)(),(0,r.An)("span",Kg,a[19]||(a[19]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Submit")]))):((0,r.Wz)(),(0,r.An)("span",Ig,a[20]||(a[20]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Update")])))])])])],32)]),(0,r.QD)("div",{class:(0,d.WN)(i.column)},[(0,r.QD)("div",Fg,[a[29]||(a[29]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Areas")],-1)),(0,r.QD)("div",Og,[(0,r.wt)((0,r.QD)("input",{class:"form-control mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[4]||(a[4]=e=>i.meta.search=e),onKeypress:a[5]||(a[5]=(0,t.jj)((e=>o.search()),["enter"]))},null,544),[[t.Og,i.meta.search]]),(0,r.QD)("div",Lg,[(0,r.QD)("table",Bg,[(0,r.QD)("thead",null,[(0,r.QD)("tr",Mg,[a[23]||(a[23]=(0,r.QD)("th",{class:"text-center"},"#",-1)),(0,r.QD)("th",{onClick:a[6]||(a[6]=e=>o.sort("area_code"))},[a[21]||(a[21]=(0,r.mY)("Area Code ")),(0,r.QD)("span",null,["area_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Zg)):"area_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Hg)):((0,r.Wz)(),(0,r.An)("i",Jg))])]),(0,r.QD)("th",{onClick:a[7]||(a[7]=e=>o.sort("area_name"))},[a[22]||(a[22]=(0,r.mY)("Area Name ")),(0,r.QD)("span",null,["area_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Gg)):"area_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Xg)):((0,r.Wz)(),(0,r.An)("i",eD))])]),a[24]||(a[24]=(0,r.QD)("th",{class:"text-center"},"Status",-1)),a[25]||(a[25]=(0,r.QD)("th",{class:"text-center"},"Actions",-1))])]),(0,r.QD)("tbody",null,[0==i.areas.length?((0,r.Wz)(),(0,r.An)("tr",aD,a[26]||(a[26]=[(0,r.QD)("td",{colspan:"6",class:"text-center"},"No records found",-1)]))):(0,r.g1)("",!0),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.areas,((e,s)=>((0,r.Wz)(),(0,r.An)("tr",{key:s},[(0,r.QD)("td",sD,(0,d.WA)(i.meta.from+s),1),(0,r.QD)("td",null,(0,d.WA)(e.area_code),1),(0,r.QD)("td",null,(0,d.WA)(e.area_name),1),(0,r.QD)("td",tD,[(0,r.QD)("div",rD,[(0,r.QD)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"area"+e.area_id,checked:e.status,value:e.status,onChange:a=>o.deleteArea(e)},null,40,lD),(0,r.QD)("label",{class:"custom-control-label",for:"area"+e.area_id},null,8,iD)])]),(0,r.QD)("td",oD,[e.status?((0,r.Wz)(),(0,r.An)("a",{key:0,href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editArea(e)},a[27]||(a[27]=[(0,r.QD)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,nD)):(0,r.g1)("",!0)])])))),128))])])])]),(0,r.QD)("div",dD,[(0,r.QD)("div",cD,[(0,r.wt)((0,r.QD)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.per_page=e),onChange:a[9]||(a[9]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[28]||(a[28]=[(0,r.QD)("option",null,"10",-1),(0,r.QD)("option",null,"15",-1),(0,r.QD)("option",null,"20",-1),(0,r.QD)("option",null,"25",-1),(0,r.QD)("option",null,"30",-1)]),544),[[t.Ip,i.meta.per_page]]),(0,r.QD)("span",null,"Showing "+(0,d.WA)(i.meta.from)+" to "+(0,d.WA)(i.meta.to)+" of "+(0,d.WA)(i.meta.totalRows)+" entries",1),(0,r.K2)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])],2)])])}var pD={components:{Pagination:Zt},data(){return{column:"col-8",meta:{search:"",order_by:"asc",keyword:"area_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},areas:[],area:{area_id:"",area_code:"",area_name:"",status:""},status:!0,errors:[]}},mounted(){this.index(),this.$refs.area_code.focus()},methods:{submitForm(){let e=this;e.status?e.addArea():e.updateArea()},index(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"paginateAreas",data:e.meta}).then((s=>{a.hide(),e.areas=s.data.data,e.meta.totalRows=s.data.meta.total,e.meta.from=s.data.meta.from,e.meta.lastPage=s.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},addArea(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"addArea",data:e.area}).then((e=>{a.hide(),this.$store.dispatch("success",e.data.message),this.discard()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},deleteArea(e){let a=this;e.status=1==e.status?0:1,a.$store.dispatch("post",{uri:"deleteArea",data:e}).then((function(e){a.$store.dispatch("success",e.data.message),a.discard()})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},editArea(e){this.area=e,this.status=!1,this.$refs.area_code.focus()},updateArea(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"updateArea",data:this.area}).then((e=>{a.hide(),this.$store.dispatch("success",e.data.message),this.discard()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},discard(){let e=this;e.area.area_code="",e.area.area_name="",e.$refs.area_code.focus(),e.errors=[],e.status=!0,e.index()},search(){let e=this;e.meta.page=1,e.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const mD=(0,Ce.c)(pD,[["render",uD]]);var _D=mD;const hD={class:""},bD={class:"breadcrumb fs-sm mb-1"},vD={class:"breadcrumb-item"},yD={class:"row g-2"},gD={class:"col-4"},DD={class:"card card-one"},QD={class:"card-header d-flex justify-content-between"},fD={key:0,class:"card-title"},kD={key:1,class:"card-title"},wD={class:"card-body"},AD={class:"row g-2"},WD={class:"col-md-12"},zD={key:0,class:"invalid-feedback"},xD={class:"col-md-12"},PD={key:0,class:"invalid-feedback"},CD={class:"col-md-12"},$D={key:0,class:"invalid-feedback"},SD={class:"col-md-12"},UD={key:0,class:"invalid-feedback"},VD={class:"col-md-12"},jD={key:0,class:"invalid-feedback"},YD={class:"col-md-12"},TD={key:0,class:"invalid-feedback"},ND={class:"card-footer text-end"},RD={type:"submit",class:"btn btn-primary"},qD={key:0},ED={key:1},KD={class:"card card-one"},ID={class:"card-body"},FD={class:"table-responsive table-responsive-sm"},OD={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},LD={class:"text-center",style:{"background-color":"#9b9b9b",color:"white"}},BD={key:0,class:"ri-arrow-up-line"},MD={key:1,class:"ri-arrow-down-line"},ZD={key:2,class:"fas fa-sort"},HD={key:0,class:"ri-arrow-up-line"},JD={key:1,class:"ri-arrow-down-line"},GD={key:2,class:"fas fa-sort"},XD={key:0,class:"ri-arrow-up-line"},eQ={key:1,class:"ri-arrow-down-line"},aQ={key:2,class:"fas fa-sort"},sQ={key:0,class:"ri-arrow-up-line"},tQ={key:1,class:"ri-arrow-down-line"},rQ={key:2,class:"fas fa-sort"},lQ={key:0,class:"ri-arrow-up-line"},iQ={key:1,class:"ri-arrow-down-line"},oQ={key:2,class:"fas fa-sort"},nQ={key:0,class:"ri-arrow-up-line"},dQ={key:1,class:"ri-arrow-down-line"},cQ={key:2,class:"fas fa-sort"},uQ={key:0},pQ={class:"text-center"},mQ={class:"text-center"},_Q={class:"form-switch"},hQ=["id","checked","value","onChange"],bQ=["for"],vQ={class:"text-center"},yQ=["onClick"],gQ={class:"card-footer"},DQ={class:"d-flex justify-content-between align-items-center"};function QQ(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("search"),u=(0,r.E1)("Pagination"),p=(0,r.iS)("can");return(0,r.Wz)(),(0,r.An)("div",hD,[(0,r.QD)("div",null,[(0,r.QD)("ol",bD,[(0,r.QD)("li",vD,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[18]||(a[18]=[(0,r.mY)("Dashboard")]))),_:1})]),a[19]||(a[19]=(0,r.QD)("li",{class:"breadcrumb-item"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Lineage Parameters")],-1)),a[20]||(a[20]=(0,r.QD)("li",{class:"breadcrumb-item active","aria-current":"page"},"Shops",-1))]),a[21]||(a[21]=(0,r.QD)("h4",{class:"main-title mb-2"},"Shops",-1))]),(0,r.QD)("div",yD,[(0,r.wt)(((0,r.Wz)(),(0,r.An)("div",gD,[(0,r.QD)("form",{onSubmit:a[7]||(a[7]=(0,t.Y7)((e=>o.submitForm()),["prevent"]))},[(0,r.QD)("div",DD,[(0,r.QD)("div",QD,[i.status?((0,r.Wz)(),(0,r.An)("h6",fD,"Add Shop")):((0,r.Wz)(),(0,r.An)("h6",kD,"Update Shop"))]),(0,r.QD)("div",wD,[(0,r.QD)("div",AD,[(0,r.QD)("div",WD,[a[22]||(a[22]=(0,r.QD)("label",{class:"form-label"},"Area",-1)),a[23]||(a[23]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.K2)(c,{class:(0,d.WN)({"is-invalid":i.errors.area_id}),customClass:{"is-invalid":i.errors.area_id},initialize:i.plant.area_id,id:"area_id",label:"area_name",placeholder:"Select Area",data:i.areas,onInput:a[0]||(a[0]=e=>i.plant.area_id=e)},null,8,["class","customClass","initialize","data"]),i.errors.area_id?((0,r.Wz)(),(0,r.An)("span",zD,(0,d.WA)(i.errors.area_id[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",xD,[a[24]||(a[24]=(0,r.QD)("label",{class:"form-label"},"Shop Code",-1)),a[25]||(a[25]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Enter Shop Code",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.plant_code}]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.plant.plant_code=e)},null,2),[[t.Og,i.plant.plant_code]]),i.errors.plant_code?((0,r.Wz)(),(0,r.An)("span",PD,(0,d.WA)(i.errors.plant_code[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",CD,[a[26]||(a[26]=(0,r.QD)("label",{class:"form-label"},"Shop Name",-1)),a[27]||(a[27]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Enter Shop Name",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.plant_name}]),"onUpdate:modelValue":a[2]||(a[2]=e=>i.plant.plant_name=e)},null,2),[[t.Og,i.plant.plant_name]]),i.errors.plant_name?((0,r.Wz)(),(0,r.An)("span",$D,(0,d.WA)(i.errors.plant_name[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",SD,[a[28]||(a[28]=(0,r.QD)("label",{class:"form-label"},"Latitude",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Enter Latitude",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.latitude}]),"onUpdate:modelValue":a[3]||(a[3]=e=>i.plant.latitude=e)},null,2),[[t.Og,i.plant.latitude]]),i.errors.latitude?((0,r.Wz)(),(0,r.An)("span",UD,(0,d.WA)(i.errors.latitude[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",VD,[a[29]||(a[29]=(0,r.QD)("label",{class:"form-label"},"Longitude",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Enter Longitude",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.longitude}]),"onUpdate:modelValue":a[4]||(a[4]=e=>i.plant.longitude=e)},null,2),[[t.Og,i.plant.longitude]]),i.errors.longitude?((0,r.Wz)(),(0,r.An)("span",jD,(0,d.WA)(i.errors.longitude[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",YD,[a[30]||(a[30]=(0,r.QD)("label",{class:"form-label"},"Radius",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Enter Radius",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.radius}]),"onUpdate:modelValue":a[5]||(a[5]=e=>i.plant.radius=e)},null,2),[[t.Og,i.plant.radius]]),i.errors.radius?((0,r.Wz)(),(0,r.An)("span",TD,(0,d.WA)(i.errors.radius[0]),1)):(0,r.g1)("",!0)])])]),(0,r.QD)("div",ND,[(0,r.QD)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[6]||(a[6]=e=>o.discard())},a[31]||(a[31]=[(0,r.QD)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.mY)(" Discard")])),(0,r.QD)("button",RD,[i.status?((0,r.Wz)(),(0,r.An)("span",qD,a[32]||(a[32]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Submit")]))):((0,r.Wz)(),(0,r.An)("span",ED,a[33]||(a[33]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Update")])))])])])],32)])),[[p,"plants.create"]]),(0,r.QD)("div",{class:(0,d.WN)(i.column)},[(0,r.QD)("div",KD,[a[46]||(a[46]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Shops")],-1)),(0,r.QD)("div",ID,[(0,r.wt)((0,r.QD)("input",{class:"form-control mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.search=e),onKeypress:a[9]||(a[9]=(0,t.jj)((e=>o.search()),["enter"]))},null,544),[[t.Og,i.meta.search]]),(0,r.QD)("div",FD,[(0,r.QD)("table",OD,[(0,r.QD)("thead",null,[(0,r.QD)("tr",LD,[a[42]||(a[42]=(0,r.QD)("th",null,"#",-1)),(0,r.QD)("th",{onClick:a[10]||(a[10]=e=>o.sort("area_id"))},[a[34]||(a[34]=(0,r.mY)(" Area ")),(0,r.QD)("span",null,["area_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",BD)):"area_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",MD)):((0,r.Wz)(),(0,r.An)("i",ZD))])]),(0,r.QD)("th",{onClick:a[11]||(a[11]=e=>o.sort("plant_code"))},[a[35]||(a[35]=(0,r.mY)("Shop Code ")),(0,r.QD)("span",null,["plant_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",HD)):"plant_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",JD)):((0,r.Wz)(),(0,r.An)("i",GD))])]),(0,r.QD)("th",{onClick:a[12]||(a[12]=e=>o.sort("plant_name"))},[a[36]||(a[36]=(0,r.mY)("Shop Name ")),(0,r.QD)("span",null,["plant_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",XD)):"plant_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",eQ)):((0,r.Wz)(),(0,r.An)("i",aQ))])]),(0,r.QD)("th",{onClick:a[13]||(a[13]=e=>o.sort("plant_name"))},[a[37]||(a[37]=(0,r.mY)("Latitude ")),(0,r.QD)("span",null,["latitude"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",sQ)):"latitude"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",tQ)):((0,r.Wz)(),(0,r.An)("i",rQ))])]),(0,r.QD)("th",{onClick:a[14]||(a[14]=e=>o.sort("plant_name"))},[a[38]||(a[38]=(0,r.mY)("Longitude ")),(0,r.QD)("span",null,["longitude"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",lQ)):"longitude"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",iQ)):((0,r.Wz)(),(0,r.An)("i",oQ))])]),(0,r.QD)("th",{onClick:a[15]||(a[15]=e=>o.sort("plant_name"))},[a[39]||(a[39]=(0,r.mY)("Radius ")),(0,r.QD)("span",null,["radius"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",nQ)):"radius"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",dQ)):((0,r.Wz)(),(0,r.An)("i",cQ))])]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("th",null,a[40]||(a[40]=[(0,r.mY)("Status")]))),[[p,"plants.delete"]]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("th",null,a[41]||(a[41]=[(0,r.mY)("Actions")]))),[[p,"plants.update"]])])]),(0,r.QD)("tbody",null,[0==i.plants.length?((0,r.Wz)(),(0,r.An)("tr",uQ,a[43]||(a[43]=[(0,r.QD)("td",{colspan:"9",class:"text-center"},"No records found",-1)]))):(0,r.g1)("",!0),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.plants,((e,s)=>((0,r.Wz)(),(0,r.An)("tr",{key:s},[(0,r.QD)("td",pQ,(0,d.WA)(i.meta.from+s),1),(0,r.QD)("td",null,(0,d.WA)(e.Area.area_name),1),(0,r.QD)("td",null,(0,d.WA)(e.plant_code),1),(0,r.QD)("td",null,(0,d.WA)(e.plant_name),1),(0,r.QD)("td",null,(0,d.WA)(e.latitude),1),(0,r.QD)("td",null,(0,d.WA)(e.longitude),1),(0,r.QD)("td",null,(0,d.WA)(e.radius),1),(0,r.wt)(((0,r.Wz)(),(0,r.An)("td",mQ,[(0,r.QD)("div",_Q,[(0,r.QD)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"plant"+e.plant_id,checked:e.status,value:e.status,onChange:a=>o.deletePlant(e)},null,40,hQ),(0,r.QD)("label",{class:"custom-control-label",for:"plant"+e.plant_id},null,8,bQ)])])),[[p,"plants.delete"]]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("td",vQ,[e.status?((0,r.Wz)(),(0,r.An)("a",{key:0,href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editPlant(e)},a[44]||(a[44]=[(0,r.QD)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,yQ)):(0,r.g1)("",!0)])),[[p,"plants.update"]])])))),128))])])])]),(0,r.QD)("div",gQ,[(0,r.QD)("div",DQ,[(0,r.wt)((0,r.QD)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[16]||(a[16]=e=>i.meta.per_page=e),onChange:a[17]||(a[17]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[45]||(a[45]=[(0,r.QD)("option",null,"10",-1),(0,r.QD)("option",null,"15",-1),(0,r.QD)("option",null,"20",-1),(0,r.QD)("option",null,"25",-1),(0,r.QD)("option",null,"30",-1)]),544),[[t.Ip,i.meta.per_page]]),(0,r.QD)("span",null,"Showing "+(0,d.WA)(i.meta.from)+" to "+(0,d.WA)(i.meta.to)+" of "+(0,d.WA)(i.meta.totalRows)+" entries",1),(0,r.K2)(u,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])],2)])])}var fQ={components:{Pagination:Zt,Search:Gr.c},data(){return{meta:{search:"",order_by:"asc",keyword:"plant_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,maxPage:1},plants:[],plant:{plant_id:"",area_id:"",plant_code:"",plant_name:"",latitude:"",longitude:"",radius:"",status:""},errors:[],status:!0,areas:[],column:"col-8"}},mounted(){this.create_plant=this.$store.getters.permissions.filter((function(e){return e.ability.ability.includes("plants.create")})),this.create_plant.length?this.column="col-8":this.column="col-12",this.index(),this.getAreas()},methods:{submitForm(){let e=this;e.status?e.addPlant():e.updatePlant()},index(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"paginatePlants",data:e.meta}).then((s=>{a.hide(),this.plants=s.data.data,this.meta.totalRows=s.data.meta.total,this.meta.from=s.data.meta.from,this.meta.lastPage=s.data.meta.last_page,this.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},addPlant(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"addPlant",data:this.plant}).then((e=>{a.hide(),this.$store.dispatch("success",e.data.message),this.discard()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},deletePlant(e){let a=this;e.status=1==e.status?0:1,a.$store.dispatch("post",{uri:"deletePlant",data:e}).then((function(e){a.$store.dispatch("success",e.data.message),a.discard()})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},editPlant(e){this.plant=e,this.status=!1},updatePlant(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"updatePlant",data:this.plant}).then((e=>{a.hide(),this.$store.dispatch("success",e.data.message),this.discard()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getAreas(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAreas"}).then((s=>{a.hide(),e.areas=s.data.data})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},discard(){let e=this;e.plant.area_id="",e.plant.plant_code="",e.plant.plant_name="",e.plant.latitude="",e.plant.longitude="",e.plant.radius="",e.errors=[],e.status=!0,e.index()},search(){let e=this;e.meta.page=1,e.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const kQ=(0,Ce.c)(fQ,[["render",QQ]]);var wQ=kQ;const AQ={class:""},WQ={class:"breadcrumb fs-sm mb-1"},zQ={class:"breadcrumb-item"},xQ={class:"row g-2"},PQ={class:"col-4"},CQ={class:"card card-one"},$Q={class:"card-header d-flex justify-content-between"},SQ={key:0,class:"card-title"},UQ={key:1,class:"card-title"},VQ={class:"card-body"},jQ={class:"row g-2"},YQ={class:"col-md-12"},TQ={key:0,class:"invalid-feedback"},NQ={class:"col-md-12"},RQ={key:0,class:"invalid-feedback"},qQ={class:"card-footer text-end"},EQ={type:"submit",class:"btn btn-primary"},KQ={key:0},IQ={key:1},FQ={class:"card card-one"},OQ={class:"card-body mb-3"},LQ={class:"table-responsive table-responsive-sm"},BQ={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},MQ={class:"",style:{"background-color":"#9b9b9b",color:"white"}},ZQ={key:0,class:"ri-arrow-up-line"},HQ={key:1,class:"ri-arrow-down-line"},JQ={key:2,class:"fas fa-sort"},GQ={key:0,class:"ri-arrow-up-line"},XQ={key:1,class:"ri-arrow-down-line"},ef={key:2,class:"fas fa-sort"},af={class:"text-center"},sf={class:"text-center"},tf={class:"text-center"},rf={style:{display:"flex","justify-content":"center"}},lf={class:"form-check form-switch"},of=["checked","value","onChange"],nf={class:"text-center"},df=["onClick"],cf={key:1,style:{display:"inline","margin-right":"20px"}},uf={key:0},pf={class:"card-footer"},mf={class:"d-flex justify-content-between align-items-center"};function _f(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("Pagination"),u=(0,r.iS)("can");return(0,r.Wz)(),(0,r.An)("div",AQ,[(0,r.QD)("div",null,[(0,r.QD)("ol",WQ,[(0,r.QD)("li",zQ,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[10]||(a[10]=[(0,r.mY)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.QD)("li",{class:"breadcrumb-item"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Lineage Parameters")],-1)),a[12]||(a[12]=(0,r.QD)("li",{class:"breadcrumb-item active","aria-current":"page"},"Sections",-1))]),a[13]||(a[13]=(0,r.QD)("h4",{class:"main-title mb-2"},"Sections",-1))]),(0,r.QD)("div",xQ,[(0,r.wt)(((0,r.Wz)(),(0,r.An)("div",PQ,[(0,r.QD)("form",{onSubmit:a[3]||(a[3]=(0,t.Y7)((e=>o.submitForm()),["prevent"]))},[(0,r.QD)("div",CQ,[(0,r.QD)("div",$Q,[i.status?((0,r.Wz)(),(0,r.An)("h6",SQ,"Add Section")):((0,r.Wz)(),(0,r.An)("h6",UQ,"Update Section"))]),(0,r.QD)("div",VQ,[(0,r.QD)("div",jQ,[(0,r.QD)("div",YQ,[a[14]||(a[14]=(0,r.QD)("label",{class:"form-label"},"Section Code",-1)),a[15]||(a[15]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Section Code",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.section_code}]),"onUpdate:modelValue":a[0]||(a[0]=e=>i.section.section_code=e),ref:"section_code"},null,2),[[t.Og,i.section.section_code]]),i.errors.section_code?((0,r.Wz)(),(0,r.An)("span",TQ,(0,d.WA)(i.errors.section_code[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",NQ,[a[16]||(a[16]=(0,r.QD)("label",{class:"form-label"},"Section Name",-1)),a[17]||(a[17]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Section",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.section_name}]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.section.section_name=e)},null,2),[[t.Og,i.section.section_name]]),i.errors.section_name?((0,r.Wz)(),(0,r.An)("span",RQ,(0,d.WA)(i.errors.section_name[0]),1)):(0,r.g1)("",!0)])])]),(0,r.QD)("div",qQ,[(0,r.QD)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[2]||(a[2]=e=>o.discard())},a[18]||(a[18]=[(0,r.QD)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.mY)(" Discard")])),(0,r.QD)("button",EQ,[i.status?((0,r.Wz)(),(0,r.An)("span",KQ,a[19]||(a[19]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Submit")]))):((0,r.Wz)(),(0,r.An)("span",IQ,a[20]||(a[20]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Update")])))])])])],32)])),[[u,"sections.create"]]),(0,r.QD)("div",{class:(0,d.WN)(i.column)},[(0,r.QD)("div",FQ,[a[29]||(a[29]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Sections")],-1)),(0,r.QD)("div",OQ,[(0,r.wt)((0,r.QD)("input",{class:"form-control mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[4]||(a[4]=e=>i.meta.search=e),onKeypress:a[5]||(a[5]=(0,t.jj)((e=>o.search()),["enter"]))},null,544),[[t.Og,i.meta.search]]),(0,r.QD)("div",LQ,[(0,r.QD)("table",BQ,[(0,r.QD)("thead",null,[(0,r.QD)("tr",MQ,[a[25]||(a[25]=(0,r.QD)("th",{class:"text-center"},"#",-1)),(0,r.QD)("th",{onClick:a[6]||(a[6]=e=>o.sort("section_code"))},[a[21]||(a[21]=(0,r.mY)("Section Code ")),(0,r.QD)("span",null,["section_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",ZQ)):"section_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",HQ)):((0,r.Wz)(),(0,r.An)("i",JQ))])]),(0,r.QD)("th",{onClick:a[7]||(a[7]=e=>o.sort("section_name"))},[a[22]||(a[22]=(0,r.mY)("Section Name ")),(0,r.QD)("span",null,["section_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",GQ)):"section_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",XQ)):((0,r.Wz)(),(0,r.An)("i",ef))])]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("th",af,a[23]||(a[23]=[(0,r.mY)("Status")]))),[[u,"sections.delete"]]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("th",sf,a[24]||(a[24]=[(0,r.mY)("Actions")]))),[[u,"sections.update"]])])]),(0,r.QD)("tbody",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.sections,((e,s)=>((0,r.Wz)(),(0,r.An)("tr",{key:s},[(0,r.QD)("td",tf,(0,d.WA)(i.meta.from+s),1),(0,r.QD)("td",null,(0,d.WA)(e.section_code),1),(0,r.QD)("td",null,(0,d.WA)(e.section_name),1),(0,r.wt)(((0,r.Wz)(),(0,r.An)("td",rf,[(0,r.QD)("div",lf,[(0,r.QD)("input",{class:"form-check-input",type:"checkbox",role:"switch",checked:e.status,value:e.status,onChange:a=>o.deleteSection(e)},null,40,of)])])),[[u,"sections.delete"]]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("td",nf,[e.status?((0,r.Wz)(),(0,r.An)("a",{key:0,href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editSection(e)},a[26]||(a[26]=[(0,r.QD)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,df)):((0,r.Wz)(),(0,r.An)("div",cf,"Â "))])),[[u,"sections.update"]])])))),128)),0==i.sections.length?((0,r.Wz)(),(0,r.An)("tr",uf,a[27]||(a[27]=[(0,r.QD)("td",{colspan:"5",class:"text-warning text-center"},"No Records to display!",-1)]))):(0,r.g1)("",!0)])])])]),(0,r.QD)("div",pf,[(0,r.QD)("div",mf,[(0,r.wt)((0,r.QD)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.per_page=e),onChange:a[9]||(a[9]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[28]||(a[28]=[(0,r.QD)("option",null,"10",-1),(0,r.QD)("option",null,"15",-1),(0,r.QD)("option",null,"20",-1),(0,r.QD)("option",null,"25",-1),(0,r.QD)("option",null,"30",-1)]),544),[[t.Ip,i.meta.per_page]]),(0,r.QD)("span",null,"Showing "+(0,d.WA)(i.meta.from)+" to "+(0,d.WA)(i.meta.to)+" of "+(0,d.WA)(i.meta.totalRows)+" entries",1),(0,r.K2)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])],2)])])}var hf={components:{Pagination:Zt},data(){return{meta:{search:"",order_by:"asc",keyword:"section_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,maxPage:1},sections:[],section:{section_id:"",section_code:"",section:"",status:"",description:""},errors:[],column:"col-8",status:!0}},mounted(){this.create_section=this.$store.getters.permissions.filter((function(e){return e.ability.ability.includes("sections.create")})),this.create_section.length?this.column="col-8":this.column="col-12",this.index(),this.$refs.section_code.focus()},methods:{submitForm(){let e=this;e.status?e.addSection():e.updateSection()},index(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"paginateSections",data:e.meta}).then((s=>{a.hide(),e.sections=s.data.data,e.meta.totalRows=s.data.meta.total,e.meta.from=s.data.meta.from,e.meta.lastPage=s.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},addSection(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"addSection",data:e.section}).then((s=>{a.hide(),e.$store.dispatch("success",s.data.message),e.discard()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},deleteSection(e){let a=this;e.status=1==e.status?0:1,a.$store.dispatch("post",{uri:"deleteSection",data:e}).then((function(e){a.$store.dispatch("success",e.data.message),a.discard()})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},editSection(e){this.section=e,this.status=!1,this.$refs.section_code.focus()},updateSection(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"updateSection",data:this.section}).then((e=>{a.hide(),this.update=!1,this.$store.dispatch("success",e.data.message),this.discard()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},discard(){let e=this;e.section={},e.$refs.section_code.focus(),e.errors=[],e.status=!0,e.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()},search(){let e=this;e.meta.page=1,e.index()}}};const bf=(0,Ce.c)(hf,[["render",_f]]);var vf=bf;const yf={class:""},gf={class:"breadcrumb fs-sm mb-1"},Df={class:"breadcrumb-item"},Qf={class:"row g-2"},ff={class:"col-4"},kf={class:"card card-one"},wf={class:"card-header d-flex justify-content-between"},Af={key:0,class:"card-title"},Wf={key:1,class:"card-title"},zf={class:"card-body"},xf={class:"row g-2"},Pf={class:"col-md-12"},Cf={key:0,class:"invalid-feedback"},$f={class:"col-md-12"},Sf={key:0,class:"invalid-feedback"},Uf={class:"card-footer text-end"},Vf={type:"submit",class:"btn btn-primary"},jf={key:0},Yf={key:1},Tf={class:"card card-one"},Nf={class:"card-body"},Rf={class:"table-responsive table-responsive-sm"},qf={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},Ef={class:"text-center",style:{"background-color":"#9b9b9b",color:"white"}},Kf={key:0,class:"ri-arrow-up-line"},If={key:1,class:"ri-arrow-down-line"},Ff={key:2,class:"fas fa-sort"},Of={key:0,class:"ri-arrow-up-line"},Lf={key:1,class:"ri-arrow-down-line"},Bf={key:2,class:"fas fa-sort"},Mf={key:0},Zf={class:"text-center"},Hf={class:"text-center"},Jf={class:"form-switch"},Gf=["id","checked","value","onChange"],Xf=["for"],ek={class:"text-center"},ak=["onClick"],sk={class:"card-footer"},tk={class:"d-flex justify-content-between align-items-center"};function rk(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("Pagination");return(0,r.Wz)(),(0,r.An)("div",yf,[(0,r.QD)("div",null,[(0,r.QD)("ol",gf,[(0,r.QD)("li",Df,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[10]||(a[10]=[(0,r.mY)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.QD)("li",{class:"breadcrumb-item"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Lineage Parameters")],-1)),a[12]||(a[12]=(0,r.QD)("li",{class:"breadcrumb-item active","aria-current":"page"},"Frequencies",-1))]),a[13]||(a[13]=(0,r.QD)("h4",{class:"main-title mb-2"},"Frequencies",-1))]),(0,r.QD)("div",Qf,[(0,r.QD)("div",ff,[(0,r.QD)("form",{onSubmit:a[3]||(a[3]=(0,t.Y7)((e=>o.submitForm()),["prevent"]))},[(0,r.QD)("div",kf,[(0,r.QD)("div",wf,[i.status?((0,r.Wz)(),(0,r.An)("h6",Af,"Add Frequency")):((0,r.Wz)(),(0,r.An)("h6",Wf,"Update Frequency"))]),(0,r.QD)("div",zf,[(0,r.QD)("div",xf,[(0,r.QD)("div",Pf,[a[14]||(a[14]=(0,r.QD)("label",{class:"form-label"},"Frequency Code",-1)),a[15]||(a[15]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Enter Frequency Code",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.frequency_code}]),ref:"frequency_code","onUpdate:modelValue":a[0]||(a[0]=e=>i.frequency.frequency_code=e)},null,2),[[t.Og,i.frequency.frequency_code]]),i.errors.frequency_code?((0,r.Wz)(),(0,r.An)("span",Cf,(0,d.WA)(i.errors.frequency_code[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",$f,[a[16]||(a[16]=(0,r.QD)("label",{class:"form-label"},"Frequency Name",-1)),a[17]||(a[17]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Enter Frequency name",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.frequency_name}]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.frequency.frequency_name=e)},null,2),[[t.Og,i.frequency.frequency_name]]),i.errors.frequency_name?((0,r.Wz)(),(0,r.An)("span",Sf,(0,d.WA)(i.errors.frequency_name[0]),1)):(0,r.g1)("",!0)])])]),(0,r.QD)("div",Uf,[(0,r.QD)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[2]||(a[2]=e=>o.discard())},a[18]||(a[18]=[(0,r.QD)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.mY)(" Discard")])),(0,r.QD)("button",Vf,[i.status?((0,r.Wz)(),(0,r.An)("span",jf,a[19]||(a[19]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Submit")]))):((0,r.Wz)(),(0,r.An)("span",Yf,a[20]||(a[20]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Update")])))])])])],32)]),(0,r.QD)("div",{class:(0,d.WN)(i.column)},[(0,r.QD)("div",Tf,[a[29]||(a[29]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Frequencies")],-1)),(0,r.QD)("div",Nf,[(0,r.wt)((0,r.QD)("input",{class:"form-control mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[4]||(a[4]=e=>i.meta.search=e),onKeypress:a[5]||(a[5]=(0,t.jj)((e=>o.search()),["enter"]))},null,544),[[t.Og,i.meta.search]]),(0,r.QD)("div",Rf,[(0,r.QD)("table",qf,[(0,r.QD)("thead",null,[(0,r.QD)("tr",Ef,[a[23]||(a[23]=(0,r.QD)("th",null,"#",-1)),(0,r.QD)("th",{onClick:a[6]||(a[6]=e=>o.sort("frequency_code"))},[a[21]||(a[21]=(0,r.mY)("Frequency Code ")),(0,r.QD)("span",null,["frequency_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Kf)):"frequency_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",If)):((0,r.Wz)(),(0,r.An)("i",Ff))])]),(0,r.QD)("th",{onClick:a[7]||(a[7]=e=>o.sort("frequency_name"))},[a[22]||(a[22]=(0,r.mY)("Frequency Name ")),(0,r.QD)("span",null,["frequency_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Of)):"frequency_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Lf)):((0,r.Wz)(),(0,r.An)("i",Bf))])]),a[24]||(a[24]=(0,r.QD)("th",null,"Status",-1)),a[25]||(a[25]=(0,r.QD)("th",null,"Actions",-1))])]),(0,r.QD)("tbody",null,[0==i.frequencies.length?((0,r.Wz)(),(0,r.An)("tr",Mf,a[26]||(a[26]=[(0,r.QD)("td",{colspan:"6",class:"text-center"},"No records found",-1)]))):(0,r.g1)("",!0),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.frequencies,((e,s)=>((0,r.Wz)(),(0,r.An)("tr",{key:s},[(0,r.QD)("td",Zf,(0,d.WA)(i.meta.from+s),1),(0,r.QD)("td",null,(0,d.WA)(e.frequency_code),1),(0,r.QD)("td",null,(0,d.WA)(e.frequency_name),1),(0,r.QD)("td",Hf,[(0,r.QD)("div",Jf,[(0,r.QD)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"frequency"+e.frequency_id,checked:e.status,value:e.status,onChange:a=>o.deleteFrequency(e)},null,40,Gf),(0,r.QD)("label",{class:"custom-control-label",for:"frequency"+e.frequency_id},null,8,Xf)])]),(0,r.QD)("td",ek,[e.status?((0,r.Wz)(),(0,r.An)("a",{key:0,href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editFrequency(e)},a[27]||(a[27]=[(0,r.QD)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,ak)):(0,r.g1)("",!0)])])))),128))])])])]),(0,r.QD)("div",sk,[(0,r.QD)("div",tk,[(0,r.wt)((0,r.QD)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.per_page=e),onChange:a[9]||(a[9]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[28]||(a[28]=[(0,r.QD)("option",null,"10",-1),(0,r.QD)("option",null,"15",-1),(0,r.QD)("option",null,"20",-1),(0,r.QD)("option",null,"25",-1),(0,r.QD)("option",null,"30",-1)]),544),[[t.Ip,i.meta.per_page]]),(0,r.QD)("span",null,"Showing "+(0,d.WA)(i.meta.from)+" to "+(0,d.WA)(i.meta.to)+" of "+(0,d.WA)(i.meta.totalRows)+" entries",1),(0,r.K2)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])],2)])])}var lk={components:{Pagination:Zt,Search:Gr.c},data(){return{meta:{search:"",order_by:"asc",keyword:"frequency_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,maxPage:1},frequencies:[],frequency:{frequency_id:"",frequency_code:"",frequency_name:"",status:""},errors:[],status:!0,column:"col-8"}},mounted(){this.index(),this.getFrequencies()},methods:{submitForm(){let e=this;e.status?e.addFrequency():e.updateFrequency()},index(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"paginateFrequencies",data:e.meta}).then((s=>{a.hide(),e.frequencies=s.data.data,e.meta.totalRows=s.data.meta.total,e.meta.from=s.data.meta.from,e.meta.lastPage=s.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},addFrequency(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"addFrequency",data:e.frequency}).then((s=>{a.hide(),e.$store.dispatch("success",s.data.message),e.discard()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},deleteFrequency(e){let a=this;e.status=1==e.status?0:1,a.$store.dispatch("post",{uri:"deleteFrequency",data:e}).then((function(e){a.$store.dispatch("success",e.data.message),a.discard()})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},editFrequency(e){this.frequency=e,this.status=!1},updateFrequency(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"updateFrequency",data:e.frequency}).then((s=>{a.hide(),e.$store.dispatch("success",s.data.message),e.discard()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getFrequencies(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getFrequencies"}).then((s=>{a.hide(),e.frequencies=s.data.data})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},discard(){let e=this;e.frequency.frequency_code="",e.frequency.frequency_name="",e.$refs.frequency_code.focus(),e.errors=[],e.status=!0,e.index()},search(){let e=this;e.meta.page=1,e.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const ik=(0,Ce.c)(lk,[["render",rk]]);var ok=ik;const nk={class:""},dk={class:"breadcrumb fs-sm mb-1"},ck={class:"breadcrumb-item"},uk={class:"row g-2"},pk={class:"col-4"},mk={class:"card card-one"},_k={class:"card-header d-flex justify-content-between"},hk={key:0,class:"card-title"},bk={key:1,class:"card-title"},vk={class:"card-body"},yk={class:"row g-2"},gk={class:"col-md-12"},Dk={key:0,class:"invalid-feedback"},Qk={class:"col-md-12"},fk={key:0,class:"invalid-feedback"},kk={class:"card-footer text-end"},wk={type:"submit",class:"btn btn-primary"},Ak={key:0},Wk={key:1},zk={class:"card card-one"},xk={class:"card-body"},Pk={class:"table-responsive table-responsive-sm"},Ck={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},$k={class:"text-center",style:{"background-color":"#9b9b9b",color:"white"}},Sk={key:0,class:"ri-arrow-up-line"},Uk={key:1,class:"ri-arrow-down-line"},Vk={key:2,class:"fas fa-sort"},jk={key:0,class:"ri-arrow-up-line"},Yk={key:1,class:"ri-arrow-down-line"},Tk={key:2,class:"fas fa-sort"},Nk={key:0},Rk={class:"text-center"},qk={class:"text-center"},Ek={class:"form-switch"},Kk=["id","checked","value","onChange"],Ik=["for"],Fk={class:"text-center"},Ok=["onClick"],Lk={class:"card-footer"},Bk={class:"d-flex justify-content-between align-items-center"};function Mk(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("Pagination");return(0,r.Wz)(),(0,r.An)("div",nk,[(0,r.QD)("div",null,[(0,r.QD)("ol",dk,[(0,r.QD)("li",ck,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[10]||(a[10]=[(0,r.mY)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.QD)("li",{class:"breadcrumb-item"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Lineage Parameters")],-1)),a[12]||(a[12]=(0,r.QD)("li",{class:"breadcrumb-item active","aria-current":"page"},"Departments",-1))]),a[13]||(a[13]=(0,r.QD)("h4",{class:"main-title mb-2"},"Departments",-1))]),(0,r.QD)("div",uk,[(0,r.QD)("div",pk,[(0,r.QD)("form",{onSubmit:a[3]||(a[3]=(0,t.Y7)((e=>o.submitForm()),["prevent"]))},[(0,r.QD)("div",mk,[(0,r.QD)("div",_k,[i.status?((0,r.Wz)(),(0,r.An)("h6",hk,"Add Department")):((0,r.Wz)(),(0,r.An)("h6",bk,"Update Departments"))]),(0,r.QD)("div",vk,[(0,r.QD)("div",yk,[(0,r.QD)("div",gk,[a[14]||(a[14]=(0,r.QD)("label",{class:"form-label"},"Department Code",-1)),a[15]||(a[15]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Enter Department Code",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.department_code}]),ref:"department_code","onUpdate:modelValue":a[0]||(a[0]=e=>i.department.department_code=e)},null,2),[[t.Og,i.department.department_code]]),i.errors.department_code?((0,r.Wz)(),(0,r.An)("span",Dk,(0,d.WA)(i.errors.department_code[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",Qk,[a[16]||(a[16]=(0,r.QD)("label",{class:"form-label"},"Department Name",-1)),a[17]||(a[17]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Enter Department name",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.department_name}]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.department.department_name=e)},null,2),[[t.Og,i.department.department_name]]),i.errors.department_name?((0,r.Wz)(),(0,r.An)("span",fk,(0,d.WA)(i.errors.department_name[0]),1)):(0,r.g1)("",!0)])])]),(0,r.QD)("div",kk,[(0,r.QD)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[2]||(a[2]=e=>o.discard())},a[18]||(a[18]=[(0,r.QD)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.mY)(" Discard")])),(0,r.QD)("button",wk,[i.status?((0,r.Wz)(),(0,r.An)("span",Ak,a[19]||(a[19]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Submit")]))):((0,r.Wz)(),(0,r.An)("span",Wk,a[20]||(a[20]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Update")])))])])])],32)]),(0,r.QD)("div",{class:(0,d.WN)(i.column)},[(0,r.QD)("div",zk,[a[29]||(a[29]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Departments")],-1)),(0,r.QD)("div",xk,[(0,r.wt)((0,r.QD)("input",{class:"form-control mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[4]||(a[4]=e=>i.meta.search=e),onKeypress:a[5]||(a[5]=(0,t.jj)((e=>o.search()),["enter"]))},null,544),[[t.Og,i.meta.search]]),(0,r.QD)("div",Pk,[(0,r.QD)("table",Ck,[(0,r.QD)("thead",null,[(0,r.QD)("tr",$k,[a[23]||(a[23]=(0,r.QD)("th",null,"#",-1)),(0,r.QD)("th",{onClick:a[6]||(a[6]=e=>o.sort("department_code"))},[a[21]||(a[21]=(0,r.mY)("Department Code ")),(0,r.QD)("span",null,["department_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Sk)):"department_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Uk)):((0,r.Wz)(),(0,r.An)("i",Vk))])]),(0,r.QD)("th",{onClick:a[7]||(a[7]=e=>o.sort("department_name"))},[a[22]||(a[22]=(0,r.mY)("Department Name ")),(0,r.QD)("span",null,["department_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",jk)):"department_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Yk)):((0,r.Wz)(),(0,r.An)("i",Tk))])]),a[24]||(a[24]=(0,r.QD)("th",null,"Status",-1)),a[25]||(a[25]=(0,r.QD)("th",null,"Actions",-1))])]),(0,r.QD)("tbody",null,[0==i.departments.length?((0,r.Wz)(),(0,r.An)("tr",Nk,a[26]||(a[26]=[(0,r.QD)("td",{colspan:"6",class:"text-center"},"No records found",-1)]))):(0,r.g1)("",!0),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.departments,((e,s)=>((0,r.Wz)(),(0,r.An)("tr",{key:s},[(0,r.QD)("td",Rk,(0,d.WA)(i.meta.from+s),1),(0,r.QD)("td",null,(0,d.WA)(e.department_code),1),(0,r.QD)("td",null,(0,d.WA)(e.department_name),1),(0,r.QD)("td",qk,[(0,r.QD)("div",Ek,[(0,r.QD)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"department"+e.department_id,checked:e.status,value:e.status,onChange:a=>o.deleteDepartment(e)},null,40,Kk),(0,r.QD)("label",{class:"custom-control-label",for:"department"+e.department_id},null,8,Ik)])]),(0,r.QD)("td",Fk,[e.status?((0,r.Wz)(),(0,r.An)("a",{key:0,href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editDepartment(e)},a[27]||(a[27]=[(0,r.QD)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,Ok)):(0,r.g1)("",!0)])])))),128))])])])]),(0,r.QD)("div",Lk,[(0,r.QD)("div",Bk,[(0,r.wt)((0,r.QD)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.per_page=e),onChange:a[9]||(a[9]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[28]||(a[28]=[(0,r.QD)("option",null,"10",-1),(0,r.QD)("option",null,"15",-1),(0,r.QD)("option",null,"20",-1),(0,r.QD)("option",null,"25",-1),(0,r.QD)("option",null,"30",-1)]),544),[[t.Ip,i.meta.per_page]]),(0,r.QD)("span",null,"Showing "+(0,d.WA)(i.meta.from)+" to "+(0,d.WA)(i.meta.to)+" of "+(0,d.WA)(i.meta.totalRows)+" entries",1),(0,r.K2)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])],2)])])}var Zk={components:{Pagination:Zt,Search:Gr.c},data(){return{meta:{search:"",order_by:"asc",keyword:"department_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,maxPage:1},departments:[],department:{department_id:"",department_code:"",department_name:"",status:""},errors:[],status:!0,column:"col-8"}},mounted(){this.index(),this.getDepartments(),this.$refs.department_code.focus()},methods:{submitForm(){let e=this;e.status?e.addDepartment():e.updateDepartment()},index(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"paginateDepartments",data:e.meta}).then((s=>{a.hide(),e.departments=s.data.data,e.meta.totalRows=s.data.meta.total,e.meta.from=s.data.meta.from,e.meta.lastPage=s.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},addDepartment(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"addDepartment",data:e.department}).then((s=>{a.hide(),e.$store.dispatch("success",s.data.message),e.discard()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},deleteDepartment(e){let a=this;e.status=1==e.status?0:1,a.$store.dispatch("post",{uri:"deleteDepartment",data:e}).then((function(e){a.$store.dispatch("success",e.data.message),a.discard()})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},editDepartment(e){this.department=e,this.status=!1,this.$refs.department_code.focus()},updateDepartment(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"updateDepartment",data:e.department}).then((s=>{a.hide(),e.$store.dispatch("success",s.data.message),e.discard()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getDepartments(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getDepartments"}).then((s=>{a.hide(),e.departments=s.data.data})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},discard(){let e=this;e.department.department_code="",e.department.department_name="",e.$refs.department_code.focus(),e.errors=[],e.status=!0,e.index()},search(){let e=this;e.meta.page=1,e.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const Hk=(0,Ce.c)(Zk,[["render",Mk]]);var Jk=Hk;const Gk={class:""},Xk={class:"breadcrumb fs-sm mb-1"},ew={class:"breadcrumb-item"},aw={class:"row g-2"},sw={class:"col-4"},tw={class:"card card-one"},rw={class:"card-header d-flex justify-content-between"},lw={key:0,class:"card-title"},iw={key:1,class:"card-title"},ow={class:"card-body"},nw={class:"row g-2"},dw={class:"col-md-12"},cw={key:0,class:"invalid-feedback"},uw={class:"col-md-12"},pw={key:0,class:"invalid-feedback"},mw={class:"card-footer text-end"},_w={type:"submit",class:"btn btn-primary"},hw={key:0},bw={key:1},vw={class:"card card-one"},yw={class:"card-body"},gw={class:"table-responsive table-responsive-sm"},Dw={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},Qw={class:"",style:{"background-color":"#9b9b9b",color:"white"}},fw={key:0,class:"ri-arrow-up-line"},kw={key:1,class:"ri-arrow-down-line"},ww={key:2,class:"fas fa-sort"},Aw={key:0,class:"ri-arrow-up-line"},Ww={key:1,class:"ri-arrow-down-line"},zw={key:2,class:"fas fa-sort"},xw={key:0},Pw={class:"text-center"},Cw={class:"text-center"},$w={class:"form-switch"},Sw=["id","checked","value","onChange"],Uw=["for"],Vw={class:"text-center"},jw=["onClick"],Yw={class:"card-footer"},Tw={class:"d-flex justify-content-between align-items-center"};function Nw(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("Pagination");return(0,r.Wz)(),(0,r.An)("div",Gk,[(0,r.QD)("div",null,[(0,r.QD)("ol",Xk,[(0,r.QD)("li",ew,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[10]||(a[10]=[(0,r.mY)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.QD)("li",{class:"breadcrumb-item"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Lineage Parameters")],-1)),a[12]||(a[12]=(0,r.QD)("li",{class:"breadcrumb-item active","aria-current":"page"},"Functional",-1))]),a[13]||(a[13]=(0,r.QD)("h4",{class:"main-title mb-2"},"Functional",-1))]),(0,r.QD)("div",aw,[(0,r.QD)("div",sw,[(0,r.QD)("form",{onSubmit:a[3]||(a[3]=(0,t.Y7)((e=>o.submitForm()),["prevent"]))},[(0,r.QD)("div",tw,[(0,r.QD)("div",rw,[i.status?((0,r.Wz)(),(0,r.An)("h6",lw,"Add Functional")):((0,r.Wz)(),(0,r.An)("h6",iw,"Update Functional"))]),(0,r.QD)("div",ow,[(0,r.QD)("div",nw,[(0,r.QD)("div",dw,[a[14]||(a[14]=(0,r.QD)("label",{class:"form-label"},"Functional Code",-1)),a[15]||(a[15]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Functional Code",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.functional_code}]),"onUpdate:modelValue":a[0]||(a[0]=e=>i.functional.functional_code=e),ref:"functional_code"},null,2),[[t.Og,i.functional.functional_code]]),i.errors.functional_code?((0,r.Wz)(),(0,r.An)("span",cw,(0,d.WA)(i.errors.functional_code[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",uw,[a[16]||(a[16]=(0,r.QD)("label",{class:"form-label"},"Functional Name",-1)),a[17]||(a[17]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Enter Functional name",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.functional_name}]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.functional.functional_name=e)},null,2),[[t.Og,i.functional.functional_name]]),i.errors.functional_name?((0,r.Wz)(),(0,r.An)("span",pw,(0,d.WA)(i.errors.functional_name[0]),1)):(0,r.g1)("",!0)])])]),(0,r.QD)("div",mw,[(0,r.QD)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[2]||(a[2]=e=>o.discard())},a[18]||(a[18]=[(0,r.QD)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.mY)(" Discard")])),(0,r.QD)("button",_w,[i.status?((0,r.Wz)(),(0,r.An)("span",hw,a[19]||(a[19]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Submit")]))):((0,r.Wz)(),(0,r.An)("span",bw,a[20]||(a[20]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Update")])))])])])],32)]),(0,r.QD)("div",{class:(0,d.WN)(i.column)},[(0,r.QD)("div",vw,[a[29]||(a[29]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Functionals")],-1)),(0,r.QD)("div",yw,[(0,r.wt)((0,r.QD)("input",{class:"form-control mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[4]||(a[4]=e=>i.meta.search=e),onKeypress:a[5]||(a[5]=(0,t.jj)((e=>o.search()),["enter"]))},null,544),[[t.Og,i.meta.search]]),(0,r.QD)("div",gw,[(0,r.QD)("table",Dw,[(0,r.QD)("thead",null,[(0,r.QD)("tr",Qw,[a[23]||(a[23]=(0,r.QD)("th",{class:"text-center"},"#",-1)),(0,r.QD)("th",{onClick:a[6]||(a[6]=e=>o.sort("functional_code"))},[a[21]||(a[21]=(0,r.mY)("Functional Code ")),(0,r.QD)("span",null,["functional_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",fw)):"functional_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",kw)):((0,r.Wz)(),(0,r.An)("i",ww))])]),(0,r.QD)("th",{onClick:a[7]||(a[7]=e=>o.sort("functional_name"))},[a[22]||(a[22]=(0,r.mY)("Area Name ")),(0,r.QD)("span",null,["functional_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Aw)):"functional_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Ww)):((0,r.Wz)(),(0,r.An)("i",zw))])]),a[24]||(a[24]=(0,r.QD)("th",{class:"text-center"},"Status",-1)),a[25]||(a[25]=(0,r.QD)("th",{class:"text-center"},"Actions",-1))])]),(0,r.QD)("tbody",null,[0==i.functionals.length?((0,r.Wz)(),(0,r.An)("tr",xw,a[26]||(a[26]=[(0,r.QD)("td",{colspan:"6",class:"text-center"},"No records found",-1)]))):(0,r.g1)("",!0),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.functionals,((e,s)=>((0,r.Wz)(),(0,r.An)("tr",{key:s},[(0,r.QD)("td",Pw,(0,d.WA)(i.meta.from+s),1),(0,r.QD)("td",null,(0,d.WA)(e.functional_code),1),(0,r.QD)("td",null,(0,d.WA)(e.functional_name),1),(0,r.QD)("td",Cw,[(0,r.QD)("div",$w,[(0,r.QD)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"functional"+e.functional_id,checked:e.status,value:e.status,onChange:a=>o.deleteFunctional(e)},null,40,Sw),(0,r.QD)("label",{class:"custom-control-label",for:"functional"+e.functional_id},null,8,Uw)])]),(0,r.QD)("td",Vw,[e.status?((0,r.Wz)(),(0,r.An)("a",{key:0,href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editFunctional(e)},a[27]||(a[27]=[(0,r.QD)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,jw)):(0,r.g1)("",!0)])])))),128))])])])]),(0,r.QD)("div",Yw,[(0,r.QD)("div",Tw,[(0,r.wt)((0,r.QD)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.per_page=e),onChange:a[9]||(a[9]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[28]||(a[28]=[(0,r.QD)("option",null,"10",-1),(0,r.QD)("option",null,"15",-1),(0,r.QD)("option",null,"20",-1),(0,r.QD)("option",null,"25",-1),(0,r.QD)("option",null,"30",-1)]),544),[[t.Ip,i.meta.per_page]]),(0,r.QD)("span",null,"Showing "+(0,d.WA)(i.meta.from)+" to "+(0,d.WA)(i.meta.to)+" of "+(0,d.WA)(i.meta.totalRows)+" entries",1),(0,r.K2)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])],2)])])}var Rw={components:{Pagination:Zt},data(){return{column:"col-8",meta:{search:"",order_by:"asc",keyword:"functional_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},functionals:[],functional:{functional_id:"",functional_code:"",functional_name:"",status:""},status:!0,errors:[]}},mounted(){this.index(),this.$refs.functional_code.focus()},methods:{submitForm(){let e=this;e.status?e.addFunctional():e.updateFunctional()},index(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"paginateFunctionals",data:e.meta}).then((s=>{a.hide(),e.functionals=s.data.data,e.meta.totalRows=s.data.meta.total,e.meta.from=s.data.meta.from,e.meta.lastPage=s.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},addFunctional(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"addFunctional",data:e.functional}).then((e=>{a.hide(),this.$store.dispatch("success",e.data.message),this.discard()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},deleteFunctional(e){let a=this;e.status=1==e.status?0:1,a.$store.dispatch("post",{uri:"deleteFunctional",data:e}).then((function(e){a.$store.dispatch("success",e.data.message),a.discard()})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},editFunctional(e){this.functional=e,this.status=!1,this.$refs.functional_code.focus()},updateFunctional(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"updateFunctional",data:this.functional}).then((e=>{a.hide(),this.$store.dispatch("success",e.data.message),this.discard()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},discard(){let e=this;e.functional.functional_code="",e.functional.functional_name="",e.$refs.functional_code.focus(),e.errors=[],e.status=!0,e.index()},search(){let e=this;e.meta.page=1,e.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const qw=(0,Ce.c)(Rw,[["render",Nw]]);var Ew=qw;const Kw={class:""},Iw={class:"d-sm-flex align-items-center justify-content-between mb-2"},Fw={class:"breadcrumb fs-sm mb-1"},Ow={class:"breadcrumb-item","aria-current":"page"},Lw={class:"breadcrumb-item","aria-current":"page"},Bw={key:0,class:"breadcrumb-item","aria-current":"page"},Mw={key:1,class:"breadcrumb-item active","aria-current":"page"},Zw={class:"row"},Hw={class:"col-12"},Jw={class:"card card-one"},Gw={class:"card-header d-flex justify-content-between"},Xw={key:0,class:"card-title"},eA={key:1,class:"card-title"},aA={class:"card-body"},sA={class:"row g-2"},tA={class:"col-md-4"},rA={class:"form-group"},lA=["customClass"],iA={key:0},oA={class:"text-danger"},nA={key:0,class:"multiselect"},dA=["value"],cA={style:{"margin-left":"5px"}},uA={class:"col-md-4"},pA=["value"],mA={key:0,class:"invalid-feedback"},_A={class:"col-md-4"},hA={key:0,class:"invalid-feedback"},bA={class:"col-md-4"},vA={key:0,class:"invalid-feedback"},yA={class:"col-md-4"},gA={key:0,class:"invalid-feedback"},DA={class:"col-md-4"},QA={key:0,class:"invalid-feedback"},fA={class:"col-md-3"},kA={key:0,class:"text-danger"},wA={key:1,class:"invalid-feedback"},AA={class:"col-md-3"},WA={key:0,class:"text-danger"},zA={key:1,class:"invalid-feedback"},xA={class:"col-md-4"},PA={key:0,class:"text-danger"},CA={key:1,class:"invalid-feedback"},$A={class:"col-md-2"},SA={key:0,class:"invalid-feedback"},UA={class:"card-footer text-end"},VA={type:"submit",class:"btn btn-primary"},jA={key:0},YA={key:1};function TA(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.iS)("can");return(0,r.Wz)(),(0,r.An)("div",Kw,[(0,r.QD)("div",Iw,[(0,r.QD)("div",null,[(0,r.QD)("ol",Fw,[(0,r.QD)("li",Ow,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[13]||(a[13]=[(0,r.mY)("Dashboard")]))),_:1})]),a[15]||(a[15]=(0,r.QD)("li",{class:"breadcrumb-item"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Masters")],-1)),(0,r.QD)("li",Lw,[(0,r.K2)(n,{to:"/checks"},{default:(0,r.Ql)((()=>a[14]||(a[14]=[(0,r.mY)("Checks")]))),_:1})]),i.status?((0,r.Wz)(),(0,r.An)("li",Bw,"New Check")):((0,r.Wz)(),(0,r.An)("li",Mw,"Update Check"))]),a[16]||(a[16]=(0,r.QD)("h4",{class:"main-title mb-0"},"Check",-1))]),(0,r.K2)(n,{to:"/checks",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.Ql)((()=>a[17]||(a[17]=[(0,r.QD)("i",{class:"ri-list-check"},null,-1),(0,r.mY)(" CHECKS")]))),_:1})]),(0,r.QD)("div",Zw,[(0,r.wt)(((0,r.Wz)(),(0,r.An)("div",Hw,[(0,r.QD)("form",{onSubmit:a[12]||(a[12]=(0,t.Y7)(((...e)=>o.submitForm&&o.submitForm(...e)),["prevent"]))},[(0,r.QD)("div",Jw,[(0,r.QD)("div",Gw,[i.status?((0,r.Wz)(),(0,r.An)("h6",Xw,"New Check")):((0,r.Wz)(),(0,r.An)("h6",eA,"Update Check"))]),(0,r.QD)("div",aA,[(0,r.QD)("div",sA,[(0,r.QD)("div",tA,[(0,r.QD)("div",rA,[a[20]||(a[20]=(0,r.QD)("label",{class:"form-label"},"Asset Type",-1)),a[21]||(a[21]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.QD)("div",{class:"dropdown",onClick:a[0]||(a[0]=e=>o.toggleAssetTypeStatus())},[a[19]||(a[19]=(0,r.QD)("div",{class:"overselect"},null,-1)),(0,r.QD)("select",{class:(0,d.WN)(["form-control",{"is-invalid":i.errors.asset_types}]),customClass:{"is-invalid":i.errors.asset_types}},a[18]||(a[18]=[(0,r.QD)("option",{value:""},"Select Asset Type",-1)]),10,lA),i.errors.asset_types?((0,r.Wz)(),(0,r.An)("span",iA,[(0,r.QD)("small",oA,(0,d.WA)(i.errors.asset_types[0]),1)])):(0,r.g1)("",!0)]),i.asset_type_status?((0,r.Wz)(),(0,r.An)("div",nA,[(0,r.QD)("ul",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.asset_types,((e,s)=>((0,r.Wz)(),(0,r.An)("li",{class:"",key:s},[(0,r.wt)((0,r.QD)("input",{type:"checkbox",value:e.asset_type_id,"onUpdate:modelValue":a[1]||(a[1]=e=>i.check.asset_types=e),style:{padding:"2px"}},null,8,dA),[[t.cV,i.check.asset_types]]),(0,r.QD)("label",cA,(0,d.WA)(e.asset_type_name),1)])))),128))])])):(0,r.g1)("",!0)])]),(0,r.QD)("div",uA,[a[23]||(a[23]=(0,r.QD)("label",{class:"form-label"},"Department",-1)),a[24]||(a[24]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("select",{class:(0,d.WN)(["form-control",{"is-invalid":i.errors?.department_id}]),"onUpdate:modelValue":a[2]||(a[2]=e=>i.check.department_id=e)},[a[22]||(a[22]=(0,r.QD)("option",{value:""},"Select Department",-1)),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.departments,((e,a)=>((0,r.Wz)(),(0,r.An)("option",{key:a,value:e?.department_id},(0,d.WA)(e?.department_name),9,pA)))),128))],2),[[t.Ip,i.check.department_id]]),i.errors?.department_id?((0,r.Wz)(),(0,r.An)("span",mA,(0,d.WA)(i.errors.department_id[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",_A,[a[25]||(a[25]=(0,r.QD)("label",{class:"form-label"},"Field Name",-1)),a[26]||(a[26]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Field Name",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.field_name}]),"onUpdate:modelValue":a[3]||(a[3]=e=>i.check.field_name=e)},null,2),[[t.Og,i.check.field_name]]),i.errors.field_name?((0,r.Wz)(),(0,r.An)("span",hA,(0,d.WA)(i.errors.field_name[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",bA,[a[28]||(a[28]=(0,r.QD)("label",{class:"form-label"},"Field Type",-1)),a[29]||(a[29]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("select",{class:(0,d.WN)(["form-control",{"is-invalid":i.errors.field_type}]),"onUpdate:modelValue":a[4]||(a[4]=e=>i.check.field_type=e)},a[27]||(a[27]=[(0,r.IL)('<option value="" data-v-3bf94337>Select Field Type</option><option value="Text" data-v-3bf94337>Short Text</option><option value="Number" data-v-3bf94337>Number</option><option value="Text Area" data-v-3bf94337>Long Text</option><option value="Date" data-v-3bf94337>Date</option><option value="Date &amp; Time" data-v-3bf94337>Date &amp; Time</option><option value="Select" data-v-3bf94337>Dropdown</option><option value="Color" data-v-3bf94337>Color</option>',8)]),2),[[t.Ip,i.check.field_type]]),i.errors.field_type?((0,r.Wz)(),(0,r.An)("span",vA,(0,d.WA)(i.errors.field_type[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",yA,[a[30]||(a[30]=(0,r.QD)("label",{class:"form-label"},"Default Value",-1)),a[31]||(a[31]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Default Value",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.default_value}]),"onUpdate:modelValue":a[5]||(a[5]=e=>i.check.default_value=e)},null,2),[[t.Og,i.check.default_value]]),i.errors.default_value?((0,r.Wz)(),(0,r.An)("span",gA,(0,d.WA)(i.errors.default_value[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",DA,[a[33]||(a[33]=(0,r.QD)("label",{class:"form-label"},"Is Required",-1)),a[34]||(a[34]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("select",{class:(0,d.WN)(["form-control",{"is-invalid":i.errors.is_required}]),"onUpdate:modelValue":a[6]||(a[6]=e=>i.check.is_required=e)},a[32]||(a[32]=[(0,r.QD)("option",{value:""},"Select Is Required",-1),(0,r.QD)("option",{value:"1"},"Yes",-1),(0,r.QD)("option",{value:"0"},"No",-1)]),2),[[t.Ip,i.check.is_required]]),i.errors.is_required?((0,r.Wz)(),(0,r.An)("span",QA,(0,d.WA)(i.errors.is_required[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",fA,[a[35]||(a[35]=(0,r.QD)("label",{class:"form-label"},"LCL",-1)),"Number"==i.check.field_type?((0,r.Wz)(),(0,r.An)("span",kA," *")):(0,r.g1)("",!0),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"LCL",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.lcl}]),"onUpdate:modelValue":a[7]||(a[7]=e=>i.check.lcl=e)},null,2),[[t.Og,i.check.lcl]]),i.errors.lcl?((0,r.Wz)(),(0,r.An)("span",wA,(0,d.WA)(i.errors.lcl[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",AA,[a[36]||(a[36]=(0,r.QD)("label",{class:"form-label"},"UCL",-1)),"Number"==i.check.field_type?((0,r.Wz)(),(0,r.An)("span",WA," *")):(0,r.g1)("",!0),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"UCL",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.ucl}]),"onUpdate:modelValue":a[8]||(a[8]=e=>i.check.ucl=e)},null,2),[[t.Og,i.check.ucl]]),i.errors.ucl?((0,r.Wz)(),(0,r.An)("span",zA,(0,d.WA)(i.errors.ucl[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",xA,[a[37]||(a[37]=(0,r.QD)("label",{class:"form-label"},"Field Values",-1)),"Select"==i.check.field_type?((0,r.Wz)(),(0,r.An)("span",PA," *")):(0,r.g1)("",!0),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Field Values",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.field_values}]),"onUpdate:modelValue":a[9]||(a[9]=e=>i.check.field_values=e)},null,2),[[t.Og,i.check.field_values]]),i.errors.field_values?((0,r.Wz)(),(0,r.An)("span",CA,(0,d.WA)(i.errors.field_values[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",$A,[a[38]||(a[38]=(0,r.QD)("label",{class:"form-label"},"Order",-1)),a[39]||(a[39]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Order",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.order}]),"onUpdate:modelValue":a[10]||(a[10]=e=>i.check.order=e)},null,2),[[t.Og,i.check.order]]),i.errors.order?((0,r.Wz)(),(0,r.An)("span",SA,(0,d.WA)(i.errors.order[0]),1)):(0,r.g1)("",!0)])])]),(0,r.QD)("div",UA,[(0,r.QD)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[11]||(a[11]=(0,t.Y7)((e=>o.discard()),["prevent"]))},a[40]||(a[40]=[(0,r.QD)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.mY)(" Discard")])),(0,r.QD)("button",VA,[i.status?((0,r.Wz)(),(0,r.An)("span",jA,a[41]||(a[41]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Submit")]))):((0,r.Wz)(),(0,r.An)("span",YA,a[42]||(a[42]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Update")])))])])])],32)])),[[c,"checks.create"]])])])}var NA={name:"Checks.Create",data(){return{check:{check_id:"",field_name:"",field_type:"",default_value:"",is_required:"",lcl:"",ucl:"",field_values:"",order:"",asset_types:[],frequency_id:"",department_id:""},errors:[],asset_types:[],frequencies:[],departments:[],status:!0,asset_type_status:!1}},beforeRouteEnter(e,a,s){s((a=>{if(a.getAssetTypes(),"Checks.Create"==e.name);else{a.status=!1;let s={uri:"getCheck",data:{check_id:e.params.check_id}};a.$store.dispatch("post",s).then((function(e){a.check=e.data.data})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}}))},methods:{toggleAssetTypeStatus(){this.asset_type_status=!this.asset_type_status},submitForm(){let e=this;e.status?e.addCheck():e.updateCheck()},addCheck(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"addCheck",data:e.check}).then((s=>{a.hide(),e.$store.dispatch("success",s.data.message),e.$router.push("/checks")})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getAssetTypes(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssetTypes"}).then((s=>{a.hide(),e.asset_types=s.data.data,e.getFrequencies()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getFrequencies(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getFrequencies"}).then((s=>{a.hide(),e.frequencies=s.data.data,e.getDepartments()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getDepartments(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getDepartments"}).then((s=>{a.hide(),e.departments=s.data.data})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},updateCheck(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"updateCheck",data:e.check}).then((s=>{a.hide(),e.$store.dispatch("success",s.data.message),e.$router.push("/checks")})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},discard(){let e=this;e.check.field_name="",e.check.field_type="",e.check.default_value="",e.check.is_required="",e.check.lcl="",e.check.ucl="",e.check.field_values="",e.check.order="",e.check.frequency_id="",e.check.asset_types=[],e.errors=[],e.status=!0},getCheck(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"showCheck",data:e.check}).then((s=>{a.hide(),e.user=s.data.data})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))}}};const RA=(0,Ce.c)(NA,[["render",TA],["__scopeId","data-v-3bf94337"]]);var qA=RA;const EA={class:""},KA={class:"d-sm-flex align-items-center justify-content-between mb-2"},IA={class:"breadcrumb fs-sm mb-1"},FA={class:"breadcrumb-item","aria-current":"page"},OA={class:"row"},LA={class:"col-12"},BA={class:"card card-one"},MA={class:"card-body"},ZA={class:"table-responsive table-responsive-sm"},HA={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},JA={class:"",style:{"background-color":"#9b9b9b",color:"white"}},GA={key:0,class:"ri-arrow-up-line"},XA={key:1,class:"ri-arrow-down-line"},eW={key:2,class:"fas fa-sort"},aW={key:0,class:"ri-arrow-up-line"},sW={key:1,class:"ri-arrow-down-line"},tW={key:2,class:"fas fa-sort"},rW={key:0,class:"ri-arrow-up-line"},lW={key:1,class:"ri-arrow-down-line"},iW={key:2,class:"fas fa-sort"},oW={key:0,class:"ri-arrow-up-line"},nW={key:1,class:"ri-arrow-down-line"},dW={key:2,class:"fas fa-sort"},cW={key:0,class:"ri-arrow-up-line"},uW={key:1,class:"ri-arrow-down-line"},pW={key:2,class:"fas fa-sort"},mW={key:0,class:"ri-arrow-up-line"},_W={key:1,class:"ri-arrow-down-line"},hW={key:2,class:"fas fa-sort"},bW={key:0,class:"ri-arrow-up-line"},vW={key:1,class:"ri-arrow-down-line"},yW={key:2,class:"fas fa-sort"},gW={key:0,class:"ri-arrow-up-line"},DW={key:1,class:"ri-arrow-down-line"},QW={key:2,class:"fas fa-sort"},fW={key:0,class:"ri-arrow-up-line"},kW={key:1,class:"ri-arrow-down-line"},wW={key:2,class:"fas fa-sort"},AW={key:0,class:"ri-arrow-up-line"},WW={key:1,class:"ri-arrow-down-line"},zW={key:2,class:"fas fa-sort"},xW={class:"text-center"},PW={class:"text-center"},CW={key:0},$W={class:"text-center"},SW={class:"text-center"},UW={class:"form-switch"},VW=["id","checked","value","onChange"],jW=["for"],YW={class:"text-center"},TW=["onClick"],NW={class:"card-footer"},RW={class:"d-flex justify-content-between align-items-center"};function qW(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("Pagination"),u=(0,r.iS)("can");return(0,r.Wz)(),(0,r.An)("div",EA,[(0,r.QD)("div",KA,[(0,r.QD)("div",null,[(0,r.QD)("ol",IA,[(0,r.QD)("li",FA,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[13]||(a[13]=[(0,r.mY)("Dashboard")]))),_:1})]),a[14]||(a[14]=(0,r.QD)("li",{class:"breadcrumb-item"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Masters")],-1)),a[15]||(a[15]=(0,r.QD)("li",{class:"breadcrumb-item active","aria-current":"page"},"Checks",-1))]),a[16]||(a[16]=(0,r.QD)("h4",{class:"main-title mb-0"},"Checks",-1))]),(0,r.wt)(((0,r.Wz)(),(0,r.Az)(n,{to:"/checks/create",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.Ql)((()=>a[17]||(a[17]=[(0,r.QD)("i",{class:"ri-list-check"},null,-1),(0,r.mY)(" ADD CHECKS")]))),_:1})),[[u,"checks.create"]])]),(0,r.QD)("div",OA,[(0,r.QD)("div",LA,[(0,r.QD)("div",BA,[a[34]||(a[34]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Checks")],-1)),(0,r.QD)("div",MA,[(0,r.wt)((0,r.QD)("input",{class:"form-control mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.search=e),onKeypress:a[1]||(a[1]=(0,t.jj)((e=>o.search()),["enter"]))},null,544),[[t.Og,i.meta.search]]),(0,r.QD)("div",ZA,[(0,r.QD)("table",HA,[(0,r.QD)("thead",null,[(0,r.QD)("tr",JA,[a[30]||(a[30]=(0,r.QD)("th",{class:"text-center"},"#",-1)),(0,r.QD)("th",{onClick:a[2]||(a[2]=e=>o.sort("department_id"))},[a[18]||(a[18]=(0,r.mY)("Department ")),(0,r.QD)("span",null,["department_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",GA)):"department_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",XA)):((0,r.Wz)(),(0,r.An)("i",eW))])]),(0,r.QD)("th",{onClick:a[3]||(a[3]=e=>o.sort("field_name"))},[a[19]||(a[19]=(0,r.mY)("Field Name ")),(0,r.QD)("span",null,["field_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",aW)):"field_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",sW)):((0,r.Wz)(),(0,r.An)("i",tW))])]),(0,r.QD)("th",{onClick:a[4]||(a[4]=e=>o.sort("field_type"))},[a[20]||(a[20]=(0,r.mY)("Field Type ")),(0,r.QD)("span",null,["field_type"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",rW)):"field_type"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",lW)):((0,r.Wz)(),(0,r.An)("i",iW))])]),(0,r.QD)("th",{onClick:a[5]||(a[5]=e=>o.sort("default_value"))},[a[21]||(a[21]=(0,r.mY)("Default Value ")),(0,r.QD)("span",null,["default_value"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",oW)):"default_value"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",nW)):((0,r.Wz)(),(0,r.An)("i",dW))])]),(0,r.QD)("th",{onClick:a[6]||(a[6]=e=>o.sort("is_required"))},[a[22]||(a[22]=(0,r.mY)("Is Required ")),(0,r.QD)("span",null,["is_required"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",cW)):"is_required"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",uW)):((0,r.Wz)(),(0,r.An)("i",pW))])]),(0,r.QD)("th",{onClick:a[7]||(a[7]=e=>o.sort("lcl"))},[a[23]||(a[23]=(0,r.mY)("LCL ")),(0,r.QD)("span",null,["lcl"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",mW)):"lcl"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",_W)):((0,r.Wz)(),(0,r.An)("i",hW))])]),(0,r.QD)("th",{onClick:a[8]||(a[8]=e=>o.sort("ucl"))},[a[24]||(a[24]=(0,r.mY)("UCL ")),(0,r.QD)("span",null,["ucl"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",bW)):"ucl"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",vW)):((0,r.Wz)(),(0,r.An)("i",yW))])]),(0,r.QD)("th",{onClick:a[9]||(a[9]=e=>o.sort("field_values"))},[a[25]||(a[25]=(0,r.mY)("Field Values ")),(0,r.QD)("span",null,["field_values"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",gW)):"field_values"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",DW)):((0,r.Wz)(),(0,r.An)("i",QW))])]),(0,r.QD)("th",{onClick:a[10]||(a[10]=e=>o.sort("order"))},[a[26]||(a[26]=(0,r.mY)("Order ")),(0,r.QD)("span",null,["order"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",fW)):"order"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",kW)):((0,r.Wz)(),(0,r.An)("i",wW))])]),(0,r.QD)("th",null,[a[27]||(a[27]=(0,r.mY)(" Asset Type. ")),(0,r.QD)("span",null,["asset_type_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",AW)):"asset_type_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",WW)):((0,r.Wz)(),(0,r.An)("i",zW))])]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("th",xW,a[28]||(a[28]=[(0,r.mY)("Status")]))),[[u,"checks.delete"]]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("th",PW,a[29]||(a[29]=[(0,r.mY)("Actions")]))),[[u,"checks.update"]])])]),(0,r.QD)("tbody",null,[0==i.checks.length?((0,r.Wz)(),(0,r.An)("tr",CW,a[31]||(a[31]=[(0,r.QD)("td",{colspan:"12",class:"text-center"},"No records found",-1)]))):(0,r.g1)("",!0),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.checks,((e,s)=>((0,r.Wz)(),(0,r.An)("tr",{key:s},[(0,r.QD)("td",$W,(0,d.WA)(i.meta.from+s),1),(0,r.QD)("td",null,(0,d.WA)(e?.department?.department_name),1),(0,r.QD)("td",null,(0,d.WA)(e.field_name),1),(0,r.QD)("td",null,(0,d.WA)(e.field_type),1),(0,r.QD)("td",null,(0,d.WA)(e.default_value),1),(0,r.QD)("td",null,(0,d.WA)(1==e.is_required?"Yes":"No"),1),(0,r.QD)("td",null,(0,d.WA)(e.lcl),1),(0,r.QD)("td",null,(0,d.WA)(e.ucl),1),(0,r.QD)("td",null,(0,d.WA)(e.field_values),1),(0,r.QD)("td",null,(0,d.WA)(e.order),1),(0,r.QD)("td",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(e.check_asset_types,((e,a)=>((0,r.Wz)(),(0,r.An)("span",{key:a},(0,d.WA)(e?.asset_types?.asset_type_name)+", ",1)))),128))]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("td",SW,[(0,r.QD)("div",UW,[(0,r.QD)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"check"+e.check_id,checked:e.status,value:e.status,onChange:a=>o.deleteCheck(e)},null,40,VW),(0,r.QD)("label",{class:"custom-control-label",for:"check"+e.check_id},null,8,jW)])])),[[u,"checks.delete"]]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("td",YW,[e.status?((0,r.Wz)(),(0,r.An)("a",{key:0,href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editCheck(e)},a[32]||(a[32]=[(0,r.QD)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,TW)):(0,r.g1)("",!0)])),[[u,"checks.update"]])])))),128))])])])]),(0,r.QD)("div",NW,[(0,r.QD)("div",RW,[(0,r.wt)((0,r.QD)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[11]||(a[11]=e=>i.meta.per_page=e),onChange:a[12]||(a[12]=(...a)=>e.onPerPageChange&&e.onPerPageChange(...a))},a[33]||(a[33]=[(0,r.QD)("option",null,"10",-1),(0,r.QD)("option",null,"15",-1),(0,r.QD)("option",null,"20",-1),(0,r.QD)("option",null,"25",-1),(0,r.QD)("option",null,"30",-1)]),544),[[t.Ip,i.meta.per_page]]),(0,r.QD)("span",null,"Showing "+(0,d.WA)(i.meta.from)+" to "+(0,d.WA)(i.meta.to)+" of "+(0,d.WA)(i.meta.totalRows)+" entries",1),(0,r.K2)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var EW={components:{Pagination:Zt},data(){return{meta:{search:"",order_by:"asc",keyword:"check_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,maxPage:1},check:{check_id:""},checks:[],errors:[],update:!1}},beforeRouteEnter(e,a,s){s((e=>{"Checks.Edit"!=a.name?e.$store.commit("setCurrentPage",e.meta.page):e.meta.page=e.$store.getters.current_page}))},mounted(){this.index()},methods:{index(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"paginateChecks",data:e.meta}).then((s=>{a.hide(),this.checks=s.data.data,this.meta.totalRows=s.data.meta.total,this.meta.from=s.data.meta.from,this.meta.lastPage=s.data.meta.last_page,this.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},editCheck(e){this.$store.commit("setCurrentPage",this.meta.page),this.$router.push("/checks/"+e.check_id+"/edit")},deleteCheck(e){let a=this,s=a.$loading.show();a.$store.dispatch("post",{uri:"deleteCheck",data:e}).then((e=>{s.hide(),a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){s.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},search(){let e=this;e.meta.page=1,e.index()}}};const KW=(0,Ce.c)(EW,[["render",qW]]);var IW=KW;const FW={class:""},OW={class:"d-sm-flex align-items-center justify-content-between mb-2"},LW={class:"breadcrumb fs-sm mb-1"},BW={class:"breadcrumb-item"},MW={class:"breadcrumb-item active","aria-current":"page"},ZW={key:0,class:"breadcrumb-item","aria-current":"page"},HW={key:1,class:"breadcrumb-item active","aria-current":"page"},JW={class:"row g-2"},GW={class:"col-12"},XW={class:"card card-one"},ez={class:"card-header d-flex justify-content-between"},az={key:0,class:"card-title"},sz={key:1,class:"card-title"},tz={class:"card-body"},rz={class:"row g-2"},lz={class:"col-md-4"},iz={key:0},oz={class:"text-danger"},nz={class:"col-md-4"},dz={key:0,class:"invalid-feedback"},cz={class:"col-md-4"},uz={key:0,class:"invalid-feedback"},pz={key:0},mz={class:"form-label"},_z={key:0,class:"text-danger"},hz=["placeholder","onUpdate:modelValue"],bz={key:1,class:"invalid-feedback"},vz={key:1},yz={class:"form-label"},gz={key:0,class:"text-danger"},Dz=["placeholder","onUpdate:modelValue"],Qz={key:1,class:"invalid-feedback"},fz={key:2},kz={class:"form-label"},wz={key:0,class:"text-danger"},Az=["placeholder","onUpdate:modelValue"],Wz={key:0,class:"invalid-feedback"},zz={key:3},xz={class:"form-label"},Pz={key:0,class:"text-danger"},Cz=["placeholder","onUpdate:modelValue"],$z={key:0,class:"invalid-feedback"},Sz={key:4},Uz={class:"form-label"},Vz={key:0,class:"text-danger"},jz=["onUpdate:modelValue"],Yz=["value"],Tz=["value"],Nz=["value"],Rz={key:1,class:"invalid-feedback"},qz={key:5},Ez={class:"form-label"},Kz={key:0,class:"text-danger"},Iz=["onUpdate:modelValue"],Fz={key:0,class:"invalid-feedback"},Oz={key:6},Lz={class:"form-label"},Bz={key:0,class:"text-danger"},Mz=["onUpdate:modelValue"],Zz=["value"],Hz=["value"],Jz=["value"],Gz={key:1,class:"invalid-feedback"},Xz={class:"col-md-4"},ex={class:"form-group"},ax=["customClass"],sx={key:0},tx={class:"text-danger"},rx={key:0,class:"multiselect"},lx=["value"],ix={style:{"margin-left":"5px"}},ox={class:"card-footer text-end"},nx={type:"submit",class:"btn btn-primary"},dx={key:0},cx={key:1};function ux(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("search");return(0,r.Wz)(),(0,r.An)("div",FW,[(0,r.QD)("div",OW,[(0,r.QD)("div",null,[(0,r.QD)("ol",LW,[(0,r.QD)("li",BW,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[8]||(a[8]=[(0,r.mY)("Dashboard")]))),_:1})]),a[10]||(a[10]=(0,r.QD)("li",{class:"breadcrumb-item"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Masters")],-1)),(0,r.QD)("li",MW,[(0,r.K2)(n,{to:"/services"},{default:(0,r.Ql)((()=>a[9]||(a[9]=[(0,r.mY)("Services")]))),_:1})]),i.status?((0,r.Wz)(),(0,r.An)("li",ZW,"New Service")):((0,r.Wz)(),(0,r.An)("li",HW,"Update Service"))]),a[11]||(a[11]=(0,r.QD)("h4",{class:"main-title mb-0"},"Services",-1))]),(0,r.K2)(n,{to:"/services",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.Ql)((()=>a[12]||(a[12]=[(0,r.QD)("i",{class:"ri-list-check"},null,-1),(0,r.mY)(" SERVICES")]))),_:1})]),(0,r.QD)("div",JW,[(0,r.QD)("div",GW,[(0,r.QD)("form",{onSubmit:a[7]||(a[7]=(0,t.Y7)((e=>o.submitForm()),["prevent"]))},[(0,r.QD)("div",XW,[(0,r.QD)("div",ez,[i.status?((0,r.Wz)(),(0,r.An)("h6",az,"Add Service")):((0,r.Wz)(),(0,r.An)("h6",sz,"Update Service"))]),(0,r.QD)("div",tz,[(0,r.QD)("div",rz,[(0,r.QD)("div",lz,[a[13]||(a[13]=(0,r.QD)("label",{class:"form-label"},"Service Types",-1)),a[14]||(a[14]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.K2)(c,{class:(0,d.WN)({"is-invalid":i.errors.service_type_id}),customClass:{"is-invalid":i.errors.service_type_id},initialize:i.service.service_type_id,id:"service_type_id",label:"service_type_name",placeholder:"Select Service Type",data:i.service_types,onInput:a[0]||(a[0]=e=>i.service.service_type_id=e),onSelectsearch:a[1]||(a[1]=e=>o.getServiceTypeFields(i.service.service_type_id))},null,8,["class","customClass","initialize","data"]),i.errors.service_type_id?((0,r.Wz)(),(0,r.An)("span",iz,[(0,r.QD)("small",oz,(0,d.WA)(i.errors.service_type_id[0]),1)])):(0,r.g1)("",!0)]),(0,r.QD)("div",nz,[a[15]||(a[15]=(0,r.QD)("label",{class:"form-label"},"Service Code",-1)),a[16]||(a[16]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Service Code",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.service_code}]),"onUpdate:modelValue":a[2]||(a[2]=e=>i.service.service_code=e)},null,2),[[t.Og,i.service.service_code]]),i.errors.service_code?((0,r.Wz)(),(0,r.An)("span",dz,(0,d.WA)(i.errors.service_code[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",cz,[a[17]||(a[17]=(0,r.QD)("label",{class:"form-label"},"Service Name",-1)),a[18]||(a[18]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Service Name",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.service_name}]),"onUpdate:modelValue":a[3]||(a[3]=e=>i.service.service_name=e)},null,2),[[t.Og,i.service.service_name]]),i.errors.service_name?((0,r.Wz)(),(0,r.An)("span",uz,(0,d.WA)(i.errors.service_name[0]),1)):(0,r.g1)("",!0)]),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.service.service_attributes,((e,a)=>((0,r.Wz)(),(0,r.An)("div",{class:"col-md-4",key:a},["Text"==e.field_type?((0,r.Wz)(),(0,r.An)("div",pz,[(0,r.QD)("label",mz,(0,d.WA)(e.display_name),1),e.is_required?((0,r.Wz)(),(0,r.An)("span",_z,"*")):(0,r.g1)("",!0),(0,r.wt)((0,r.QD)("input",{type:"text",class:(0,d.WN)(["form-control",{"is-invalid":i.errors[e.display_name]}]),placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.service_attribute_value.field_value=a},null,10,hz),[[t.Og,e.service_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.Wz)(),(0,r.An)("span",bz,(0,d.WA)(i.errors[e.display_name][0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0),"Number"==e.field_type?((0,r.Wz)(),(0,r.An)("div",vz,[(0,r.QD)("label",yz,(0,d.WA)(e.display_name),1),e.is_required?((0,r.Wz)(),(0,r.An)("span",gz,"*")):(0,r.g1)("",!0),(0,r.wt)((0,r.QD)("input",{type:"number",class:(0,d.WN)(["form-control",{"is-invalid":i.errors[e.display_name]}]),min:"0",oninput:"validity.valid||(value='');",placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.service_attribute_value.field_value=a},null,10,Dz),[[t.Og,e.service_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.Wz)(),(0,r.An)("span",Qz,(0,d.WA)(i.errors[e.display_name][0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0),"Date"===e.field_type?((0,r.Wz)(),(0,r.An)("div",fz,[(0,r.QD)("label",kz,[(0,r.mY)((0,d.WA)(e.display_name),1),e.is_required?((0,r.Wz)(),(0,r.An)("span",wz,"*")):(0,r.g1)("",!0)]),(0,r.wt)((0,r.QD)("input",{type:"date",class:(0,d.WN)(["form-control",{"is-invalid":i.errors[e.display_name]}]),placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.service_attribute_value.field_value=a},null,10,Az),[[t.Og,e.service_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.Wz)(),(0,r.An)("span",Wz,(0,d.WA)(i.errors[e.display_name][0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0),"Date&Time"===e.field_type?((0,r.Wz)(),(0,r.An)("div",zz,[(0,r.QD)("label",xz,[(0,r.mY)((0,d.WA)(e.display_name),1),e.is_required?((0,r.Wz)(),(0,r.An)("span",Pz,"*")):(0,r.g1)("",!0)]),(0,r.wt)((0,r.QD)("input",{type:"datetime-local",class:(0,d.WN)(["form-control",{"is-invalid":i.errors[e.display_name]}]),placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.service_attribute_value.field_value=a,step:"1"},null,10,Cz),[[t.Og,e.service_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.Wz)(),(0,r.An)("span",$z,(0,d.WA)(i.errors[e.display_name][0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0),"Dropdown"==e.field_type?((0,r.Wz)(),(0,r.An)("div",Sz,[(0,r.QD)("label",Uz,(0,d.WA)(e.display_name),1),e.is_required?((0,r.Wz)(),(0,r.An)("span",Vz,"*")):(0,r.g1)("",!0),(0,r.wt)((0,r.QD)("select",{class:(0,d.WN)(["form-control",{"is-invalid":i.errors[e.display_name]}]),"onUpdate:modelValue":a=>e.service_attribute_value.field_value=a},[e.service_attribute_value.field_value?((0,r.Wz)(),(0,r.An)("option",{key:0,value:e.service_attribute_value.field_value},(0,d.WA)(e.service_attribute_value.field_value),9,Yz)):((0,r.Wz)(),(0,r.An)("option",{key:1,value:e.service_attribute_value.field_value},"Select "+(0,d.WA)(e.display_name),9,Tz)),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(e.field_values.split(","),((e,a)=>((0,r.Wz)(),(0,r.An)("option",{key:a,value:e},(0,d.WA)(e),9,Nz)))),128))],10,jz),[[t.Ip,e.service_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.Wz)(),(0,r.An)("span",Rz,(0,d.WA)(i.errors[e.display_name][0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0),"Color"==e.field_type?((0,r.Wz)(),(0,r.An)("div",qz,[(0,r.QD)("label",Ez,[(0,r.mY)((0,d.WA)(e.display_name),1),e.is_required?((0,r.Wz)(),(0,r.An)("span",Kz,"*")):(0,r.g1)("",!0)]),(0,r.wt)((0,r.QD)("input",{type:"color",class:"form-control","onUpdate:modelValue":a=>e.service_attribute_value.field_value=a,style:{height:"2.2rem"}},null,8,Iz),[[t.Og,e.service_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.Wz)(),(0,r.An)("span",Fz,(0,d.WA)(i.errors[e.display_name][0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0),"List"==e.field_type?((0,r.Wz)(),(0,r.An)("div",Oz,[(0,r.QD)("label",Lz,(0,d.WA)(e.display_name),1),e.is_required?((0,r.Wz)(),(0,r.An)("span",Bz,"*")):(0,r.g1)("",!0),(0,r.wt)((0,r.QD)("select",{class:(0,d.WN)(["form-control",{"is-invalid":i.errors[e.display_name]}]),"onUpdate:modelValue":a=>e.service_attribute_value.field_value=a},[e.service_attribute_value.field_value?((0,r.Wz)(),(0,r.An)("option",{key:0,value:e.service_attribute_value.field_value},(0,d.WA)(e.service_attribute_value.field_value),9,Zz)):((0,r.Wz)(),(0,r.An)("option",{key:1,value:e.service_attribute_value.field_value},"Select "+(0,d.WA)(e.display_name),9,Hz)),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(e.list_parameter?.field_values.split(","),((e,a)=>((0,r.Wz)(),(0,r.An)("option",{key:a,value:e},(0,d.WA)(e),9,Jz)))),128))],10,Mz),[[t.Ip,e.service_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.Wz)(),(0,r.An)("span",Gz,(0,d.WA)(i.errors[e.display_name][0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0)])))),128)),(0,r.QD)("div",Xz,[(0,r.QD)("div",ex,[a[21]||(a[21]=(0,r.QD)("label",{class:"form-label"},"Assign To",-1)),a[22]||(a[22]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.QD)("div",{class:"dropdown",onClick:a[4]||(a[4]=e=>o.toggleAssetTypeStatus())},[a[20]||(a[20]=(0,r.QD)("div",{class:"overselect"},null,-1)),(0,r.QD)("select",{class:(0,d.WN)(["form-control",{"is-invalid":i.errors.asset_types}]),customClass:{"is-invalid":i.errors.asset_types}},a[19]||(a[19]=[(0,r.QD)("option",{value:""},"Select Assign To",-1)]),10,ax),i.errors.asset_types?((0,r.Wz)(),(0,r.An)("span",sx,[(0,r.QD)("small",tx,(0,d.WA)(i.errors.asset_types[0]),1)])):(0,r.g1)("",!0)]),i.asset_type_status?((0,r.Wz)(),(0,r.An)("div",rx,[(0,r.QD)("ul",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.asset_types,((e,s)=>((0,r.Wz)(),(0,r.An)("li",{class:"",key:s},[(0,r.wt)((0,r.QD)("input",{type:"checkbox",value:e.asset_type_id,"onUpdate:modelValue":a[5]||(a[5]=e=>i.service.asset_types=e),style:{padding:"2px"}},null,8,lx),[[t.cV,i.service.asset_types]]),(0,r.QD)("label",ix,(0,d.WA)(e.asset_type_name),1)])))),128))])])):(0,r.g1)("",!0)])])])]),(0,r.QD)("div",ox,[(0,r.QD)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[6]||(a[6]=e=>o.discard())},a[23]||(a[23]=[(0,r.QD)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.mY)(" Discard")])),(0,r.QD)("button",nx,[i.status?((0,r.Wz)(),(0,r.An)("span",dx,a[24]||(a[24]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Submit")]))):((0,r.Wz)(),(0,r.An)("span",cx,a[25]||(a[25]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Update")])))])])])],32)])])])}var px={components:{Pagination:Zt,Search:Gr.c},data(){return{services:[],service:{service_id:"",service_type_id:"",service_code:"",service_name:"",service_attributes:[],asset_types:[],frequency_id:"",deleted_service_attribute_values:[]},status:!0,errors:[],deleted_service_attribute_values:[],service_types:[],asset_types:[],frequencies:[],show_services:[],asset_type_status:!1}},beforeRouteEnter(e,a,s){s((a=>{if(a.getAssetTypes(),"Services.Create"==e.name);else{a.status=!1;let s={uri:"getServiceData",data:{service_id:e.params.service_id}};a.$store.dispatch("post",s).then((function(e){a.service=e.data.data,a.service.service_attributes.map((function(e){a.deleted_service_attribute_values.push(e.service_attribute_value.service_attribute_value_id)})),a.service.deleted_service_attribute_values=[]})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}}))},methods:{toggleAssetTypeStatus(){this.asset_type_status=!this.asset_type_status},submitForm(){let e=this;e.status?e.addService():e.updateService()},validateFields(){let e=!0;this.errors={},this.service.service_code||(this.errors.service_code=["Service Code is required"],e=!1),this.service.service_name||(this.errors.service_name=["Service Name is required"],e=!1),this.service.service_type_id||(this.errors.service_type_id=["Service Type is required"],e=!1),0===this.service.asset_types.length&&(this.errors.asset_types=["At least one Asset Type must be selected"],e=!1);for(const a of Object.values(this.service.service_attributes))a.is_required&&!a.service_attribute_value.field_value&&(this.errors[a.display_name]=[`${a.display_name} is required`],e=!1);return e},addService(){if(!this.validateFields())return;let e=this,a=this.$loading.show();e.$store.dispatch("post",{uri:"addService",data:e.service}).then((s=>{a.hide(),e.$store.dispatch("success",s.data.message),e.$router.push("/services")})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getAssetTypes(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssetTypes"}).then((s=>{a.hide(),e.asset_types=s.data.data,e.getServiceTypes()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getFrequencies(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getFrequencies"}).then((s=>{a.hide(),e.frequencies=s.data.data})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},updateService(){if(!this.validateFields())return;let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"updateService",data:e.service}).then((s=>{a.hide(),e.$store.dispatch("success",s.data.message),e.$router.push("/services")})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getServiceTypes(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getServiceTypes"}).then((s=>{a.hide(),e.service_types=s.data.data,e.getFrequencies()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getServiceTypeFields(e){let a=this,s=a.$loading.show();a.deleted_service_attribute_values.length&&(a.service.deleted_service_attribute_values=a.deleted_service_attribute_values),a.$store.dispatch("post",{uri:"getServicesDropdown",data:{service_type_id:e}}).then((e=>{s.hide(),console.log("dropdown--",e.data.data),a.service.service_attributes=e.data.data})).catch((function(e){s.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},discard(){let e=this;e.service.service_type_id="",e.service.service_code="",e.service.service_name="",e.service.asset_types=[],e.service.frequency_id="",e.show_services=[],e.service.service_attributes=[],e.errors=[],e.status=!0}}};const mx=(0,Ce.c)(px,[["render",ux],["__scopeId","data-v-4242020a"]]);var _x=mx;const hx={class:""},bx={class:"d-sm-flex align-items-center justify-content-between mb-2"},vx={class:"breadcrumb fs-sm mb-1"},yx={class:"breadcrumb-item","aria-current":"page"},gx={class:"row"},Dx={class:"col-12"},Qx={class:"card card-one"},fx={class:"card-body"},kx={class:"table-responsive table-responsive-sm"},wx={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},Ax={class:"",style:{"background-color":"#9b9b9b",color:"white"}},Wx={key:0,class:"ri-arrow-up-line"},zx={key:1,class:"ri-arrow-down-line"},xx={key:2,class:"fas fa-sort"},Px={key:0,class:"ri-arrow-up-line"},Cx={key:1,class:"ri-arrow-down-line"},$x={key:2,class:"fas fa-sort"},Sx={key:0,class:"ri-arrow-up-line"},Ux={key:1,class:"ri-arrow-down-line"},Vx={key:2,class:"fas fa-sort"},jx={key:0,class:"ri-arrow-up-line"},Yx={key:1,class:"ri-arrow-down-line"},Tx={key:2,class:"fas fa-sort"},Nx={key:0},Rx={class:"text-center"},qx={class:"text-center"},Ex={class:"form-switch"},Kx=["id","checked","value","onChange"],Ix=["for"],Fx={class:"text-center"},Ox=["onClick"],Lx={class:"card-footer"},Bx={class:"d-flex justify-content-between align-items-center"};function Mx(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("Pagination");return(0,r.Wz)(),(0,r.An)("div",hx,[(0,r.QD)("div",bx,[(0,r.QD)("div",null,[(0,r.QD)("ol",vx,[(0,r.QD)("li",yx,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[7]||(a[7]=[(0,r.mY)("Dashboard")]))),_:1})]),a[8]||(a[8]=(0,r.QD)("li",{class:"breadcrumb-item"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Masters")],-1)),a[9]||(a[9]=(0,r.QD)("li",{class:"breadcrumb-item active","aria-current":"page"},"Services",-1))]),a[10]||(a[10]=(0,r.QD)("h4",{class:"main-title mb-0"},"Services",-1))]),(0,r.K2)(n,{to:"/services/create",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.Ql)((()=>a[11]||(a[11]=[(0,r.QD)("i",{class:"ri-list-check"},null,-1),(0,r.mY)(" ADD SERVICE")]))),_:1})]),(0,r.QD)("div",gx,[(0,r.QD)("div",Dx,[(0,r.QD)("div",Qx,[a[22]||(a[22]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Services")],-1)),(0,r.QD)("div",fx,[(0,r.wt)((0,r.QD)("input",{class:"form-control mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.search=e),onKeypress:a[1]||(a[1]=(0,t.jj)((e=>o.search()),["enter"]))},null,544),[[t.Og,i.meta.search]]),(0,r.QD)("div",kx,[(0,r.QD)("table",wx,[(0,r.QD)("thead",null,[(0,r.QD)("tr",Ax,[a[16]||(a[16]=(0,r.QD)("th",{class:"text-center"},"#",-1)),(0,r.QD)("th",{onClick:a[2]||(a[2]=e=>o.sort("service_type_id"))},[a[12]||(a[12]=(0,r.mY)("Service Type ")),(0,r.QD)("span",null,["service_type_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Wx)):"service_type_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",zx)):((0,r.Wz)(),(0,r.An)("i",xx))])]),(0,r.QD)("th",{onClick:a[3]||(a[3]=e=>o.sort("service_code"))},[a[13]||(a[13]=(0,r.mY)("Service Code ")),(0,r.QD)("span",null,["service_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Px)):"service_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Cx)):((0,r.Wz)(),(0,r.An)("i",$x))])]),(0,r.QD)("th",{onClick:a[4]||(a[4]=e=>o.sort("service_name"))},[a[14]||(a[14]=(0,r.mY)("Service Name ")),(0,r.QD)("span",null,["service_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Sx)):"service_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Ux)):((0,r.Wz)(),(0,r.An)("i",Vx))])]),(0,r.QD)("th",null,[a[15]||(a[15]=(0,r.mY)(" Asset Type. ")),(0,r.QD)("span",null,["asset_type_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",jx)):"asset_type_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Yx)):((0,r.Wz)(),(0,r.An)("i",Tx))])]),a[17]||(a[17]=(0,r.QD)("th",{class:"text-center"},"Status",-1)),a[18]||(a[18]=(0,r.QD)("th",{class:"text-center"},"Actions",-1))])]),(0,r.QD)("tbody",null,[0==i.services.length?((0,r.Wz)(),(0,r.An)("tr",Nx,a[19]||(a[19]=[(0,r.QD)("td",{colspan:"7",class:"text-center"},"No records found",-1)]))):(0,r.g1)("",!0),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.services,((e,s)=>((0,r.Wz)(),(0,r.An)("tr",{key:s},[(0,r.QD)("td",Rx,(0,d.WA)(i.meta.from+s),1),(0,r.QD)("td",null,(0,d.WA)(e.service_type?.service_type_name),1),(0,r.QD)("td",null,(0,d.WA)(e.service_code),1),(0,r.QD)("td",null,(0,d.WA)(e.service_name),1),(0,r.QD)("td",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(e.service_asset_types,((e,a)=>((0,r.Wz)(),(0,r.An)("span",{key:a},(0,d.WA)(e?.asset_types?.asset_type_name)+", ",1)))),128))]),(0,r.QD)("td",qx,[(0,r.QD)("div",Ex,[(0,r.QD)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"service"+e.service_id,checked:e.status,value:e.status,onChange:a=>o.deleteService(e)},null,40,Kx),(0,r.QD)("label",{class:"custom-control-label",for:"service"+e.service_id},null,8,Ix)])]),(0,r.QD)("td",Fx,[e.status?((0,r.Wz)(),(0,r.An)("a",{key:0,href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editService(e)},a[20]||(a[20]=[(0,r.QD)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,Ox)):(0,r.g1)("",!0)])])))),128))])])])]),(0,r.QD)("div",Lx,[(0,r.QD)("div",Bx,[(0,r.wt)((0,r.QD)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[5]||(a[5]=e=>i.meta.per_page=e),onChange:a[6]||(a[6]=(...a)=>e.onPerPageChange&&e.onPerPageChange(...a))},a[21]||(a[21]=[(0,r.QD)("option",null,"10",-1),(0,r.QD)("option",null,"15",-1),(0,r.QD)("option",null,"20",-1),(0,r.QD)("option",null,"25",-1),(0,r.QD)("option",null,"30",-1)]),544),[[t.Ip,i.meta.per_page]]),(0,r.QD)("span",null,"Showing "+(0,d.WA)(i.meta.from)+" to "+(0,d.WA)(i.meta.to)+" of "+(0,d.WA)(i.meta.totalRows)+" entries",1),(0,r.K2)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var Zx={components:{Pagination:Zt},data(){return{meta:{search:"",order_by:"asc",keyword:"service_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,maxPage:1},service:{service_id:""},services:[],errors:[],update:!1}},beforeRouteEnter(e,a,s){s((e=>{"Services.Edit"!=a.name?e.$store.commit("setCurrentPage",e.meta.page):e.meta.page=e.$store.getters.current_page}))},mounted(){this.index()},methods:{index(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"paginateServices",data:e.meta}).then((s=>{a.hide(),this.services=s.data.data,this.meta.totalRows=s.data.meta.total,this.meta.from=s.data.meta.from,this.meta.lastPage=s.data.meta.last_page,this.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},editService(e){this.$store.commit("setCurrentPage",this.meta.page),this.$router.push("/services/"+e.service_id+"/edit")},deleteService(e){let a=this,s=a.$loading.show();a.$store.dispatch("post",{uri:"deleteService",data:e}).then((e=>{s.hide(),a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){s.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},search(){let e=this;e.meta.page=1,e.index()}}};const Hx=(0,Ce.c)(Zx,[["render",Mx]]);var Jx=Hx;const Gx={class:""},Xx={class:"d-sm-flex align-items-center justify-content-between mb-2"},eP={class:"breadcrumb fs-sm mb-1"},aP={class:"breadcrumb-item"},sP={class:"breadcrumb-item active","aria-current":"page"},tP={key:0,class:"breadcrumb-item","aria-current":"page"},rP={key:1,class:"breadcrumb-item active","aria-current":"page"},lP={class:"row g-2"},iP={class:"col-12"},oP={class:"card card-one"},nP={class:"card-header d-flex justify-content-between"},dP={key:0,class:"card-title"},cP={key:1,class:"card-title"},uP={class:"card-body"},pP={class:"row g-2"},mP={class:"col-md-4"},_P={key:0},hP={class:"text-danger"},bP={class:"col-md-4"},vP={key:0,class:"invalid-feedback"},yP={class:"col-md-4"},gP={key:0,class:"invalid-feedback"},DP={key:0},QP={class:"form-label"},fP={key:0,class:"text-danger"},kP=["placeholder","onUpdate:modelValue"],wP={key:1,class:"invalid-feedback"},AP={key:1},WP={class:"form-label"},zP={key:0,class:"text-danger"},xP=["placeholder","onUpdate:modelValue"],PP={key:1,class:"invalid-feedback"},CP={key:2},$P={class:"form-label"},SP={key:0,class:"text-danger"},UP=["placeholder","onUpdate:modelValue"],VP={key:0,class:"invalid-feedback"},jP={key:3},YP={class:"form-label"},TP={key:0,class:"text-danger"},NP=["placeholder","onUpdate:modelValue"],RP={key:0,class:"invalid-feedback"},qP={key:4},EP={class:"form-label"},KP={key:0,class:"text-danger"},IP=["onUpdate:modelValue"],FP=["value"],OP=["value"],LP=["value"],BP={key:1,class:"invalid-feedback"},MP={key:5},ZP={class:"form-label"},HP={key:0,class:"text-danger"},JP=["onUpdate:modelValue"],GP={key:0,class:"invalid-feedback"},XP={key:6},eC={class:"form-label"},aC={key:0,class:"text-danger"},sC=["onUpdate:modelValue"],tC=["value"],rC=["value"],lC=["value"],iC={key:1,class:"invalid-feedback"},oC={class:"col-md-4"},nC={class:"form-group"},dC=["customClass"],cC={key:0},uC={class:"text-danger"},pC={key:0,class:"multiselect"},mC=["value"],_C={style:{"margin-left":"5px"}},hC={class:"card-footer text-end"},bC={type:"submit",class:"btn btn-primary"},vC={key:0},yC={key:1};function gC(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("search");return(0,r.Wz)(),(0,r.An)("div",Gx,[(0,r.QD)("div",Xx,[(0,r.QD)("div",null,[(0,r.QD)("ol",eP,[(0,r.QD)("li",aP,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[8]||(a[8]=[(0,r.mY)("Dashboard")]))),_:1})]),a[10]||(a[10]=(0,r.QD)("li",{class:"breadcrumb-item"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Masters")],-1)),(0,r.QD)("li",sP,[(0,r.K2)(n,{to:"/spares"},{default:(0,r.Ql)((()=>a[9]||(a[9]=[(0,r.mY)("Spares")]))),_:1})]),i.status?((0,r.Wz)(),(0,r.An)("li",tP,"New Spare")):((0,r.Wz)(),(0,r.An)("li",rP,"Update Spare"))]),a[11]||(a[11]=(0,r.QD)("h4",{class:"main-title mb-0"},"Spares",-1))]),(0,r.K2)(n,{to:"/spares",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.Ql)((()=>a[12]||(a[12]=[(0,r.QD)("i",{class:"ri-list-check"},null,-1),(0,r.mY)(" SPARES")]))),_:1})]),(0,r.QD)("div",lP,[(0,r.QD)("div",iP,[(0,r.QD)("form",{onSubmit:a[7]||(a[7]=(0,t.Y7)((e=>o.submitForm()),["prevent"]))},[(0,r.QD)("div",oP,[(0,r.QD)("div",nP,[i.status?((0,r.Wz)(),(0,r.An)("h6",dP,"Add Spare")):((0,r.Wz)(),(0,r.An)("h6",cP,"Update Spare"))]),(0,r.QD)("div",uP,[(0,r.QD)("div",pP,[(0,r.QD)("div",mP,[a[13]||(a[13]=(0,r.QD)("label",{class:"form-label"},"Spare Types",-1)),a[14]||(a[14]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.K2)(c,{class:(0,d.WN)({"is-invalid":i.errors.spare_type_id}),customClass:{"is-invalid":i.errors.spare_type_id},initialize:i.spare.spare_type_id,id:"spare_type_id",label:"spare_type_name",placeholder:"Select Spare Type",data:i.spare_types,onInput:a[0]||(a[0]=e=>i.spare.spare_type_id=e),onSelectsearch:a[1]||(a[1]=e=>o.getSpareTypeFields(i.spare))},null,8,["class","customClass","initialize","data"]),i.errors.spare_type_id?((0,r.Wz)(),(0,r.An)("span",_P,[(0,r.QD)("small",hP,(0,d.WA)(i.errors.spare_type_id[0]),1)])):(0,r.g1)("",!0)]),(0,r.QD)("div",bP,[a[15]||(a[15]=(0,r.QD)("label",{class:"form-label"},"Spare Code",-1)),a[16]||(a[16]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Spare Code",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.spare_code}]),"onUpdate:modelValue":a[2]||(a[2]=e=>i.spare.spare_code=e)},null,2),[[t.Og,i.spare.spare_code]]),i.errors.spare_code?((0,r.Wz)(),(0,r.An)("span",vP,(0,d.WA)(i.errors.spare_code[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",yP,[a[17]||(a[17]=(0,r.QD)("label",{class:"form-label"},"Spare Name",-1)),a[18]||(a[18]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Spare Name",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.spare_name}]),"onUpdate:modelValue":a[3]||(a[3]=e=>i.spare.spare_name=e)},null,2),[[t.Og,i.spare.spare_name]]),i.errors.spare_name?((0,r.Wz)(),(0,r.An)("span",gP,(0,d.WA)(i.errors.spare_name[0]),1)):(0,r.g1)("",!0)]),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.spare.spare_attributes,((e,a)=>((0,r.Wz)(),(0,r.An)("div",{class:"col-md-4",key:a},["Text"==e.field_type?((0,r.Wz)(),(0,r.An)("div",DP,[(0,r.QD)("label",QP,(0,d.WA)(e.display_name),1),e.is_required?((0,r.Wz)(),(0,r.An)("span",fP,"*")):(0,r.g1)("",!0),(0,r.wt)((0,r.QD)("input",{type:"text",class:(0,d.WN)(["form-control",{"is-invalid":i.errors[e.display_name]}]),placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.spare_attribute_value.field_value=a},null,10,kP),[[t.Og,e.spare_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.Wz)(),(0,r.An)("span",wP,(0,d.WA)(i.errors[e.display_name][0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0),"Number"==e.field_type?((0,r.Wz)(),(0,r.An)("div",AP,[(0,r.QD)("label",WP,(0,d.WA)(e.display_name),1),e.is_required?((0,r.Wz)(),(0,r.An)("span",zP,"*")):(0,r.g1)("",!0),(0,r.wt)((0,r.QD)("input",{type:"number",class:(0,d.WN)(["form-control",{"is-invalid":i.errors[e.display_name]}]),min:"0",oninput:"validity.valid||(value='');",placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.spare_attribute_value.field_value=a},null,10,xP),[[t.Og,e.spare_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.Wz)(),(0,r.An)("span",PP,(0,d.WA)(i.errors[e.display_name][0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0),"Date"===e.field_type?((0,r.Wz)(),(0,r.An)("div",CP,[(0,r.QD)("label",$P,[(0,r.mY)((0,d.WA)(e.display_name)+" ",1),e.is_required?((0,r.Wz)(),(0,r.An)("span",SP,"*")):(0,r.g1)("",!0)]),(0,r.wt)((0,r.QD)("input",{type:"date",class:(0,d.WN)(["form-control",{"is-invalid":i.errors[e.display_name]}]),placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.spare_attribute_value.field_value=a},null,10,UP),[[t.Og,e.spare_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.Wz)(),(0,r.An)("span",VP,(0,d.WA)(i.errors[e.display_name][0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0),"Date&Time"===e.field_type?((0,r.Wz)(),(0,r.An)("div",jP,[(0,r.QD)("label",YP,[(0,r.mY)((0,d.WA)(e.display_name)+" ",1),e.is_required?((0,r.Wz)(),(0,r.An)("span",TP,"*")):(0,r.g1)("",!0)]),(0,r.wt)((0,r.QD)("input",{type:"datetime-local",class:(0,d.WN)(["form-control",{"is-invalid":i.errors[e.display_name]}]),placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.spare_attribute_value.field_value=a,step:"1"},null,10,NP),[[t.Og,e.spare_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.Wz)(),(0,r.An)("span",RP,(0,d.WA)(i.errors[e.display_name][0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0),"Dropdown"==e.field_type?((0,r.Wz)(),(0,r.An)("div",qP,[(0,r.QD)("label",EP,(0,d.WA)(e.display_name),1),e.is_required?((0,r.Wz)(),(0,r.An)("span",KP,"*")):(0,r.g1)("",!0),(0,r.wt)((0,r.QD)("select",{class:(0,d.WN)(["form-control",{"is-invalid":i.errors[e.display_name]}]),"onUpdate:modelValue":a=>e.spare_attribute_value.field_value=a},[e.spare_attribute_value.field_value?((0,r.Wz)(),(0,r.An)("option",{key:0,value:e.spare_attribute_value.field_value},(0,d.WA)(e.spare_attribute_value.field_value),9,FP)):((0,r.Wz)(),(0,r.An)("option",{key:1,value:e.spare_attribute_value.field_value},"Select "+(0,d.WA)(e.display_name),9,OP)),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(e.field_values.split(","),((e,a)=>((0,r.Wz)(),(0,r.An)("option",{key:a,value:e},(0,d.WA)(e),9,LP)))),128))],10,IP),[[t.Ip,e.spare_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.Wz)(),(0,r.An)("span",BP,(0,d.WA)(i.errors[e.display_name][0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0),"Color"==e.field_type?((0,r.Wz)(),(0,r.An)("div",MP,[(0,r.QD)("label",ZP,[(0,r.mY)((0,d.WA)(e.display_name),1),e.is_required?((0,r.Wz)(),(0,r.An)("span",HP,"*")):(0,r.g1)("",!0)]),(0,r.wt)((0,r.QD)("input",{type:"color",class:"form-control","onUpdate:modelValue":a=>e.spare_attribute_value.field_value=a,style:{height:"2.2rem"}},null,8,JP),[[t.Og,e.spare_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.Wz)(),(0,r.An)("span",GP,(0,d.WA)(i.errors[e.display_name][0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0),"List"==e.field_type?((0,r.Wz)(),(0,r.An)("div",XP,[(0,r.QD)("label",eC,(0,d.WA)(e.display_name),1),e.is_required?((0,r.Wz)(),(0,r.An)("span",aC,"*")):(0,r.g1)("",!0),(0,r.wt)((0,r.QD)("select",{class:(0,d.WN)(["form-control",{"is-invalid":i.errors[e.display_name]}]),"onUpdate:modelValue":a=>e.spare_attribute_value.field_value=a},[e.spare_attribute_value.field_value?((0,r.Wz)(),(0,r.An)("option",{key:0,value:e.spare_attribute_value.field_value},(0,d.WA)(e.spare_attribute_value.field_value),9,tC)):((0,r.Wz)(),(0,r.An)("option",{key:1,value:e.spare_attribute_value.field_value},"Select "+(0,d.WA)(e.display_name),9,rC)),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(e.list_parameter?.field_values.split(","),((e,a)=>((0,r.Wz)(),(0,r.An)("option",{key:a,value:e},(0,d.WA)(e),9,lC)))),128))],10,sC),[[t.Ip,e.spare_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.Wz)(),(0,r.An)("span",iC,(0,d.WA)(i.errors[e.display_name][0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0)])))),128)),(0,r.QD)("div",oC,[(0,r.QD)("div",nC,[a[21]||(a[21]=(0,r.QD)("label",{class:"form-label"},"Assign To",-1)),a[22]||(a[22]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.QD)("div",{class:"dropdown",onClick:a[4]||(a[4]=e=>o.toggleAssetTypeStatus())},[a[20]||(a[20]=(0,r.QD)("div",{class:"overselect"},null,-1)),(0,r.QD)("select",{class:(0,d.WN)(["form-control",{"is-invalid":i.errors.asset_types}]),customClass:{"is-invalid":i.errors.asset_types}},a[19]||(a[19]=[(0,r.QD)("option",{value:""},"Select Assign To",-1)]),10,dC),i.errors.asset_types?((0,r.Wz)(),(0,r.An)("span",cC,[(0,r.QD)("small",uC,(0,d.WA)(i.errors.asset_types[0]),1)])):(0,r.g1)("",!0)]),i.asset_type_status?((0,r.Wz)(),(0,r.An)("div",pC,[(0,r.QD)("ul",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.asset_types,((e,s)=>((0,r.Wz)(),(0,r.An)("li",{class:"",key:s},[(0,r.wt)((0,r.QD)("input",{type:"checkbox",value:e.asset_type_id,"onUpdate:modelValue":a[5]||(a[5]=e=>i.spare.asset_types=e),style:{padding:"2px"}},null,8,mC),[[t.cV,i.spare.asset_types]]),(0,r.QD)("label",_C,(0,d.WA)(e.asset_type_name),1)])))),128))])])):(0,r.g1)("",!0)])])])]),(0,r.QD)("div",hC,[(0,r.QD)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[6]||(a[6]=e=>o.discard())},a[23]||(a[23]=[(0,r.QD)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.mY)(" Discard")])),(0,r.QD)("button",bC,[i.status?((0,r.Wz)(),(0,r.An)("span",vC,a[24]||(a[24]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Submit")]))):((0,r.Wz)(),(0,r.An)("span",yC,a[25]||(a[25]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Update")])))])])])],32)])])])}var DC={components:{Pagination:Zt,Search:Gr.c},data(){return{spares:[],spare:{spare_id:"",spare_type_id:"",spare_code:"",spare_name:"",spare_attributes:[],asset_types:[],frequency_id:"",deleted_spare_attribute_values:[]},deleted_spare_attribute_values:[],status:!0,errors:[],spare_types:[],asset_types:[],frequencies:[],show_spares:[],asset_type_status:!1}},beforeRouteEnter(e,a,s){s((a=>{if(a.getAssetTypes(),"Spares.Create"==e.name);else{a.status=!1;let s={uri:"getSpareData",data:{spare_id:e.params.spare_id}};a.$store.dispatch("post",s).then((function(e){a.spare=e.data.data,a.spare.spare_attributes.map((function(e){console.log(e),a.deleted_spare_attribute_values.push(e.spare_attribute_value.spare_attribute_value_id)})),a.spare.deleted_spare_attribute_values=[]})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}}))},methods:{toggleAssetTypeStatus(){this.asset_type_status=!this.asset_type_status},submitForm(){let e=this;e.status?e.addSpare():e.updateSpare()},validateFields(){let e=!0;this.errors={},this.spare.spare_code||(this.errors.spare_code=["Spare Code is required"],e=!1),this.spare.spare_name||(this.errors.spare_name=["Spare Name is required"],e=!1),this.spare.spare_type_id||(this.errors.spare_type_id=["Spare Type is required"],e=!1),0===this.spare.asset_types.length&&(this.errors.asset_types=["At least one Asset Type must be selected"],e=!1);for(const a of Object.values(this.spare.spare_attributes))a.is_required&&!a.spare_attribute_value.field_value&&(this.errors[a.display_name]=[`${a.display_name} is required`],e=!1);return e},addSpare(){if(!this.validateFields())return;let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"addSpare",data:e.spare}).then((s=>{a.hide(),e.$store.dispatch("success",s.data.message),e.$router.push("/spares")})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getAssetTypes(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssetTypes"}).then((s=>{a.hide(),e.asset_types=s.data.data,e.getSpareTypes()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getFrequencies(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getFrequencies"}).then((s=>{a.hide(),e.frequencies=s.data.data})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},updateSpare(){if(!this.validateFields())return;let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"updateSpare",data:e.spare}).then((s=>{a.hide(),e.$store.dispatch("success",s.data.message),e.$router.push("/spares")})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getSpareTypes(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getSpareTypes"}).then((s=>{a.hide(),e.spare_types=s.data.data,e.getFrequencies()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getSpareTypeFields(e){let a=this,s=a.$loading.show();a.deleted_spare_attribute_values.length&&(a.spare.deleted_spare_attribute_values=a.deleted_spare_attribute_values),a.$store.dispatch("post",{uri:"getSparesDropdown",data:e}).then((e=>{s.hide(),a.spare.spare_attributes=e.data.data})).catch((function(e){s.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},discard(){let e=this;e.spare.spare_type_id="",e.spare.spare_code="",e.spare.spare_name="",e.spare.asset_types=[],e.spare.frequency_id="",e.show_spares=[],e.spare.spare_attributes=[],e.errors=[],e.status=!0}}};const QC=(0,Ce.c)(DC,[["render",gC],["__scopeId","data-v-f7b02c38"]]);var fC=QC;const kC={class:""},wC={class:"d-sm-flex align-items-center justify-content-between mb-2"},AC={class:"breadcrumb fs-sm mb-1"},WC={class:"breadcrumb-item","aria-current":"page"},zC={class:"row"},xC={class:"col-12"},PC={class:"card card-one"},CC={class:"card-body"},$C={class:"table-responsive table-responsive-sm"},SC={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},UC={class:"",style:{"background-color":"#9b9b9b",color:"white"}},VC={key:0,class:"ri-arrow-up-line"},jC={key:1,class:"ri-arrow-down-line"},YC={key:2,class:"fas fa-sort"},TC={key:0,class:"ri-arrow-up-line"},NC={key:1,class:"ri-arrow-down-line"},RC={key:2,class:"fas fa-sort"},qC={key:0,class:"ri-arrow-up-line"},EC={key:1,class:"ri-arrow-down-line"},KC={key:2,class:"fas fa-sort"},IC={key:0,class:"ri-arrow-up-line"},FC={key:1,class:"ri-arrow-down-line"},OC={key:2,class:"fas fa-sort"},LC={key:0},BC={class:"text-center"},MC={class:"text-center"},ZC={class:"form-switch"},HC=["id","checked","value","onChange"],JC=["for"],GC={class:"text-center"},XC=["onClick"],e$={class:"card-footer"},a$={class:"d-flex justify-content-between align-items-center"};function s$(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("Pagination");return(0,r.Wz)(),(0,r.An)("div",kC,[(0,r.QD)("div",wC,[(0,r.QD)("div",null,[(0,r.QD)("ol",AC,[(0,r.QD)("li",WC,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[7]||(a[7]=[(0,r.mY)("Dashboard")]))),_:1})]),a[8]||(a[8]=(0,r.QD)("li",{class:"breadcrumb-item"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Masters")],-1)),a[9]||(a[9]=(0,r.QD)("li",{class:"breadcrumb-item active","aria-current":"page"},"Spares",-1))]),a[10]||(a[10]=(0,r.QD)("h4",{class:"main-title mb-0"},"Spares",-1))]),(0,r.K2)(n,{to:"/spares/create",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.Ql)((()=>a[11]||(a[11]=[(0,r.QD)("i",{class:"ri-list-check"},null,-1),(0,r.mY)(" ADD SPARE")]))),_:1})]),(0,r.QD)("div",zC,[(0,r.QD)("div",xC,[(0,r.QD)("div",PC,[a[22]||(a[22]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Spares")],-1)),(0,r.QD)("div",CC,[(0,r.wt)((0,r.QD)("input",{class:"form-control mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.search=e),onKeypress:a[1]||(a[1]=(0,t.jj)((e=>o.search()),["enter"]))},null,544),[[t.Og,i.meta.search]]),(0,r.QD)("div",$C,[(0,r.QD)("table",SC,[(0,r.QD)("thead",null,[(0,r.QD)("tr",UC,[a[16]||(a[16]=(0,r.QD)("th",{class:"text-center"},"#",-1)),(0,r.QD)("th",{onClick:a[2]||(a[2]=e=>o.sort("spare_type_id"))},[a[12]||(a[12]=(0,r.mY)(" Spare Type ")),(0,r.QD)("span",null,["spare_type_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",VC)):"spare_type_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",jC)):((0,r.Wz)(),(0,r.An)("i",YC))])]),(0,r.QD)("th",{onClick:a[3]||(a[3]=e=>o.sort("spare_code"))},[a[13]||(a[13]=(0,r.mY)(" Spare Code ")),(0,r.QD)("span",null,["spare_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",TC)):"spare_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",NC)):((0,r.Wz)(),(0,r.An)("i",RC))])]),(0,r.QD)("th",{onClick:a[4]||(a[4]=e=>o.sort("spare_name"))},[a[14]||(a[14]=(0,r.mY)(" Spare Name ")),(0,r.QD)("span",null,["spare_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",qC)):"spare_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",EC)):((0,r.Wz)(),(0,r.An)("i",KC))])]),(0,r.QD)("th",null,[a[15]||(a[15]=(0,r.mY)(" Asset Type. ")),(0,r.QD)("span",null,["asset_type_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",IC)):"asset_type_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",FC)):((0,r.Wz)(),(0,r.An)("i",OC))])]),a[17]||(a[17]=(0,r.QD)("th",{class:"text-center"},"Status",-1)),a[18]||(a[18]=(0,r.QD)("th",{class:"text-center"},"Actions",-1))])]),(0,r.QD)("tbody",null,[0==i.spares.length?((0,r.Wz)(),(0,r.An)("tr",LC,a[19]||(a[19]=[(0,r.QD)("td",{colspan:"7",class:"text-center"},"No records found",-1)]))):(0,r.g1)("",!0),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.spares,((e,s)=>((0,r.Wz)(),(0,r.An)("tr",{key:s},[(0,r.QD)("td",BC,(0,d.WA)(i.meta.from+s),1),(0,r.QD)("td",null,(0,d.WA)(e.spare_type?.spare_type_name),1),(0,r.QD)("td",null,(0,d.WA)(e.spare_code),1),(0,r.QD)("td",null,(0,d.WA)(e.spare_name),1),(0,r.QD)("td",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(e.spare_asset_types,((e,a)=>((0,r.Wz)(),(0,r.An)("span",{key:a},(0,d.WA)(e?.asset_types?.asset_type_name)+", ",1)))),128))]),(0,r.QD)("td",MC,[(0,r.QD)("div",ZC,[(0,r.QD)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"spare"+e.spare_id,checked:e.status,value:e.status,onChange:a=>o.deleteSpare(e)},null,40,HC),(0,r.QD)("label",{class:"custom-control-label",for:"spare"+e.spare_id},null,8,JC)])]),(0,r.QD)("td",GC,[e.status?((0,r.Wz)(),(0,r.An)("a",{key:0,href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editSpare(e)},a[20]||(a[20]=[(0,r.QD)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,XC)):(0,r.g1)("",!0)])])))),128))])])])]),(0,r.QD)("div",e$,[(0,r.QD)("div",a$,[(0,r.wt)((0,r.QD)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[5]||(a[5]=e=>i.meta.per_page=e),onChange:a[6]||(a[6]=(...a)=>e.onPerPageChange&&e.onPerPageChange(...a))},a[21]||(a[21]=[(0,r.QD)("option",null,"10",-1),(0,r.QD)("option",null,"15",-1),(0,r.QD)("option",null,"20",-1),(0,r.QD)("option",null,"25",-1),(0,r.QD)("option",null,"30",-1)]),544),[[t.Ip,i.meta.per_page]]),(0,r.QD)("span",null,"Showing "+(0,d.WA)(i.meta.from)+" to "+(0,d.WA)(i.meta.to)+" of "+(0,d.WA)(i.meta.totalRows)+" entries",1),(0,r.K2)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var t$={components:{Pagination:Zt},data(){return{meta:{search:"",order_by:"asc",keyword:"spare_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,maxPage:1},spare:{spare_id:""},spares:[],errors:[],update:!1}},beforeRouteEnter(e,a,s){s((e=>{"Spares.Edit"!=a.name?e.$store.commit("setCurrentPage",e.meta.page):e.meta.page=e.$store.getters.current_page}))},mounted(){this.index()},methods:{index(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"paginateSpares",data:e.meta}).then((s=>{a.hide(),this.spares=s.data.data,this.meta.totalRows=s.data.meta.total,this.meta.from=s.data.meta.from,this.meta.lastPage=s.data.meta.last_page,this.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},editSpare(e){this.$store.commit("setCurrentPage",this.meta.page),this.$router.push("/spares/"+e.spare_id+"/edit")},deleteSpare(e){let a=this,s=a.$loading.show();a.$store.dispatch("post",{uri:"deleteSpare",data:e}).then((e=>{s.hide(),a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){s.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},search(){let e=this;e.meta.page=1,e.index()}}};const r$=(0,Ce.c)(t$,[["render",s$]]);var l$=r$;const i$={class:""},o$={class:"d-sm-flex align-items-center justify-content-between mb-2"},n$={class:"breadcrumb fs-sm mb-1"},d$={class:"breadcrumb-item"},c$={class:"breadcrumb-item active","aria-current":"page"},u$={key:0,class:"breadcrumb-item","aria-current":"page"},p$={key:1,class:"breadcrumb-item active","aria-current":"page"},m$={class:"row g-2"},_$={class:"col-12"},h$={class:"card card-one"},b$={class:"card-header d-flex justify-content-between"},v$={key:0,class:"card-title"},y$={key:1,class:"card-title"},g$={class:"card-body"},D$={class:"row g-2"},Q$={class:"col-md-4"},f$={key:0},k$={class:"text-danger"},w$={class:"col-md-4"},A$={key:0,class:"invalid-feedback"},W$={class:"col-md-4"},z$={key:0,class:"invalid-feedback"},x$={key:0},P$={class:"form-label"},C$={key:0,class:"text-danger"},$$=["placeholder","onUpdate:modelValue"],S$={key:1,class:"invalid-feedback"},U$={key:1},V$={class:"form-label"},j$={key:0,class:"text-danger"},Y$=["placeholder","onUpdate:modelValue"],T$={key:1,class:"invalid-feedback"},N$={key:2},R$={class:"form-label"},q$={key:0,class:"text-danger"},E$=["placeholder","onUpdate:modelValue"],K$={key:0,class:"invalid-feedback"},I$={key:3},F$={class:"form-label"},O$={key:0,class:"text-danger"},L$=["placeholder","onUpdate:modelValue"],B$={key:0,class:"invalid-feedback"},M$={key:4},Z$={class:"form-label"},H$={key:0,class:"text-danger"},J$=["onUpdate:modelValue"],G$=["value"],X$=["value"],eS=["value"],aS={key:1,class:"invalid-feedback"},sS={key:5},tS={class:"form-label"},rS={key:0,class:"text-danger"},lS=["onUpdate:modelValue"],iS={key:0,class:"invalid-feedback"},oS={key:6},nS={class:"form-label"},dS={key:0,class:"text-danger"},cS=["onUpdate:modelValue"],uS=["value"],pS=["value"],mS=["value"],_S={key:1,class:"invalid-feedback"},hS={class:"col-md-4"},bS={class:"form-group"},vS=["customClass"],yS={key:0},gS={class:"text-danger"},DS={key:0,class:"multiselect"},QS=["value"],fS={style:{"margin-left":"5px"}},kS={class:"card-footer text-end"},wS={type:"submit",class:"btn btn-primary"},AS={key:0},WS={key:1};function zS(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("search");return(0,r.Wz)(),(0,r.An)("div",i$,[(0,r.QD)("div",o$,[(0,r.QD)("div",null,[(0,r.QD)("ol",n$,[(0,r.QD)("li",d$,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[8]||(a[8]=[(0,r.mY)("Dashboard")]))),_:1})]),a[10]||(a[10]=(0,r.QD)("li",{class:"breadcrumb-item"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Masters")],-1)),(0,r.QD)("li",c$,[(0,r.K2)(n,{to:"/variables"},{default:(0,r.Ql)((()=>a[9]||(a[9]=[(0,r.mY)("Variables")]))),_:1})]),i.status?((0,r.Wz)(),(0,r.An)("li",u$,"New Variable")):((0,r.Wz)(),(0,r.An)("li",p$,"Update Variable"))]),a[11]||(a[11]=(0,r.QD)("h4",{class:"main-title mb-0"},"Variables",-1))]),(0,r.K2)(n,{to:"/variables",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.Ql)((()=>a[12]||(a[12]=[(0,r.QD)("i",{class:"ri-list-check"},null,-1),(0,r.mY)(" VARIABLES")]))),_:1})]),(0,r.QD)("div",m$,[(0,r.QD)("div",_$,[(0,r.QD)("form",{onSubmit:a[7]||(a[7]=(0,t.Y7)((e=>o.submitForm()),["prevent"]))},[(0,r.QD)("div",h$,[(0,r.QD)("div",b$,[i.status?((0,r.Wz)(),(0,r.An)("h6",v$,"Add Variable")):((0,r.Wz)(),(0,r.An)("h6",y$,"Update Variable"))]),(0,r.QD)("div",g$,[(0,r.QD)("div",D$,[(0,r.QD)("div",Q$,[a[13]||(a[13]=(0,r.QD)("label",{class:"form-label"},"Variable Types",-1)),a[14]||(a[14]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.K2)(c,{class:(0,d.WN)({"is-invalid":i.errors.variable_type_id}),customClass:{"is-invalid":i.errors.variable_type_id},initialize:i.variable.variable_type_id,id:"variable_type_id",label:"variable_type_name",placeholder:"Select Variable Type",data:i.variable_types,onInput:a[0]||(a[0]=e=>i.variable.variable_type_id=e),onSelectsearch:a[1]||(a[1]=e=>o.getVariableTypeFields(i.variable.variable_type_id))},null,8,["class","customClass","initialize","data"]),i.errors.variable_type_id?((0,r.Wz)(),(0,r.An)("span",f$,[(0,r.QD)("small",k$,(0,d.WA)(i.errors.variable_type_id[0]),1)])):(0,r.g1)("",!0)]),(0,r.QD)("div",w$,[a[15]||(a[15]=(0,r.QD)("label",{class:"form-label"},"Variable Code",-1)),a[16]||(a[16]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Variable Code",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.variable_code}]),"onUpdate:modelValue":a[2]||(a[2]=e=>i.variable.variable_code=e)},null,2),[[t.Og,i.variable.variable_code]]),i.errors.variable_code?((0,r.Wz)(),(0,r.An)("span",A$,(0,d.WA)(i.errors.variable_code[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",W$,[a[17]||(a[17]=(0,r.QD)("label",{class:"form-label"},"Variable Name",-1)),a[18]||(a[18]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Variable Name",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.variable_name}]),"onUpdate:modelValue":a[3]||(a[3]=e=>i.variable.variable_name=e)},null,2),[[t.Og,i.variable.variable_name]]),i.errors.variable_name?((0,r.Wz)(),(0,r.An)("span",z$,(0,d.WA)(i.errors.variable_name[0]),1)):(0,r.g1)("",!0)]),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.variable.variable_attributes,((e,a)=>((0,r.Wz)(),(0,r.An)("div",{class:"col-md-4",key:a},["Text"==e.field_type?((0,r.Wz)(),(0,r.An)("div",x$,[(0,r.QD)("label",P$,(0,d.WA)(e.display_name),1),e.is_required?((0,r.Wz)(),(0,r.An)("span",C$,"*")):(0,r.g1)("",!0),(0,r.wt)((0,r.QD)("input",{type:"text",class:(0,d.WN)(["form-control",{"is-invalid":i.errors[e.display_name]}]),placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.variable_attribute_value.field_value=a},null,10,$$),[[t.Og,e.variable_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.Wz)(),(0,r.An)("span",S$,(0,d.WA)(i.errors[e.display_name][0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0),"Number"==e.field_type?((0,r.Wz)(),(0,r.An)("div",U$,[(0,r.QD)("label",V$,(0,d.WA)(e.display_name),1),e.is_required?((0,r.Wz)(),(0,r.An)("span",j$,"*")):(0,r.g1)("",!0),(0,r.wt)((0,r.QD)("input",{type:"number",class:(0,d.WN)(["form-control",{"is-invalid":i.errors[e.display_name]}]),min:"0",oninput:"validity.valid||(value='');",placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.variable_attribute_value.field_value=a},null,10,Y$),[[t.Og,e.variable_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.Wz)(),(0,r.An)("span",T$,(0,d.WA)(i.errors[e.display_name][0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0),"Date"===e.field_type?((0,r.Wz)(),(0,r.An)("div",N$,[(0,r.QD)("label",R$,[(0,r.mY)((0,d.WA)(e.display_name)+" ",1),e.is_required?((0,r.Wz)(),(0,r.An)("span",q$,"*")):(0,r.g1)("",!0)]),(0,r.wt)((0,r.QD)("input",{type:"date",class:(0,d.WN)(["form-control",{"is-invalid":i.errors[e.display_name]}]),placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.variable_attribute_value.field_value=a},null,10,E$),[[t.Og,e.variable_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.Wz)(),(0,r.An)("span",K$,(0,d.WA)(i.errors[e.display_name][0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0),"Date&Time"===e.field_type?((0,r.Wz)(),(0,r.An)("div",I$,[(0,r.QD)("label",F$,[(0,r.mY)((0,d.WA)(e.display_name)+" ",1),e.is_required?((0,r.Wz)(),(0,r.An)("span",O$,"*")):(0,r.g1)("",!0)]),(0,r.wt)((0,r.QD)("input",{type:"datetime-local",class:(0,d.WN)(["form-control",{"is-invalid":i.errors[e.display_name]}]),placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.variable_attribute_value.field_value=a,step:"1"},null,10,L$),[[t.Og,e.variable_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.Wz)(),(0,r.An)("span",B$,(0,d.WA)(i.errors[e.display_name][0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0),"Dropdown"==e.field_type?((0,r.Wz)(),(0,r.An)("div",M$,[(0,r.QD)("label",Z$,(0,d.WA)(e.display_name),1),e.is_required?((0,r.Wz)(),(0,r.An)("span",H$,"*")):(0,r.g1)("",!0),(0,r.wt)((0,r.QD)("select",{class:(0,d.WN)(["form-control",{"is-invalid":i.errors[e.display_name]}]),"onUpdate:modelValue":a=>e.variable_attribute_value.field_value=a},[e.variable_attribute_value.field_value?((0,r.Wz)(),(0,r.An)("option",{key:0,value:e.variable_attribute_value.field_value},(0,d.WA)(e.variable_attribute_value.field_value),9,G$)):((0,r.Wz)(),(0,r.An)("option",{key:1,value:e.variable_attribute_value.field_value},"Select "+(0,d.WA)(e.display_name),9,X$)),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(e.field_values.split(","),((e,a)=>((0,r.Wz)(),(0,r.An)("option",{key:a,value:e},(0,d.WA)(e),9,eS)))),128))],10,J$),[[t.Ip,e.variable_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.Wz)(),(0,r.An)("span",aS,(0,d.WA)(i.errors[e.display_name][0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0),"Color"==e.field_type?((0,r.Wz)(),(0,r.An)("div",sS,[(0,r.QD)("label",tS,[(0,r.mY)((0,d.WA)(e.display_name),1),e.is_required?((0,r.Wz)(),(0,r.An)("span",rS,"*")):(0,r.g1)("",!0)]),(0,r.wt)((0,r.QD)("input",{type:"color",class:"form-control","onUpdate:modelValue":a=>e.variable_attribute_value.field_value=a,style:{height:"2.2rem"}},null,8,lS),[[t.Og,e.variable_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.Wz)(),(0,r.An)("span",iS,(0,d.WA)(i.errors[e.display_name][0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0),"List"==e.field_type?((0,r.Wz)(),(0,r.An)("div",oS,[(0,r.QD)("label",nS,(0,d.WA)(e.display_name),1),e.is_required?((0,r.Wz)(),(0,r.An)("span",dS,"*")):(0,r.g1)("",!0),(0,r.wt)((0,r.QD)("select",{class:(0,d.WN)(["form-control",{"is-invalid":i.errors[e.display_name]}]),"onUpdate:modelValue":a=>e.variable_attribute_value.field_value=a},[e.variable_attribute_value.field_value?((0,r.Wz)(),(0,r.An)("option",{key:0,value:e.variable_attribute_value.field_value},(0,d.WA)(e.variable_attribute_value.field_value),9,uS)):((0,r.Wz)(),(0,r.An)("option",{key:1,value:e.variable_attribute_value.field_value},"Select "+(0,d.WA)(e.display_name),9,pS)),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(e.list_parameter?.field_values.split(","),((e,a)=>((0,r.Wz)(),(0,r.An)("option",{key:a,value:e},(0,d.WA)(e),9,mS)))),128))],10,cS),[[t.Ip,e.variable_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.Wz)(),(0,r.An)("span",_S,(0,d.WA)(i.errors[e.display_name][0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0)])))),128)),(0,r.QD)("div",hS,[(0,r.QD)("div",bS,[a[21]||(a[21]=(0,r.QD)("label",{class:"form-label"},"Assign To",-1)),a[22]||(a[22]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.QD)("div",{class:"dropdown",onClick:a[4]||(a[4]=e=>o.toggleAssetTypeStatus())},[a[20]||(a[20]=(0,r.QD)("div",{class:"overselect"},null,-1)),(0,r.QD)("select",{class:(0,d.WN)(["form-control",{"is-invalid":i.errors.asset_types}]),customClass:{"is-invalid":i.errors.asset_types}},a[19]||(a[19]=[(0,r.QD)("option",{value:""},"Select Assign To",-1)]),10,vS),i.errors.asset_types?((0,r.Wz)(),(0,r.An)("span",yS,[(0,r.QD)("small",gS,(0,d.WA)(i.errors.asset_types[0]),1)])):(0,r.g1)("",!0)]),i.asset_type_status?((0,r.Wz)(),(0,r.An)("div",DS,[(0,r.QD)("ul",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.asset_types,((e,s)=>((0,r.Wz)(),(0,r.An)("li",{class:"",key:s},[(0,r.wt)((0,r.QD)("input",{type:"checkbox",value:e.asset_type_id,"onUpdate:modelValue":a[5]||(a[5]=e=>i.variable.asset_types=e),style:{padding:"2px"}},null,8,QS),[[t.cV,i.variable.asset_types]]),(0,r.QD)("label",fS,(0,d.WA)(e.asset_type_name),1)])))),128))])])):(0,r.g1)("",!0)])])])]),(0,r.QD)("div",kS,[(0,r.QD)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[6]||(a[6]=e=>o.discard())},a[23]||(a[23]=[(0,r.QD)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.mY)(" Discard")])),(0,r.QD)("button",wS,[i.status?((0,r.Wz)(),(0,r.An)("span",AS,a[24]||(a[24]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Submit")]))):((0,r.Wz)(),(0,r.An)("span",WS,a[25]||(a[25]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Update")])))])])])],32)])])])}var xS={components:{Pagination:Zt,Search:Gr.c},data(){return{variables:[],variable:{variable_id:"",variable_type_id:"",variable_code:"",variable_name:"",variable_attributes:[],asset_types:[],frequency_id:"",deleted_variable_attribute_values:[]},status:!0,errors:[],deleted_variable_attribute_values:[],variable_types:[],asset_types:[],frequencies:[],show_variables:[],asset_type_status:!1}},beforeRouteEnter(e,a,s){s((a=>{if(a.getAssetTypes(),"Variables.Create"==e.name);else{a.status=!1;let s={uri:"getVariableData",data:{variable_id:e.params.variable_id}};a.$store.dispatch("post",s).then((function(e){a.variable=e.data.data,a.variable.variable_attributes.map((function(e){a.deleted_variable_attribute_values.push(e.variable_attribute_value.variable_attribute_value_id)})),a.variable.deleted_variable_attribute_values=[]})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}}))},methods:{toggleAssetTypeStatus(){this.asset_type_status=!this.asset_type_status},submitForm(){let e=this;e.status?e.addVariable():e.updateVariable()},validateFields(){let e=!0;this.errors={},this.variable.variable_code||(this.errors.variable_code=["Variable Code is required"],e=!1),this.variable.variable_name||(this.errors.variable_name=["Variable Name is required"],e=!1),this.variable.variable_type_id||(this.errors.variable_type_id=["Variable Type is required"],e=!1),0===this.variable.asset_types.length&&(this.errors.asset_types=["At least one Asset Type must be selected"],e=!1);for(const a of Object.values(this.variable.variable_attributes))a.is_required&&!a.variable_attribute_value.field_value&&(this.errors[a.display_name]=[`${a.display_name} is required`],e=!1);return e},addVariable(){if(!this.validateFields())return;let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"addVariable",data:e.variable}).then((s=>{a.hide(),e.$store.dispatch("success",s.data.message),e.$router.push("/variables")})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getAssetTypes(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssetTypes"}).then((s=>{a.hide(),e.asset_types=s.data.data,e.getVariableTypes()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getFrequencies(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getFrequencies"}).then((s=>{a.hide(),e.frequencies=s.data.data})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},updateVariable(){if(!this.validateFields())return;let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"updateVariable",data:e.variable}).then((s=>{a.hide(),e.$store.dispatch("success",s.data.message),e.$router.push("/variables")})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getVariableTypes(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getVariableTypes"}).then((s=>{a.hide(),e.variable_types=s.data.data,e.getFrequencies()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getVariableTypeFields(e){let a=this,s=a.$loading.show();a.deleted_variable_attribute_values.length&&(a.variable.deleted_variable_attribute_values=a.deleted_variable_attribute_values),a.$store.dispatch("post",{uri:"getVariablesDropdown",data:{variable_type_id:e}}).then((e=>{s.hide(),a.variable.variable_attributes=e.data.data})).catch((function(e){s.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},discard(){let e=this;e.variable.variable_type_id="",e.variable.variable_code="",e.variable.variable_name="",e.variable.asset_types=[],e.variable.frequency_id="",e.show_variables=[],e.variable.variable_attributes=[],e.errors=[],e.status=!0}}};const PS=(0,Ce.c)(xS,[["render",zS],["__scopeId","data-v-17f032f2"]]);var CS=PS;const $S={class:""},SS={class:"d-sm-flex align-items-center justify-content-between mb-2"},US={class:"breadcrumb fs-sm mb-1"},VS={class:"breadcrumb-item","aria-current":"page"},jS={class:"row"},YS={class:"col-12"},TS={class:"card card-one"},NS={class:"card-body"},RS={class:"table-responsive table-responsive-sm"},qS={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},ES={class:"",style:{"background-color":"#9b9b9b",color:"white"}},KS={key:0,class:"ri-arrow-up-line"},IS={key:1,class:"ri-arrow-down-line"},FS={key:2,class:"fas fa-sort"},OS={key:0,class:"ri-arrow-up-line"},LS={key:1,class:"ri-arrow-down-line"},BS={key:2,class:"fas fa-sort"},MS={key:0,class:"ri-arrow-up-line"},ZS={key:1,class:"ri-arrow-down-line"},HS={key:2,class:"fas fa-sort"},JS={key:0,class:"ri-arrow-up-line"},GS={key:1,class:"ri-arrow-down-line"},XS={key:2,class:"fas fa-sort"},eU={key:0},aU={class:"text-center"},sU={class:"text-center"},tU={class:"form-switch"},rU=["id","checked","value","onChange"],lU=["for"],iU={class:"text-center"},oU=["onClick"],nU={class:"card-footer"},dU={class:"d-flex justify-content-between align-items-center"};function cU(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("Pagination");return(0,r.Wz)(),(0,r.An)("div",$S,[(0,r.QD)("div",SS,[(0,r.QD)("div",null,[(0,r.QD)("ol",US,[(0,r.QD)("li",VS,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[7]||(a[7]=[(0,r.mY)("Dashboard")]))),_:1})]),a[8]||(a[8]=(0,r.QD)("li",{class:"breadcrumb-item"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Masters")],-1)),a[9]||(a[9]=(0,r.QD)("li",{class:"breadcrumb-item active","aria-current":"page"},"Variables",-1))]),a[10]||(a[10]=(0,r.QD)("h4",{class:"main-title mb-0"},"Variables",-1))]),(0,r.K2)(n,{to:"/variables/create",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.Ql)((()=>a[11]||(a[11]=[(0,r.QD)("i",{class:"ri-list-check"},null,-1),(0,r.mY)(" ADD VARIABLE")]))),_:1})]),(0,r.QD)("div",jS,[(0,r.QD)("div",YS,[(0,r.QD)("div",TS,[a[22]||(a[22]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Variables")],-1)),(0,r.QD)("div",NS,[(0,r.wt)((0,r.QD)("input",{class:"form-control mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.search=e),onKeypress:a[1]||(a[1]=(0,t.jj)((e=>o.search()),["enter"]))},null,544),[[t.Og,i.meta.search]]),(0,r.QD)("div",RS,[(0,r.QD)("table",qS,[(0,r.QD)("thead",null,[(0,r.QD)("tr",ES,[a[16]||(a[16]=(0,r.QD)("th",{class:"text-center"},"#",-1)),(0,r.QD)("th",{onClick:a[2]||(a[2]=e=>o.sort("variable_type_id"))},[a[12]||(a[12]=(0,r.mY)(" Variable Type ")),(0,r.QD)("span",null,["variable_type_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",KS)):"variable_type_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",IS)):((0,r.Wz)(),(0,r.An)("i",FS))])]),(0,r.QD)("th",{onClick:a[3]||(a[3]=e=>o.sort("variable_code"))},[a[13]||(a[13]=(0,r.mY)(" Variable Code ")),(0,r.QD)("span",null,["variable_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",OS)):"variable_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",LS)):((0,r.Wz)(),(0,r.An)("i",BS))])]),(0,r.QD)("th",{onClick:a[4]||(a[4]=e=>o.sort("variable_name"))},[a[14]||(a[14]=(0,r.mY)(" Variable Name ")),(0,r.QD)("span",null,["variable_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",MS)):"variable_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",ZS)):((0,r.Wz)(),(0,r.An)("i",HS))])]),(0,r.QD)("th",null,[a[15]||(a[15]=(0,r.mY)(" Asset Type. ")),(0,r.QD)("span",null,["asset_type_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",JS)):"asset_type_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",GS)):((0,r.Wz)(),(0,r.An)("i",XS))])]),a[17]||(a[17]=(0,r.QD)("th",{class:"text-center"},"Status",-1)),a[18]||(a[18]=(0,r.QD)("th",{class:"text-center"},"Actions",-1))])]),(0,r.QD)("tbody",null,[0==i.variables.length?((0,r.Wz)(),(0,r.An)("tr",eU,a[19]||(a[19]=[(0,r.QD)("td",{colspan:"7",class:"text-center"},"No records found",-1)]))):(0,r.g1)("",!0),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.variables,((e,s)=>((0,r.Wz)(),(0,r.An)("tr",{key:s},[(0,r.QD)("td",aU,(0,d.WA)(i.meta.from+s),1),(0,r.QD)("td",null,(0,d.WA)(e.variable_type?.variable_type_name),1),(0,r.QD)("td",null,(0,d.WA)(e.variable_code),1),(0,r.QD)("td",null,(0,d.WA)(e.variable_name),1),(0,r.QD)("td",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(e.variable_asset_types,((e,a)=>((0,r.Wz)(),(0,r.An)("span",{key:a},(0,d.WA)(e?.asset_types?.asset_type_name)+", ",1)))),128))]),(0,r.QD)("td",sU,[(0,r.QD)("div",tU,[(0,r.QD)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"variable"+e.variable_id,checked:e.status,value:e.status,onChange:a=>o.deleteVariable(e)},null,40,rU),(0,r.QD)("label",{class:"custom-control-label",for:"variable"+e.variable_id},null,8,lU)])]),(0,r.QD)("td",iU,[e.status?((0,r.Wz)(),(0,r.An)("a",{key:0,href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editVariable(e)},a[20]||(a[20]=[(0,r.QD)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,oU)):(0,r.g1)("",!0)])])))),128))])])])]),(0,r.QD)("div",nU,[(0,r.QD)("div",dU,[(0,r.wt)((0,r.QD)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[5]||(a[5]=e=>i.meta.per_page=e),onChange:a[6]||(a[6]=(...a)=>e.onPerPageChange&&e.onPerPageChange(...a))},a[21]||(a[21]=[(0,r.QD)("option",null,"10",-1),(0,r.QD)("option",null,"15",-1),(0,r.QD)("option",null,"20",-1),(0,r.QD)("option",null,"25",-1),(0,r.QD)("option",null,"30",-1)]),544),[[t.Ip,i.meta.per_page]]),(0,r.QD)("span",null,"Showing "+(0,d.WA)(i.meta.from)+" to "+(0,d.WA)(i.meta.to)+" of "+(0,d.WA)(i.meta.totalRows)+" entries",1),(0,r.K2)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var uU={components:{Pagination:Zt},data(){return{meta:{search:"",order_by:"asc",keyword:"variable_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,maxPage:1},variable:{variable_id:""},variables:[],errors:[],update:!1}},beforeRouteEnter(e,a,s){s((e=>{"Variables.Edit"!=a.name?e.$store.commit("setCurrentPage",e.meta.page):e.meta.page=e.$store.getters.current_page}))},mounted(){this.index()},methods:{index(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"paginateVariables",data:e.meta}).then((s=>{a.hide(),this.variables=s.data.data,this.meta.totalRows=s.data.meta.total,this.meta.from=s.data.meta.from,this.meta.lastPage=s.data.meta.last_page,this.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},editVariable(e){this.$store.commit("setCurrentPage",this.meta.page),this.$router.push("/variables/"+e.variable_id+"/edit")},deleteVariable(e){let a=this,s=a.$loading.show();a.$store.dispatch("post",{uri:"deleteVariable",data:e}).then((e=>{s.hide(),a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){s.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},search(){let e=this;e.meta.page=1,e.index()}}};const pU=(0,Ce.c)(uU,[["render",cU]]);var mU=pU;const _U={class:""},hU={class:"d-sm-flex align-items-center justify-content-between mb-2"},bU={class:"breadcrumb fs-sm mb-1"},vU={class:"breadcrumb-item"},yU={class:"breadcrumb-item active","aria-current":"page"},gU={key:0,class:"breadcrumb-item","aria-current":"page"},DU={key:1,class:"breadcrumb-item active","aria-current":"page"},QU={class:"row g-2"},fU={class:"col-12"},kU={class:"card card-one"},wU={class:"card-header d-flex justify-content-between"},AU={key:0,class:"card-title"},WU={key:1,class:"card-title"},zU={class:"card-body"},xU={class:"row g-2"},PU={class:"col-md-4"},CU={key:0},$U={class:"text-danger"},SU={class:"col-md-4"},UU={key:0,class:"invalid-feedback"},VU={class:"col-md-4"},jU={key:0,class:"invalid-feedback"},YU={key:0},TU={class:"form-label"},NU={key:0,class:"text-danger"},RU=["placeholder","onUpdate:modelValue"],qU={key:1,class:"invalid-feedback"},EU={key:1},KU={class:"form-label"},IU={key:0,class:"text-danger"},FU=["placeholder","onUpdate:modelValue"],OU={key:1,class:"invalid-feedback"},LU={key:2},BU={class:"form-label"},MU={key:0,class:"text-danger"},ZU=["placeholder","onUpdate:modelValue"],HU={key:0,class:"invalid-feedback"},JU={key:3},GU={class:"form-label"},XU={key:0,class:"text-danger"},eV=["placeholder","onUpdate:modelValue"],aV={key:0,class:"invalid-feedback"},sV={key:4},tV={class:"form-label"},rV={key:0,class:"text-danger"},lV=["onUpdate:modelValue"],iV=["value"],oV=["value"],nV=["value"],dV={key:1,class:"invalid-feedback"},cV={key:5},uV={class:"form-label"},pV={key:0,class:"text-danger"},mV=["onUpdate:modelValue"],_V={key:0,class:"invalid-feedback"},hV={key:6},bV={class:"form-label"},vV={key:0,class:"text-danger"},yV=["onUpdate:modelValue"],gV=["value"],DV=["value"],QV=["value"],fV={key:1,class:"invalid-feedback"},kV={class:"col-md-4"},wV={class:"form-group"},AV=["customClass"],WV={key:0},zV={class:"text-danger"},xV={key:0,class:"multiselect"},PV=["value"],CV={style:{"margin-left":"5px"}},$V={class:"card-footer text-end"},SV={type:"submit",class:"btn btn-primary"},UV={key:0},VV={key:1};function jV(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("search");return(0,r.Wz)(),(0,r.An)("div",_U,[(0,r.QD)("div",hU,[(0,r.QD)("div",null,[(0,r.QD)("ol",bU,[(0,r.QD)("li",vU,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[8]||(a[8]=[(0,r.mY)("Dashboard")]))),_:1})]),a[10]||(a[10]=(0,r.QD)("li",{class:"breadcrumb-item"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Masters")],-1)),(0,r.QD)("li",yU,[(0,r.K2)(n,{to:"/data_sources"},{default:(0,r.Ql)((()=>a[9]||(a[9]=[(0,r.mY)("Data Sources")]))),_:1})]),i.status?((0,r.Wz)(),(0,r.An)("li",gU,"New Data Source")):((0,r.Wz)(),(0,r.An)("li",DU,"Update Data Source"))]),a[11]||(a[11]=(0,r.QD)("h4",{class:"main-title mb-0"},"Data Sources",-1))]),(0,r.K2)(n,{to:"/data_sources",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.Ql)((()=>a[12]||(a[12]=[(0,r.QD)("i",{class:"ri-list-check"},null,-1),(0,r.mY)(" DATA SOURCES")]))),_:1})]),(0,r.QD)("div",QU,[(0,r.QD)("div",fU,[(0,r.QD)("form",{onSubmit:a[7]||(a[7]=(0,t.Y7)((e=>o.submitForm()),["prevent"]))},[(0,r.QD)("div",kU,[(0,r.QD)("div",wU,[i.status?((0,r.Wz)(),(0,r.An)("h6",AU,"Add Data Source")):((0,r.Wz)(),(0,r.An)("h6",WU,"Update Data Source"))]),(0,r.QD)("div",zU,[(0,r.QD)("div",xU,[(0,r.QD)("div",PU,[a[13]||(a[13]=(0,r.QD)("label",{class:"form-label"},"Data Source Types",-1)),a[14]||(a[14]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.K2)(c,{class:(0,d.WN)({"is-invalid":i.errors.data_source_type_id}),customClass:{"is-invalid":i.errors.data_source_type_id},initialize:i.data_source.data_source_type_id,id:"data_source_type_id",label:"data_source_type_name",placeholder:"Select Data Source Type",data:i.data_source_types,onInput:a[0]||(a[0]=e=>i.data_source.data_source_type_id=e),onSelectsearch:a[1]||(a[1]=e=>o.getDataSourceTypeFields(i.data_source.data_source_type_id))},null,8,["class","customClass","initialize","data"]),i.errors.data_source_type_id?((0,r.Wz)(),(0,r.An)("span",CU,[(0,r.QD)("small",$U,(0,d.WA)(i.errors.data_source_type_id[0]),1)])):(0,r.g1)("",!0)]),(0,r.QD)("div",SU,[a[15]||(a[15]=(0,r.QD)("label",{class:"form-label"},"Data Source Code",-1)),a[16]||(a[16]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Data Source Code",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.data_source_code}]),"onUpdate:modelValue":a[2]||(a[2]=e=>i.data_source.data_source_code=e)},null,2),[[t.Og,i.data_source.data_source_code]]),i.errors.data_source_code?((0,r.Wz)(),(0,r.An)("span",UU,(0,d.WA)(i.errors.data_source_code[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",VU,[a[17]||(a[17]=(0,r.QD)("label",{class:"form-label"},"Data Source Name",-1)),a[18]||(a[18]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Data Source Name",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.data_source_name}]),"onUpdate:modelValue":a[3]||(a[3]=e=>i.data_source.data_source_name=e)},null,2),[[t.Og,i.data_source.data_source_name]]),i.errors.data_source_name?((0,r.Wz)(),(0,r.An)("span",jU,(0,d.WA)(i.errors.data_source_name[0]),1)):(0,r.g1)("",!0)]),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.data_source.data_source_attributes,((e,a)=>((0,r.Wz)(),(0,r.An)("div",{class:"col-md-4",key:a},["Text"==e.field_type?((0,r.Wz)(),(0,r.An)("div",YU,[(0,r.QD)("label",TU,(0,d.WA)(e.display_name),1),e.is_required?((0,r.Wz)(),(0,r.An)("span",NU,"*")):(0,r.g1)("",!0),(0,r.wt)((0,r.QD)("input",{type:"text",class:(0,d.WN)(["form-control",{"is-invalid":i.errors[e.display_name]}]),placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.data_source_attribute_value.field_value=a},null,10,RU),[[t.Og,e.data_source_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.Wz)(),(0,r.An)("span",qU,(0,d.WA)(i.errors[e.display_name][0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0),"Number"==e.field_type?((0,r.Wz)(),(0,r.An)("div",EU,[(0,r.QD)("label",KU,(0,d.WA)(e.display_name),1),e.is_required?((0,r.Wz)(),(0,r.An)("span",IU,"*")):(0,r.g1)("",!0),(0,r.wt)((0,r.QD)("input",{type:"number",class:(0,d.WN)(["form-control",{"is-invalid":i.errors[e.display_name]}]),min:"0",oninput:"validity.valid||(value='');",placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.data_source_attribute_value.field_value=a},null,10,FU),[[t.Og,e.data_source_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.Wz)(),(0,r.An)("span",OU,(0,d.WA)(i.errors[e.display_name][0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0),"Date"===e.field_type?((0,r.Wz)(),(0,r.An)("div",LU,[(0,r.QD)("label",BU,[(0,r.mY)((0,d.WA)(e.display_name)+" ",1),e.is_required?((0,r.Wz)(),(0,r.An)("span",MU,"*")):(0,r.g1)("",!0)]),(0,r.wt)((0,r.QD)("input",{type:"date",class:(0,d.WN)(["form-control",{"is-invalid":i.errors[e.display_name]}]),placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.data_source_attribute_value.field_value=a},null,10,ZU),[[t.Og,e.data_source_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.Wz)(),(0,r.An)("span",HU,(0,d.WA)(i.errors[e.display_name][0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0),"Date&Time"===e.field_type?((0,r.Wz)(),(0,r.An)("div",JU,[(0,r.QD)("label",GU,[(0,r.mY)((0,d.WA)(e.display_name)+" ",1),e.is_required?((0,r.Wz)(),(0,r.An)("span",XU,"*")):(0,r.g1)("",!0)]),(0,r.wt)((0,r.QD)("input",{type:"datetime-local",class:(0,d.WN)(["form-control",{"is-invalid":i.errors[e.display_name]}]),placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.data_source_attribute_value.field_value=a,step:"1"},null,10,eV),[[t.Og,e.data_source_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.Wz)(),(0,r.An)("span",aV,(0,d.WA)(i.errors[e.display_name][0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0),"Dropdown"==e.field_type?((0,r.Wz)(),(0,r.An)("div",sV,[(0,r.QD)("label",tV,(0,d.WA)(e.display_name),1),e.is_required?((0,r.Wz)(),(0,r.An)("span",rV,"*")):(0,r.g1)("",!0),(0,r.wt)((0,r.QD)("select",{class:(0,d.WN)(["form-control",{"is-invalid":i.errors[e.display_name]}]),"onUpdate:modelValue":a=>e.data_source_attribute_value.field_value=a},[e.data_source_attribute_value.field_value?((0,r.Wz)(),(0,r.An)("option",{key:0,value:e.data_source_attribute_value.field_value},(0,d.WA)(e.data_source_attribute_value.field_value),9,iV)):((0,r.Wz)(),(0,r.An)("option",{key:1,value:e.data_source_attribute_value.field_value},"Select "+(0,d.WA)(e.display_name),9,oV)),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(e.field_values.split(","),((e,a)=>((0,r.Wz)(),(0,r.An)("option",{key:a,value:e},(0,d.WA)(e),9,nV)))),128))],10,lV),[[t.Ip,e.data_source_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.Wz)(),(0,r.An)("span",dV,(0,d.WA)(i.errors[e.display_name][0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0),"Color"==e.field_type?((0,r.Wz)(),(0,r.An)("div",cV,[(0,r.QD)("label",uV,[(0,r.mY)((0,d.WA)(e.display_name),1),e.is_required?((0,r.Wz)(),(0,r.An)("span",pV,"*")):(0,r.g1)("",!0)]),(0,r.wt)((0,r.QD)("input",{type:"color",class:"form-control","onUpdate:modelValue":a=>e.data_source_attribute_value.field_value=a,style:{height:"2.2rem"}},null,8,mV),[[t.Og,e.data_source_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.Wz)(),(0,r.An)("span",_V,(0,d.WA)(i.errors[e.display_name][0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0),"List"==e.field_type?((0,r.Wz)(),(0,r.An)("div",hV,[(0,r.QD)("label",bV,(0,d.WA)(e.display_name),1),e.is_required?((0,r.Wz)(),(0,r.An)("span",vV,"*")):(0,r.g1)("",!0),(0,r.wt)((0,r.QD)("select",{class:(0,d.WN)(["form-control",{"is-invalid":i.errors[e.display_name]}]),"onUpdate:modelValue":a=>e.data_source_attribute_value.field_value=a},[e.data_source_attribute_value.field_value?((0,r.Wz)(),(0,r.An)("option",{key:0,value:e.data_source_attribute_value.field_value},(0,d.WA)(e.data_source_attribute_value.field_value),9,gV)):((0,r.Wz)(),(0,r.An)("option",{key:1,value:e.data_source_attribute_value.field_value},"Select "+(0,d.WA)(e.display_name),9,DV)),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(e.list_parameter?.field_values.split(","),((e,a)=>((0,r.Wz)(),(0,r.An)("option",{key:a,value:e},(0,d.WA)(e),9,QV)))),128))],10,yV),[[t.Ip,e.data_source_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.Wz)(),(0,r.An)("span",fV,(0,d.WA)(i.errors[e.display_name][0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0)])))),128)),(0,r.QD)("div",kV,[(0,r.QD)("div",wV,[a[21]||(a[21]=(0,r.QD)("label",{class:"form-label"},"Assign To",-1)),a[22]||(a[22]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.QD)("div",{class:"dropdown",onClick:a[4]||(a[4]=e=>o.toggleAssetTypeStatus())},[a[20]||(a[20]=(0,r.QD)("div",{class:"overselect"},null,-1)),(0,r.QD)("select",{class:(0,d.WN)(["form-control",{"is-invalid":i.errors.asset_types}]),customClass:{"is-invalid":i.errors.asset_types}},a[19]||(a[19]=[(0,r.QD)("option",{value:""},"Select Assign To",-1)]),10,AV),i.errors.asset_types?((0,r.Wz)(),(0,r.An)("span",WV,[(0,r.QD)("small",zV,(0,d.WA)(i.errors.asset_types[0]),1)])):(0,r.g1)("",!0)]),i.asset_type_status?((0,r.Wz)(),(0,r.An)("div",xV,[(0,r.QD)("ul",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.asset_types,((e,s)=>((0,r.Wz)(),(0,r.An)("li",{class:"",key:s},[(0,r.wt)((0,r.QD)("input",{type:"checkbox",value:e.asset_type_id,"onUpdate:modelValue":a[5]||(a[5]=e=>i.data_source.asset_types=e),style:{padding:"2px"}},null,8,PV),[[t.cV,i.data_source.asset_types]]),(0,r.QD)("label",CV,(0,d.WA)(e.asset_type_name),1)])))),128))])])):(0,r.g1)("",!0)])])])]),(0,r.QD)("div",$V,[(0,r.QD)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[6]||(a[6]=e=>o.discard())},a[23]||(a[23]=[(0,r.QD)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.mY)(" Discard")])),(0,r.QD)("button",SV,[i.status?((0,r.Wz)(),(0,r.An)("span",UV,a[24]||(a[24]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Submit")]))):((0,r.Wz)(),(0,r.An)("span",VV,a[25]||(a[25]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Update")])))])])])],32)])])])}var YV={components:{Pagination:Zt,Search:Gr.c},data(){return{data_sources:[],data_source:{data_source_id:"",data_source_type_id:"",data_source_code:"",data_source_name:"",data_source_attributes:[],asset_types:[],frequency_id:"",deleted_data_source_attribute_values:[]},status:!0,errors:[],deleted_data_source_attribute_values:[],data_source_types:[],asset_types:[],frequencies:[],show_data_sources:[],asset_type_status:!1}},beforeRouteEnter(e,a,s){s((a=>{if(a.getAssetTypes(),"DataSources.Create"==e.name);else{a.status=!1;let s={uri:"getDataSourceData",data:{data_source_id:e.params.data_source_id}};a.$store.dispatch("post",s).then((function(e){a.data_source=e.data.data,a.data_source.data_source_attributes.map((function(e){a.deleted_data_source_attribute_values.push(e.data_source_attribute_value.data_source_attribute_value_id)})),a.data_source.deleted_data_source_attribute_values=[]})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}}))},methods:{toggleAssetTypeStatus(){this.asset_type_status=!this.asset_type_status},submitForm(){let e=this;e.status?e.addDataSource():e.updateDataSource()},validateFields(){let e=!0;this.errors={},this.data_source.data_source_code||(this.errors.data_source_code=["Data Source Code is required"],e=!1),this.data_source.data_source_name||(this.errors.data_source_name=["Data Source Name is required"],e=!1),this.data_source.data_source_type_id||(this.errors.data_source_type_id=["Data Source Type is required"],e=!1),0===this.data_source.asset_types.length&&(this.errors.asset_types=["At least one Asset Type must be selected"],e=!1);for(const a of Object.values(this.data_source.data_source_attributes))a.is_required&&!a.data_source_attribute_value.field_value&&(this.errors[a.display_name]=[`${a.display_name} is required`],e=!1);return e},addDataSource(){if(!this.validateFields())return;let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"addDataSource",data:e.data_source}).then((s=>{a.hide(),e.$store.dispatch("success",s.data.message),e.$router.push("/data_sources")})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getAssetTypes(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssetTypes"}).then((s=>{a.hide(),e.asset_types=s.data.data,e.getDataSourceTypes()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getFrequencies(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getFrequencies"}).then((s=>{a.hide(),e.frequencies=s.data.data})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},updateDataSource(){if(!this.validateFields())return;let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"updateDataSource",data:e.data_source}).then((s=>{a.hide(),e.$store.dispatch("success",s.data.message),e.$router.push("/data_sources")})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getDataSourceTypes(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getDataSourceTypes"}).then((s=>{a.hide(),e.data_source_types=s.data.data,e.getFrequencies()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getDataSourceTypeFields(e){let a=this,s=a.$loading.show();a.deleted_data_source_attribute_values.length&&(a.data_source.deleted_data_source_attribute_values=a.deleted_data_source_attribute_values),a.$store.dispatch("post",{uri:"getDataSourcesDropdown",data:{data_source_type_id:e}}).then((e=>{s.hide(),a.data_source.data_source_attributes=e.data.data})).catch((function(e){s.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},discard(){let e=this;e.data_source.data_source_type_id="",e.data_source.data_source_code="",e.data_source.data_source_name="",e.data_source.asset_types=[],e.data_source.frequency_id="",e.show_data_sources=[],e.data_source.data_source_attributes=[],e.errors=[],e.status=!0}}};const TV=(0,Ce.c)(YV,[["render",jV],["__scopeId","data-v-fb93fe54"]]);var NV=TV;const RV={class:""},qV={class:"d-sm-flex align-items-center justify-content-between mb-2"},EV={class:"breadcrumb fs-sm mb-1"},KV={class:"breadcrumb-item","aria-current":"page"},IV={class:"row"},FV={class:"col-12"},OV={class:"card card-one"},LV={class:"card-body"},BV={class:"table-responsive table-responsive-sm"},MV={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},ZV={class:"",style:{"background-color":"#9b9b9b",color:"white"}},HV={key:0,class:"ri-arrow-up-line"},JV={key:1,class:"ri-arrow-down-line"},GV={key:2,class:"fas fa-sort"},XV={key:0,class:"ri-arrow-up-line"},ej={key:1,class:"ri-arrow-down-line"},aj={key:2,class:"fas fa-sort"},sj={key:0,class:"ri-arrow-up-line"},tj={key:1,class:"ri-arrow-down-line"},rj={key:2,class:"fas fa-sort"},lj={key:0,class:"ri-arrow-up-line"},ij={key:1,class:"ri-arrow-down-line"},oj={key:2,class:"fas fa-sort"},nj={key:0},dj={class:"text-center"},cj={class:"text-center"},uj={class:"form-switch"},pj=["id","checked","value","onChange"],mj=["for"],_j={class:"text-center"},hj=["onClick"],bj={class:"card-footer"},vj={class:"d-flex justify-content-between align-items-center"};function yj(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("Pagination");return(0,r.Wz)(),(0,r.An)("div",RV,[(0,r.QD)("div",qV,[(0,r.QD)("div",null,[(0,r.QD)("ol",EV,[(0,r.QD)("li",KV,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[7]||(a[7]=[(0,r.mY)("Dashboard")]))),_:1})]),a[8]||(a[8]=(0,r.QD)("li",{class:"breadcrumb-item"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Masters")],-1)),a[9]||(a[9]=(0,r.QD)("li",{class:"breadcrumb-item active","aria-current":"page"},"Data Sources",-1))]),a[10]||(a[10]=(0,r.QD)("h4",{class:"main-title mb-0"},"Data Sources",-1))]),(0,r.K2)(n,{to:"/data_sources/create",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.Ql)((()=>a[11]||(a[11]=[(0,r.QD)("i",{class:"ri-list-check"},null,-1),(0,r.mY)(" ADD DATA SOURCE")]))),_:1})]),(0,r.QD)("div",IV,[(0,r.QD)("div",FV,[(0,r.QD)("div",OV,[a[22]||(a[22]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Data Sources")],-1)),(0,r.QD)("div",LV,[(0,r.wt)((0,r.QD)("input",{class:"form-control mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.search=e),onKeypress:a[1]||(a[1]=(0,t.jj)((e=>o.search()),["enter"]))},null,544),[[t.Og,i.meta.search]]),(0,r.QD)("div",BV,[(0,r.QD)("table",MV,[(0,r.QD)("thead",null,[(0,r.QD)("tr",ZV,[a[16]||(a[16]=(0,r.QD)("th",{class:"text-center"},"#",-1)),(0,r.QD)("th",{onClick:a[2]||(a[2]=e=>o.sort("data_source_type_id"))},[a[12]||(a[12]=(0,r.mY)(" Data Source Type ")),(0,r.QD)("span",null,["data_source_type_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",HV)):"data_source_type_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",JV)):((0,r.Wz)(),(0,r.An)("i",GV))])]),(0,r.QD)("th",{onClick:a[3]||(a[3]=e=>o.sort("data_source_code"))},[a[13]||(a[13]=(0,r.mY)(" Data Source Code ")),(0,r.QD)("span",null,["data_source_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",XV)):"data_source_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",ej)):((0,r.Wz)(),(0,r.An)("i",aj))])]),(0,r.QD)("th",{onClick:a[4]||(a[4]=e=>o.sort("data_source_name"))},[a[14]||(a[14]=(0,r.mY)(" Data Source Name ")),(0,r.QD)("span",null,["data_source_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",sj)):"data_source_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",tj)):((0,r.Wz)(),(0,r.An)("i",rj))])]),(0,r.QD)("th",null,[a[15]||(a[15]=(0,r.mY)(" Asset Type. ")),(0,r.QD)("span",null,["asset_type_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",lj)):"asset_type_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",ij)):((0,r.Wz)(),(0,r.An)("i",oj))])]),a[17]||(a[17]=(0,r.QD)("th",{class:"text-center"},"Status",-1)),a[18]||(a[18]=(0,r.QD)("th",{class:"text-center"},"Actions",-1))])]),(0,r.QD)("tbody",null,[0==i.data_sources.length?((0,r.Wz)(),(0,r.An)("tr",nj,a[19]||(a[19]=[(0,r.QD)("td",{colspan:"7",class:"text-center"},"No records found",-1)]))):(0,r.g1)("",!0),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.data_sources,((e,s)=>((0,r.Wz)(),(0,r.An)("tr",{key:s},[(0,r.QD)("td",dj,(0,d.WA)(i.meta.from+s),1),(0,r.QD)("td",null,(0,d.WA)(e.data_source_type?.data_source_type_name),1),(0,r.QD)("td",null,(0,d.WA)(e.data_source_code),1),(0,r.QD)("td",null,(0,d.WA)(e.data_source_name),1),(0,r.QD)("td",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(e.data_source_asset_types,((e,a)=>((0,r.Wz)(),(0,r.An)("span",{key:a},(0,d.WA)(e?.asset_types?.asset_type_name)+", ",1)))),128))]),(0,r.QD)("td",cj,[(0,r.QD)("div",uj,[(0,r.QD)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"data_source"+e.data_source_id,checked:e.status,value:e.status,onChange:a=>o.deleteDataSource(e)},null,40,pj),(0,r.QD)("label",{class:"custom-control-label",for:"data_source"+e.data_source_id},null,8,mj)])]),(0,r.QD)("td",_j,[e.status?((0,r.Wz)(),(0,r.An)("a",{key:0,href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editDataSource(e)},a[20]||(a[20]=[(0,r.QD)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,hj)):(0,r.g1)("",!0)])])))),128))])])])]),(0,r.QD)("div",bj,[(0,r.QD)("div",vj,[(0,r.wt)((0,r.QD)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[5]||(a[5]=e=>i.meta.per_page=e),onChange:a[6]||(a[6]=(...a)=>e.onPerPageChange&&e.onPerPageChange(...a))},a[21]||(a[21]=[(0,r.QD)("option",null,"10",-1),(0,r.QD)("option",null,"15",-1),(0,r.QD)("option",null,"20",-1),(0,r.QD)("option",null,"25",-1),(0,r.QD)("option",null,"30",-1)]),544),[[t.Ip,i.meta.per_page]]),(0,r.QD)("span",null,"Showing "+(0,d.WA)(i.meta.from)+" to "+(0,d.WA)(i.meta.to)+" of "+(0,d.WA)(i.meta.totalRows)+" entries",1),(0,r.K2)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var gj={components:{Pagination:Zt},data(){return{meta:{search:"",order_by:"asc",keyword:"data_source_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,maxPage:1},data_source:{data_source_id:""},data_sources:[],errors:[],update:!1}},beforeRouteEnter(e,a,s){s((e=>{"DataSources.Edit"!=a.name?e.$store.commit("setCurrentPage",e.meta.page):e.meta.page=e.$store.getters.current_page}))},mounted(){this.index()},methods:{index(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"paginateDataSources",data:e.meta}).then((s=>{a.hide(),this.data_sources=s.data.data,this.meta.totalRows=s.data.meta.total,this.meta.from=s.data.meta.from,this.meta.lastPage=s.data.meta.last_page,this.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},editDataSource(e){this.$store.commit("setCurrentPage",this.meta.page),this.$router.push("/data_sources/"+e.data_source_id+"/edit")},deleteDataSource(e){let a=this,s=a.$loading.show();a.$store.dispatch("post",{uri:"deleteDataSource",data:e}).then((e=>{s.hide(),a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){s.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},search(){let e=this;e.meta.page=1,e.index()}}};const Dj=(0,Ce.c)(gj,[["render",yj]]);var Qj=Dj;const fj={class:""},kj={class:"d-sm-flex align-items-center justify-content-between mb-2"},wj={class:"breadcrumb fs-sm mb-1"},Aj={class:"breadcrumb-item"},Wj={class:"breadcrumb-item active","aria-current":"page"},zj={key:0,class:"breadcrumb-item","aria-current":"page"},xj={key:1,class:"breadcrumb-item active","aria-current":"page"},Pj={class:"row g-2"},Cj={class:"col-12"},$j={class:"card card-one"},Sj={class:"card-header d-flex justify-content-between"},Uj={key:0,class:"card-title"},Vj={key:1,class:"card-title"},jj={class:"card-body"},Yj={class:"row g-2"},Tj={class:"col-md-6"},Nj={class:"form-group"},Rj=["customClass"],qj={key:0},Ej={class:"text-danger"},Kj={key:0,class:"multiselect"},Ij=["value"],Fj={style:{"margin-left":"5px"}},Oj={class:"col-md-6"},Lj={key:0},Bj={class:"text-danger"},Mj={class:"col-md-4"},Zj={key:0,class:"invalid-feedback"},Hj={class:"col-md-4"},Jj={key:0,class:"invalid-feedback"},Gj={key:0},Xj={class:"form-label"},eY={key:0,class:"text-danger"},aY=["placeholder","onUpdate:modelValue"],sY={key:1,class:"invalid-feedback"},tY={key:1},rY={class:"form-label"},lY={key:0,class:"text-danger"},iY=["placeholder","onUpdate:modelValue"],oY={key:1,class:"invalid-feedback"},nY={key:2},dY={class:"form-label"},cY={key:0,class:"text-danger"},uY=["placeholder","onUpdate:modelValue"],pY={key:0,class:"invalid-feedback"},mY={key:3},_Y={class:"form-label"},hY={key:0,class:"text-danger"},bY=["placeholder","onUpdate:modelValue"],vY={key:0,class:"invalid-feedback"},yY={key:4},gY={class:"form-label"},DY={key:0,class:"text-danger"},QY=["onUpdate:modelValue"],fY=["value"],kY=["value"],wY=["value"],AY={key:1,class:"invalid-feedback"},WY={key:5},zY={class:"form-label"},xY={key:0,class:"text-danger"},PY=["onUpdate:modelValue"],CY={key:0,class:"invalid-feedback"},$Y={key:6},SY={class:"form-label"},UY={key:0,class:"text-danger"},VY=["onUpdate:modelValue"],jY=["value"],YY=["value"],TY=["value"],NY={key:1,class:"invalid-feedback"},RY={class:"card-footer text-end"},qY={type:"submit",class:"btn btn-primary"},EY={key:0},KY={key:1};function IY(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("search");return(0,r.Wz)(),(0,r.An)("div",fj,[(0,r.QD)("div",kj,[(0,r.QD)("div",null,[(0,r.QD)("ol",wj,[(0,r.QD)("li",Aj,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[8]||(a[8]=[(0,r.mY)("Dashboard")]))),_:1})]),a[10]||(a[10]=(0,r.QD)("li",{class:"breadcrumb-item"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Masters")],-1)),(0,r.QD)("li",Wj,[(0,r.K2)(n,{to:"/break_down_lists"},{default:(0,r.Ql)((()=>a[9]||(a[9]=[(0,r.mY)("Break Down Lists")]))),_:1})]),i.status?((0,r.Wz)(),(0,r.An)("li",zj,"New Break Down List")):((0,r.Wz)(),(0,r.An)("li",xj,"Update Break Down List"))]),a[11]||(a[11]=(0,r.QD)("h4",{class:"main-title mb-0"},"Break Down Lists",-1))]),(0,r.K2)(n,{to:"/break_down_lists",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.Ql)((()=>a[12]||(a[12]=[(0,r.QD)("i",{class:"ri-list-check"},null,-1),(0,r.mY)(" BREAK DOWN LISTS")]))),_:1})]),(0,r.QD)("div",Pj,[(0,r.QD)("div",Cj,[(0,r.QD)("form",{onSubmit:a[7]||(a[7]=(0,t.Y7)((e=>o.submitForm()),["prevent"]))},[(0,r.QD)("div",$j,[(0,r.QD)("div",Sj,[i.status?((0,r.Wz)(),(0,r.An)("h6",Uj,"Add Break Down List")):((0,r.Wz)(),(0,r.An)("h6",Vj,"Update Break Down List"))]),(0,r.QD)("div",jj,[(0,r.QD)("div",Yj,[(0,r.QD)("div",Tj,[(0,r.QD)("div",Nj,[a[15]||(a[15]=(0,r.QD)("label",{class:"form-label"},"Asset Type",-1)),a[16]||(a[16]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.QD)("div",{class:"dropdown",onClick:a[0]||(a[0]=e=>o.toggleAssetTypeStatus())},[a[14]||(a[14]=(0,r.QD)("div",{class:"overselect"},null,-1)),(0,r.QD)("select",{class:(0,d.WN)(["form-control",{"is-invalid":i.errors.asset_types}]),customClass:{"is-invalid":i.errors.asset_types}},a[13]||(a[13]=[(0,r.QD)("option",{value:""},"Select Asset Type",-1)]),10,Rj),i.errors.asset_types?((0,r.Wz)(),(0,r.An)("span",qj,[(0,r.QD)("small",Ej,(0,d.WA)(i.errors.asset_types[0]),1)])):(0,r.g1)("",!0)]),i.asset_type_status?((0,r.Wz)(),(0,r.An)("div",Kj,[(0,r.QD)("ul",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.asset_types,((e,s)=>((0,r.Wz)(),(0,r.An)("li",{class:"",key:s},[(0,r.wt)((0,r.QD)("input",{type:"checkbox",value:e.asset_type_id,"onUpdate:modelValue":a[1]||(a[1]=e=>i.break_down.asset_types=e),style:{padding:"2px"}},null,8,Ij),[[t.cV,i.break_down.asset_types]]),(0,r.QD)("label",Fj,(0,d.WA)(e.asset_type_name),1)])))),128))])])):(0,r.g1)("",!0)])]),(0,r.QD)("div",Oj,[a[17]||(a[17]=(0,r.QD)("label",{class:"form-label"},"Break Down Types",-1)),a[18]||(a[18]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.K2)(c,{class:(0,d.WN)({"is-invalid":i.errors.break_down_type_id}),customClass:{"is-invalid":i.errors.break_down_type_id},initialize:i.break_down.break_down_type_id,id:"break_down_type_id",label:"break_down_type_name",placeholder:"Select Break Down Type",data:i.break_down_types,onInput:a[2]||(a[2]=e=>i.break_down.break_down_type_id=e),onSelectsearch:a[3]||(a[3]=e=>o.getBreakDownTypeFields(i.break_down.break_down_type_id))},null,8,["class","customClass","initialize","data"]),i.errors.break_down_type_id?((0,r.Wz)(),(0,r.An)("span",Lj,[(0,r.QD)("small",Bj,(0,d.WA)(i.errors.break_down_type_id[0]),1)])):(0,r.g1)("",!0)]),(0,r.QD)("div",Mj,[a[19]||(a[19]=(0,r.QD)("label",{class:"form-label"},"Break Down List Code",-1)),a[20]||(a[20]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Break Down List Code",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.break_down_list_code}]),"onUpdate:modelValue":a[4]||(a[4]=e=>i.break_down.break_down_list_code=e)},null,2),[[t.Og,i.break_down.break_down_list_code]]),i.errors.break_down_list_code?((0,r.Wz)(),(0,r.An)("span",Zj,(0,d.WA)(i.errors.break_down_list_code[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",Hj,[a[21]||(a[21]=(0,r.QD)("label",{class:"form-label"},"Break Down List Name",-1)),a[22]||(a[22]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Break Down List Name",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.break_down_list_name}]),"onUpdate:modelValue":a[5]||(a[5]=e=>i.break_down.break_down_list_name=e)},null,2),[[t.Og,i.break_down.break_down_list_name]]),i.errors.break_down_list_name?((0,r.Wz)(),(0,r.An)("span",Jj,(0,d.WA)(i.errors.break_down_list_name[0]),1)):(0,r.g1)("",!0)]),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.break_down.break_down_attributes,((e,a)=>((0,r.Wz)(),(0,r.An)("div",{class:"col-md-4",key:a},["Text"==e.field_type?((0,r.Wz)(),(0,r.An)("div",Gj,[(0,r.QD)("label",Xj,(0,d.WA)(e.display_name),1),e.is_required?((0,r.Wz)(),(0,r.An)("span",eY,"*")):(0,r.g1)("",!0),(0,r.wt)((0,r.QD)("input",{type:"text",class:(0,d.WN)(["form-control",{"is-invalid":i.errors[e.display_name]}]),placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.break_down_attribute_value.field_value=a},null,10,aY),[[t.Og,e.break_down_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.Wz)(),(0,r.An)("span",sY,(0,d.WA)(i.errors[e.display_name][0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0),"Number"==e.field_type?((0,r.Wz)(),(0,r.An)("div",tY,[(0,r.QD)("label",rY,(0,d.WA)(e.display_name),1),e.is_required?((0,r.Wz)(),(0,r.An)("span",lY,"*")):(0,r.g1)("",!0),(0,r.wt)((0,r.QD)("input",{type:"number",class:(0,d.WN)(["form-control",{"is-invalid":i.errors[e.display_name]}]),min:"0",oninput:"validity.valid||(value='');",placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.break_down_attribute_value.field_value=a},null,10,iY),[[t.Og,e.break_down_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.Wz)(),(0,r.An)("span",oY,(0,d.WA)(i.errors[e.display_name][0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0),"Date"===e.field_type?((0,r.Wz)(),(0,r.An)("div",nY,[(0,r.QD)("label",dY,[(0,r.mY)((0,d.WA)(e.display_name)+" ",1),e.is_required?((0,r.Wz)(),(0,r.An)("span",cY,"*")):(0,r.g1)("",!0)]),(0,r.wt)((0,r.QD)("input",{type:"date",class:(0,d.WN)(["form-control",{"is-invalid":i.errors[e.display_name]}]),placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.break_down_attribute_value.field_value=a},null,10,uY),[[t.Og,e.break_down_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.Wz)(),(0,r.An)("span",pY,(0,d.WA)(i.errors[e.display_name][0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0),"Date&Time"===e.field_type?((0,r.Wz)(),(0,r.An)("div",mY,[(0,r.QD)("label",_Y,[(0,r.mY)((0,d.WA)(e.display_name)+" ",1),e.is_required?((0,r.Wz)(),(0,r.An)("span",hY,"*")):(0,r.g1)("",!0)]),(0,r.wt)((0,r.QD)("input",{type:"datetime-local",class:(0,d.WN)(["form-control",{"is-invalid":i.errors[e.display_name]}]),placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.break_down_attribute_value.field_value=a,step:"1"},null,10,bY),[[t.Og,e.break_down_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.Wz)(),(0,r.An)("span",vY,(0,d.WA)(i.errors[e.display_name][0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0),"Dropdown"==e.field_type?((0,r.Wz)(),(0,r.An)("div",yY,[(0,r.QD)("label",gY,(0,d.WA)(e.display_name),1),e.is_required?((0,r.Wz)(),(0,r.An)("span",DY,"*")):(0,r.g1)("",!0),(0,r.wt)((0,r.QD)("select",{class:(0,d.WN)(["form-control",{"is-invalid":i.errors[e.display_name]}]),"onUpdate:modelValue":a=>e.break_down_attribute_value.field_value=a},[e.break_down_attribute_value.field_value?((0,r.Wz)(),(0,r.An)("option",{key:0,value:e.break_down_attribute_value.field_value},(0,d.WA)(e.break_down_attribute_value.field_value),9,fY)):((0,r.Wz)(),(0,r.An)("option",{key:1,value:e.break_down_attribute_value.field_value},"Select "+(0,d.WA)(e.display_name),9,kY)),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(e.field_values.split(","),((e,a)=>((0,r.Wz)(),(0,r.An)("option",{key:a,value:e},(0,d.WA)(e),9,wY)))),128))],10,QY),[[t.Ip,e.break_down_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.Wz)(),(0,r.An)("span",AY,(0,d.WA)(i.errors[e.display_name][0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0),"Color"==e.field_type?((0,r.Wz)(),(0,r.An)("div",WY,[(0,r.QD)("label",zY,[(0,r.mY)((0,d.WA)(e.display_name),1),e.is_required?((0,r.Wz)(),(0,r.An)("span",xY,"*")):(0,r.g1)("",!0)]),(0,r.wt)((0,r.QD)("input",{type:"color",class:"form-control","onUpdate:modelValue":a=>e.break_down_attribute_value.field_value=a,style:{height:"2.2rem"}},null,8,PY),[[t.Og,e.break_down_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.Wz)(),(0,r.An)("span",CY,(0,d.WA)(i.errors[e.display_name][0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0),"List"==e.field_type?((0,r.Wz)(),(0,r.An)("div",$Y,[(0,r.QD)("label",SY,(0,d.WA)(e.display_name),1),e.is_required?((0,r.Wz)(),(0,r.An)("span",UY,"*")):(0,r.g1)("",!0),(0,r.wt)((0,r.QD)("select",{class:(0,d.WN)(["form-control",{"is-invalid":i.errors[e.display_name]}]),"onUpdate:modelValue":a=>e.break_down_attribute_value.field_value=a},[e.break_down_attribute_value.field_value?((0,r.Wz)(),(0,r.An)("option",{key:0,value:e.break_down_attribute_value.field_value},(0,d.WA)(e.break_down_attribute_value.field_value),9,jY)):((0,r.Wz)(),(0,r.An)("option",{key:1,value:e.break_down_attribute_value.field_value},"Select "+(0,d.WA)(e.display_name),9,YY)),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(e.list_parameter?.field_values.split(","),((e,a)=>((0,r.Wz)(),(0,r.An)("option",{key:a,value:e},(0,d.WA)(e),9,TY)))),128))],10,VY),[[t.Ip,e.break_down_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.Wz)(),(0,r.An)("span",NY,(0,d.WA)(i.errors[e.display_name][0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0)])))),128))])]),(0,r.QD)("div",RY,[(0,r.QD)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[6]||(a[6]=e=>o.discard())},a[23]||(a[23]=[(0,r.QD)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.mY)(" Discard")])),(0,r.QD)("button",qY,[i.status?((0,r.Wz)(),(0,r.An)("span",EY,a[24]||(a[24]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Submit")]))):((0,r.Wz)(),(0,r.An)("span",KY,a[25]||(a[25]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Update")])))])])])],32)])])])}var FY={components:{Pagination:Zt,Search:Gr.c},data(){return{break_downs:[],break_down:{break_down_list_id:"",break_down_type_id:"",break_down_list_code:"",break_down_list_name:"",break_down_attributes:[],asset_types:[],frequency_id:"",deleted_break_down_attribute_values:[]},status:!0,errors:[],deleted_break_down_attribute_values:[],break_down_types:[],asset_types:[],frequencies:[],show_break_downs:[],asset_type_status:!1}},beforeRouteEnter(e,a,s){s((a=>{if(a.getAssetTypes(),"BreakDownLists.Create"==e.name);else{a.status=!1;let s={uri:"getBreakDownData",data:{break_down_list_id:e.params.break_down_list_id}};a.$store.dispatch("post",s).then((function(e){a.break_down=e.data.data,a.break_down.break_down_attributes.map((function(e){a.deleted_break_down_attribute_values.push(e.break_down_attribute_value.break_down_attribute_value_id)})),a.break_down.deleted_break_down_attribute_values=[]})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}}))},methods:{toggleAssetTypeStatus(){this.asset_type_status=!this.asset_type_status},submitForm(){let e=this;e.status?e.addBreakDown():e.updateBreakDown()},validateFields(){let e=!0;this.errors={},this.break_down.break_down_list_code||(this.errors.break_down_list_code=["Break Down Code is required"],e=!1),this.break_down.break_down_list_name||(this.errors.break_down_list_name=["Break Down Name is required"],e=!1),this.break_down.break_down_type_id||(this.errors.break_down_type_id=["Break Down Type is required"],e=!1),0===this.break_down.asset_types.length&&(this.errors.asset_types=["At least one Asset Type must be selected"],e=!1);for(const a of Object.values(this.break_down.break_down_attributes))a.is_required&&!a.break_down_attribute_value.field_value&&(this.errors[a.display_name]=[`${a.display_name} is required`],e=!1);return e},addBreakDown(){if(!this.validateFields())return;let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"addBreakDownList",data:e.break_down}).then((s=>{a.hide(),e.$store.dispatch("success",s.data.message),e.$router.push("/break_down_lists")})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getAssetTypes(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssetTypes"}).then((s=>{a.hide(),e.asset_types=s.data.data,e.getBreakDownTypes()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getFrequencies(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getFrequencies"}).then((s=>{a.hide(),e.frequencies=s.data.data})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},updateBreakDown(){if(!this.validateFields())return;let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"updateBreakDownList",data:e.break_down}).then((s=>{a.hide(),e.$store.dispatch("success",s.data.message),e.$router.push("/break_down_lists")})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getBreakDownTypes(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getBreakDownTypes"}).then((s=>{a.hide(),e.break_down_types=s.data.data,e.getFrequencies()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getBreakDownTypeFields(e){let a=this,s=a.$loading.show();a.deleted_break_down_attribute_values.length&&(a.break_down.deleted_break_down_attribute_values=a.deleted_break_down_attribute_values),a.$store.dispatch("post",{uri:"getBreakDownsDropdown",data:{break_down_type_id:e}}).then((e=>{s.hide(),a.break_down.break_down_attributes=e.data.data})).catch((function(e){s.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},discard(){let e=this;e.break_down.break_down_type_id="",e.break_down.break_down_list_code="",e.break_down.break_down_list_name="",e.break_down.asset_types=[],e.break_down.frequency_id="",e.show_break_downs=[],e.break_down.break_down_attributes=[],e.errors=[],e.status=!0}}};const OY=(0,Ce.c)(FY,[["render",IY],["__scopeId","data-v-f4bbbd80"]]);var LY=OY;const BY={class:""},MY={class:"d-sm-flex align-items-center justify-content-between mb-2"},ZY={class:"breadcrumb fs-sm mb-1"},HY={class:"breadcrumb-item","aria-current":"page"},JY={class:"row"},GY={class:"col-12"},XY={class:"card card-one"},eT={class:"card-body"},aT={class:"table-responsive table-responsive-sm"},sT={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},tT={class:"",style:{"background-color":"#9b9b9b",color:"white"}},rT={key:0,class:"ri-arrow-up-line"},lT={key:1,class:"ri-arrow-down-line"},iT={key:2,class:"fas fa-sort"},oT={key:0,class:"ri-arrow-up-line"},nT={key:1,class:"ri-arrow-down-line"},dT={key:2,class:"fas fa-sort"},cT={key:0,class:"ri-arrow-up-line"},uT={key:1,class:"ri-arrow-down-line"},pT={key:2,class:"fas fa-sort"},mT={key:0,class:"ri-arrow-up-line"},_T={key:1,class:"ri-arrow-down-line"},hT={key:2,class:"fas fa-sort"},bT={key:0},vT={class:"text-center"},yT={class:"text-center"},gT={class:"form-switch"},DT=["id","checked","value","onChange"],QT=["for"],fT={class:"text-center"},kT=["onClick"],wT={class:"card-footer"},AT={class:"d-flex justify-content-between align-items-center"};function WT(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("Pagination");return(0,r.Wz)(),(0,r.An)("div",BY,[(0,r.QD)("div",MY,[(0,r.QD)("div",null,[(0,r.QD)("ol",ZY,[(0,r.QD)("li",HY,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[7]||(a[7]=[(0,r.mY)("Dashboard")]))),_:1})]),a[8]||(a[8]=(0,r.QD)("li",{class:"breadcrumb-item"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Masters")],-1)),a[9]||(a[9]=(0,r.QD)("li",{class:"breadcrumb-item active","aria-current":"page"},"Break Down Lists",-1))]),a[10]||(a[10]=(0,r.QD)("h4",{class:"main-title mb-0"},"Break Down Lists",-1))]),(0,r.K2)(n,{to:"/break_down_lists/create",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.Ql)((()=>a[11]||(a[11]=[(0,r.QD)("i",{class:"ri-list-check"},null,-1),(0,r.mY)(" ADD BREAK DOWN LIST")]))),_:1})]),(0,r.QD)("div",JY,[(0,r.QD)("div",GY,[(0,r.QD)("div",XY,[a[22]||(a[22]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Break Down Lists")],-1)),(0,r.QD)("div",eT,[(0,r.wt)((0,r.QD)("input",{class:"form-control mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.search=e),onKeypress:a[1]||(a[1]=(0,t.jj)((e=>o.search()),["enter"]))},null,544),[[t.Og,i.meta.search]]),(0,r.QD)("div",aT,[(0,r.QD)("table",sT,[(0,r.QD)("thead",null,[(0,r.QD)("tr",tT,[a[16]||(a[16]=(0,r.QD)("th",{class:"text-center"},"#",-1)),(0,r.QD)("th",{onClick:a[2]||(a[2]=e=>o.sort("break_down_list_id"))},[a[12]||(a[12]=(0,r.mY)(" Break Down Type ")),(0,r.QD)("span",null,["break_down_list_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",rT)):"break_down_list_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",lT)):((0,r.Wz)(),(0,r.An)("i",iT))])]),(0,r.QD)("th",{onClick:a[3]||(a[3]=e=>o.sort("break_down_list_code"))},[a[13]||(a[13]=(0,r.mY)(" Break Down List Code ")),(0,r.QD)("span",null,["break_down_list_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",oT)):"break_down_list_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",nT)):((0,r.Wz)(),(0,r.An)("i",dT))])]),(0,r.QD)("th",{onClick:a[4]||(a[4]=e=>o.sort("break_down_list_name"))},[a[14]||(a[14]=(0,r.mY)(" Break Down List Name ")),(0,r.QD)("span",null,["break_down_list_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",cT)):"break_down_list_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",uT)):((0,r.Wz)(),(0,r.An)("i",pT))])]),(0,r.QD)("th",null,[a[15]||(a[15]=(0,r.mY)(" Asset Type. ")),(0,r.QD)("span",null,["asset_type_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",mT)):"asset_type_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",_T)):((0,r.Wz)(),(0,r.An)("i",hT))])]),a[17]||(a[17]=(0,r.QD)("th",{class:"text-center"},"Status",-1)),a[18]||(a[18]=(0,r.QD)("th",{class:"text-center"},"Actions",-1))])]),(0,r.QD)("tbody",null,[0==i.break_down_lists.length?((0,r.Wz)(),(0,r.An)("tr",bT,a[19]||(a[19]=[(0,r.QD)("td",{colspan:"7",class:"text-center"},"No records found",-1)]))):(0,r.g1)("",!0),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.break_down_lists,((e,s)=>((0,r.Wz)(),(0,r.An)("tr",{key:s},[(0,r.QD)("td",vT,(0,d.WA)(i.meta.from+s),1),(0,r.QD)("td",null,(0,d.WA)(e.break_down_type?.break_down_type_name),1),(0,r.QD)("td",null,(0,d.WA)(e.break_down_list_code),1),(0,r.QD)("td",null,(0,d.WA)(e.break_down_list_name),1),(0,r.QD)("td",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(e.break_down_list_asset_types,((e,a)=>((0,r.Wz)(),(0,r.An)("span",{key:a},(0,d.WA)(e?.asset_types?.asset_type_name)+", ",1)))),128))]),(0,r.QD)("td",yT,[(0,r.QD)("div",gT,[(0,r.QD)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"break_down_list"+e.break_down_list_id,checked:e.status,value:e.status,onChange:a=>o.deleteBreakDownList(e)},null,40,DT),(0,r.QD)("label",{class:"custom-control-label",for:"break_down_list"+e.break_down_list_id},null,8,QT)])]),(0,r.QD)("td",fT,[e.status?((0,r.Wz)(),(0,r.An)("a",{key:0,href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editBreakDownList(e)},a[20]||(a[20]=[(0,r.QD)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,kT)):(0,r.g1)("",!0)])])))),128))])])])]),(0,r.QD)("div",wT,[(0,r.QD)("div",AT,[(0,r.wt)((0,r.QD)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[5]||(a[5]=e=>i.meta.per_page=e),onChange:a[6]||(a[6]=(...a)=>e.onPerPageChange&&e.onPerPageChange(...a))},a[21]||(a[21]=[(0,r.QD)("option",null,"10",-1),(0,r.QD)("option",null,"15",-1),(0,r.QD)("option",null,"20",-1),(0,r.QD)("option",null,"25",-1),(0,r.QD)("option",null,"30",-1)]),544),[[t.Ip,i.meta.per_page]]),(0,r.QD)("span",null,"Showing "+(0,d.WA)(i.meta.from)+" to "+(0,d.WA)(i.meta.to)+" of "+(0,d.WA)(i.meta.totalRows)+" entries",1),(0,r.K2)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var zT={components:{Pagination:Zt},data(){return{meta:{search:"",order_by:"asc",keyword:"break_down_list_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,maxPage:1},break_down_list:{break_down_list_id:""},break_down_lists:[],errors:[],update:!1}},beforeRouteEnter(e,a,s){s((e=>{"BreakDownLists.Edit"!=a.name?e.$store.commit("setCurrentPage",e.meta.page):e.meta.page=e.$store.getters.current_page}))},mounted(){this.index()},methods:{index(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"paginateBreakDownLists",data:e.meta}).then((s=>{a.hide(),console.log("breakdown-response",s),this.break_down_lists=s.data.data,this.meta.totalRows=s.data.meta.total,this.meta.from=s.data.meta.from,this.meta.lastPage=s.data.meta.last_page,this.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(s){a.hide(),console.log("breakdown-error",s),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},editBreakDownList(e){console.log("ddd---",e),this.$store.commit("setCurrentPage",this.meta.page),this.$router.push("/break_down_lists/"+e.break_down_list_id+"/edit")},deleteBreakDownList(e){let a=this,s=a.$loading.show();a.$store.dispatch("post",{uri:"deleteBreakDownList",data:e}).then((e=>{s.hide(),a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){s.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},search(){let e=this;e.meta.page=1,e.index()}}};const xT=(0,Ce.c)(zT,[["render",WT]]);var PT=xT;const CT={class:""},$T={class:"breadcrumb fs-sm mb-1"},ST={class:"breadcrumb-item"},UT={class:"row g-2"},VT={class:"col-4"},jT={class:"card card-one"},YT={class:"card-header d-flex justify-content-between"},TT={key:0,class:"card-title"},NT={key:1,class:"card-title"},RT={class:"card-body"},qT={class:"row g-2"},ET={class:"col-md-12"},KT={key:0},IT={class:"text-danger"},FT={class:"col-md-12"},OT={class:"card-footer text-end"},LT={type:"submit",class:"btn btn-primary"},BT={key:0},MT={key:1},ZT={class:"card card-one"},HT={class:"card-body"},JT={class:"table-responsive table-responsive-sm"},GT={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},XT={style:{"background-color":"#9b9b9b",color:"white"}},eN={key:0,class:"ri-arrow-up-line"},aN={key:1,class:"ri-arrow-down-line"},sN={key:2,class:"fas fa-sort"},tN={key:0,class:"ri-arrow-up-line"},rN={key:1,class:"ri-arrow-down-line"},lN={key:2,class:"fas fa-sort"},iN={class:"text-center"},oN={class:"text-center"},nN={class:"text-center"},dN={class:"text-center"},cN={class:"form-switch"},uN=["id","checked","value","onChange"],pN=["for"],mN={class:"text-center"},_N=["onClick"],hN={class:"card-footer"},bN={class:"d-flex justify-content-between align-items-center"};function vN(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("Pagination"),u=(0,r.iS)("can");return(0,r.Wz)(),(0,r.An)("div",CT,[(0,r.QD)("div",null,[(0,r.QD)("ol",$T,[(0,r.QD)("li",ST,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[10]||(a[10]=[(0,r.mY)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.QD)("li",{class:"breadcrumb-item","aria-current":"page"},[(0,r.QD)("a",{href:"javascript:void(0)"},"User Management")],-1)),a[12]||(a[12]=(0,r.QD)("li",{class:"breadcrumb-item active","aria-current":"page"},"Role",-1))]),a[13]||(a[13]=(0,r.QD)("h4",{class:"main-title mb-2"},"Role",-1))]),(0,r.QD)("div",UT,[(0,r.wt)(((0,r.Wz)(),(0,r.An)("div",VT,[(0,r.QD)("form",{onSubmit:a[3]||(a[3]=(0,t.Y7)((e=>o.submitForm()),["prevent"]))},[(0,r.QD)("div",jT,[(0,r.QD)("div",YT,[i.status?((0,r.Wz)(),(0,r.An)("h6",TT,"Add Role")):((0,r.Wz)(),(0,r.An)("h6",NT,"Update Role"))]),(0,r.QD)("div",RT,[(0,r.QD)("div",qT,[(0,r.QD)("div",ET,[a[14]||(a[14]=(0,r.QD)("label",{class:"form-label"},"Role",-1)),a[15]||(a[15]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Role",class:(0,d.WN)([{"is-invalid":i.errors.role},"form-control"]),"onUpdate:modelValue":a[0]||(a[0]=e=>i.role.role=e),ref:"role"},null,2),[[t.Og,i.role.role]]),i.errors.role?((0,r.Wz)(),(0,r.An)("span",KT,[(0,r.QD)("small",IT,(0,d.WA)(i.errors.role[0]),1)])):(0,r.g1)("",!0)]),(0,r.QD)("div",FT,[a[16]||(a[16]=(0,r.QD)("label",{class:"form-label"},"Description",-1)),(0,r.wt)((0,r.QD)("textarea",{rows:"2",type:"text",placeholder:"Description",class:"form-control","onUpdate:modelValue":a[1]||(a[1]=e=>i.role.description=e)},null,512),[[t.Og,i.role.description]])])])]),(0,r.QD)("div",OT,[(0,r.QD)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[2]||(a[2]=e=>o.discard())},a[17]||(a[17]=[(0,r.QD)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.mY)(" Discard")])),(0,r.QD)("button",LT,[i.status?((0,r.Wz)(),(0,r.An)("span",BT,a[18]||(a[18]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Submit")]))):((0,r.Wz)(),(0,r.An)("span",MT,a[19]||(a[19]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Update")])))])])])],32)])),[[u,"roles.create"]]),(0,r.QD)("div",{class:(0,d.WN)(i.column)},[(0,r.QD)("div",ZT,[a[27]||(a[27]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Roles")],-1)),(0,r.QD)("div",HT,[(0,r.wt)((0,r.QD)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[4]||(a[4]=e=>i.meta.search=e),onKeypress:a[5]||(a[5]=(0,t.jj)((e=>o.search()),["enter"]))},null,544),[[t.Og,i.meta.search]]),(0,r.QD)("div",JT,[(0,r.QD)("table",GT,[(0,r.QD)("thead",null,[(0,r.QD)("tr",XT,[a[24]||(a[24]=(0,r.QD)("th",{class:"text-center"},"#",-1)),(0,r.QD)("th",{onClick:a[6]||(a[6]=e=>o.sort("role"))},[a[20]||(a[20]=(0,r.mY)("Role ")),(0,r.QD)("span",null,["role"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",eN)):"role"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",aN)):((0,r.Wz)(),(0,r.An)("i",sN))])]),(0,r.QD)("th",{onClick:a[7]||(a[7]=e=>o.sort("description"))},[a[21]||(a[21]=(0,r.mY)("Description ")),(0,r.QD)("span",null,["description"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",tN)):"description"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",rN)):((0,r.Wz)(),(0,r.An)("i",lN))])]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("th",iN,a[22]||(a[22]=[(0,r.mY)("Status")]))),[[u,"roles.delete"]]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("th",oN,a[23]||(a[23]=[(0,r.mY)("Actions")]))),[[u,"roles.update"]])])]),(0,r.QD)("tbody",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.roles,((e,s)=>((0,r.Wz)(),(0,r.An)("tr",{key:s},[(0,r.QD)("td",nN,(0,d.WA)(i.meta.from+s),1),(0,r.QD)("td",null,(0,d.WA)(e.role),1),(0,r.QD)("td",null,(0,d.WA)(e.description),1),(0,r.wt)(((0,r.Wz)(),(0,r.An)("td",dN,[(0,r.QD)("div",cN,[(0,r.QD)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"role"+e.role_id,checked:e.status,value:e.status,onChange:a=>o.deleteRole(e)},null,40,uN),(0,r.QD)("label",{class:"custom-control-label",for:"role"+e.role_id},null,8,pN)])])),[[u,"roles.delete"]]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("td",mN,[e.status?((0,r.Wz)(),(0,r.An)("a",{key:0,href:"javascript:void(0)",class:"text-success",onClick:a=>o.editRole(e)},a[25]||(a[25]=[(0,r.QD)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,_N)):(0,r.g1)("",!0)])),[[u,"roles.update"]])])))),128))])])])]),(0,r.QD)("div",hN,[(0,r.QD)("div",bN,[(0,r.wt)((0,r.QD)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.per_page=e),onChange:a[9]||(a[9]=(...a)=>e.onPerPageChange&&e.onPerPageChange(...a))},a[26]||(a[26]=[(0,r.QD)("option",null,"10",-1),(0,r.QD)("option",null,"15",-1),(0,r.QD)("option",null,"20",-1),(0,r.QD)("option",null,"25",-1),(0,r.QD)("option",null,"30",-1)]),544),[[t.Ip,i.meta.per_page]]),(0,r.QD)("span",null,"Showing "+(0,d.WA)(i.meta.from)+" to "+(0,d.WA)(i.meta.to)+" of "+(0,d.WA)(i.meta.totalRows)+" entries",1),(0,r.K2)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])],2)])])}var yN={components:{Pagination:Zt},data(){return{column:"col-8",meta:{search:"",order_by:"asc",keyword:"role_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},roles:[],role:{role_id:"",role:"",description:"",status:""},status:!0,errors:[],update:!1}},mounted(){this.create_role=this.$store.getters.permissions.filter((function(e){return e.ability.ability.includes("roles.create")})),this.create_role.length?this.column="col-8":this.column="col-12",this.index()},methods:{submitForm(){let e=this;e.status?e.addRole():e.updateRole()},index(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"paginateRoles",data:e.meta}).then((s=>{a.hide(),this.roles=s.data.data,this.meta.totalRows=s.data.meta.total,this.meta.from=s.data.meta.from,this.meta.lastPage=s.data.meta.last_page,this.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},addRole(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"addRole",data:e.role}).then((e=>{a.hide(),this.$store.dispatch("success",e.data.message),this.discard()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},deleteRole(e){let a=this,s=this.$loading.show();e.status=1==e.status?0:1,a.$store.dispatch("post",{uri:"deleteRole",data:e}).then((function(e){s.hide(),a.$store.dispatch("success",e.data.message),a.discard()})).catch((function(e){console.error(e)}))},editRole(e){this.role=e,this.update=!0,this.status=!1},updateRole(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"updateRole",data:this.role}).then((e=>{a.hide(),this.$store.dispatch("success",e.data.message),this.discard()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},discard(){let e=this;e.role.role="",e.role.description="",e.$refs.role.focus(),e.errors=[],e.status=!0,e.index()},search(){let e=this;e.meta.page=1,e.index()}}};const gN=(0,Ce.c)(yN,[["render",vN]]);var DN=gN;const QN={class:""},fN={class:"d-sm-flex align-items-center justify-content-between mb-2"},kN={class:"breadcrumb fs-sm mb-1"},wN={class:"breadcrumb-item","aria-current":"page"},AN={class:"breadcrumb-item","aria-current":"page"},WN={key:0,class:"breadcrumb-item","aria-current":"page"},zN={key:1,class:"breadcrumb-item active","aria-current":"page"},xN={class:"row"},PN={class:"col-12"},CN={class:"card card-one"},$N={class:"card-header d-flex justify-content-between"},SN={key:0,class:"card-title"},UN={key:1,class:"card-title"},VN={class:"card-body"},jN={class:"row g-2"},YN={class:"col-md-6"},TN={key:0,class:"invalid-feedback"},NN={class:"col-md-6"},RN={key:0,class:"invalid-feedback"},qN={class:"col-md-4"},EN=["disabled"],KN={key:0,class:"invalid-feedback"},IN={class:"col-md-4"},FN={key:0,class:"invalid-feedback"},ON={class:"col-md-4"},LN=["value"],BN={key:0,class:"invalid-feedback"},MN={class:"col-md-12"},ZN={key:0,class:"invalid-feedback"},HN={class:"card-footer text-end"},JN={type:"submit",class:"btn btn-primary"},GN={key:0},XN={key:1};function eR(e,a,s,l,i,o){const n=(0,r.E1)("router-link");return(0,r.Wz)(),(0,r.An)("div",QN,[(0,r.QD)("div",fN,[(0,r.QD)("div",null,[(0,r.QD)("ol",kN,[(0,r.QD)("li",wN,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[8]||(a[8]=[(0,r.mY)("Dashboard")]))),_:1})]),a[10]||(a[10]=(0,r.QD)("li",{class:"breadcrumb-item","aria-current":"page"},[(0,r.QD)("a",{href:"javascript:void(0)"},"User Management")],-1)),(0,r.QD)("li",AN,[(0,r.K2)(n,{to:"/users"},{default:(0,r.Ql)((()=>a[9]||(a[9]=[(0,r.mY)("Users")]))),_:1})]),i.status?((0,r.Wz)(),(0,r.An)("li",WN,"New User")):((0,r.Wz)(),(0,r.An)("li",zN,"Update User"))]),a[11]||(a[11]=(0,r.QD)("h4",{class:"main-title mb-0"},"User",-1))]),(0,r.K2)(n,{to:"/users",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.Ql)((()=>a[12]||(a[12]=[(0,r.QD)("i",{class:"ri-list-check"},null,-1),(0,r.mY)(" USERS")]))),_:1})]),(0,r.QD)("div",xN,[(0,r.QD)("div",PN,[(0,r.QD)("form",{onSubmit:a[7]||(a[7]=(0,t.Y7)(((...e)=>o.submitForm&&o.submitForm(...e)),["prevent"]))},[(0,r.QD)("div",CN,[(0,r.QD)("div",$N,[i.status?((0,r.Wz)(),(0,r.An)("h6",SN,"New User")):((0,r.Wz)(),(0,r.An)("h6",UN,"Update User"))]),(0,r.QD)("div",VN,[(0,r.QD)("div",jN,[(0,r.QD)("div",YN,[a[13]||(a[13]=(0,r.QD)("label",{class:"form-label"},"Name",-1)),a[14]||(a[14]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Name",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.name}]),"onUpdate:modelValue":a[0]||(a[0]=e=>i.user.name=e),ref:"name"},null,2),[[t.Og,i.user.name]]),i.errors.name?((0,r.Wz)(),(0,r.An)("span",TN,(0,d.WA)(i.errors.name[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",NN,[a[15]||(a[15]=(0,r.QD)("label",{class:"form-label"},"Email",-1)),a[16]||(a[16]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"email",placeholder:"Email",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.email}]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.user.email=e)},null,2),[[t.Og,i.user.email]]),i.errors.email?((0,r.Wz)(),(0,r.An)("span",RN,(0,d.WA)(i.errors.email[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",qN,[a[17]||(a[17]=(0,r.QD)("label",{class:"form-label"},"Password",-1)),a[18]||(a[18]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"password",disabled:!i.status,placeholder:"Password",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.password}]),"onUpdate:modelValue":a[2]||(a[2]=e=>i.user.password=e)},null,10,EN),[[t.Og,i.user.password]]),i.errors.password?((0,r.Wz)(),(0,r.An)("span",KN,(0,d.WA)(i.errors.password[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",IN,[a[19]||(a[19]=(0,r.QD)("label",{class:"form-label"},"Mobile No.",-1)),a[20]||(a[20]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Mobile No.",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.mobile_no}]),"onUpdate:modelValue":a[3]||(a[3]=e=>i.user.mobile_no=e)},null,2),[[t.Og,i.user.mobile_no]]),i.errors.mobile_no?((0,r.Wz)(),(0,r.An)("span",FN,(0,d.WA)(i.errors.mobile_no[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",ON,[a[22]||(a[22]=(0,r.QD)("label",{class:"form-label"},"Role",-1)),a[23]||(a[23]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("select",{class:(0,d.WN)(["form-control",{"is-invalid":i.errors.role_id}]),"onUpdate:modelValue":a[4]||(a[4]=e=>i.user.role_id=e)},[a[21]||(a[21]=(0,r.QD)("option",{value:""},"Select Role",-1)),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.roles,((e,a)=>((0,r.Wz)(),(0,r.An)("option",{key:a,value:e.role_id},(0,d.WA)(e.role),9,LN)))),128))],2),[[t.Ip,i.user.role_id]]),i.errors.role_id?((0,r.Wz)(),(0,r.An)("span",BN,(0,d.WA)(i.errors.role_id[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",MN,[a[24]||(a[24]=(0,r.QD)("label",{class:"form-label"},"Address",-1)),(0,r.wt)((0,r.QD)("textarea",{rows:"2",type:"text",placeholder:"Address",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.address}]),"onUpdate:modelValue":a[5]||(a[5]=e=>i.user.address=e)},null,2),[[t.Og,i.user.address]]),i.errors.address?((0,r.Wz)(),(0,r.An)("span",ZN,(0,d.WA)(i.errors.address[0]),1)):(0,r.g1)("",!0)])])]),(0,r.QD)("div",HN,[(0,r.QD)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[6]||(a[6]=(0,t.Y7)((e=>o.discard()),["prevent"]))},a[25]||(a[25]=[(0,r.QD)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.mY)(" Discard")])),(0,r.QD)("button",JN,[i.status?((0,r.Wz)(),(0,r.An)("span",GN,a[26]||(a[26]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Submit")]))):((0,r.Wz)(),(0,r.An)("span",XN,a[27]||(a[27]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Update")])))])])])],32)])])])}var aR={components:{Search:Gr.c},name:"User.Create",data(){return{user:{user_id:"",name:"",email:"",password:"",mobile_no:"",role_id:"",plant_id:"",address:""},roles:[],plants:[],errors:[],status:!0}},beforeRouteEnter(e,a,s){s((a=>{if(a.getRoles(),"Users.Create"==e.name)a.$refs.name.focus();else{a.status=!1;let s={uri:"getUser",data:{user_id:e.params.user_id}};a.$store.dispatch("post",s).then((function(e){a.user=e.data.data})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}}))},methods:{submitForm(){let e=this;e.status?e.addUser():e.updateUser()},getRoles(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getRoles"}).then((s=>{a.hide(),e.roles=s.data.data})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},addUser(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"addUser",data:this.user}).then((s=>{a.hide(),this.$store.dispatch("success",s.data.message),e.$router.push("/users")})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},updateUser(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"updateUser",data:this.user}).then((e=>{a.hide(),this.$store.dispatch("success",e.data.message),this.$router.push("/users")})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getUser(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"showUser",data:this.user}).then((e=>{a.hide(),this.user=e.data.data})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},discard(){let e=this;e.user.name="",e.user.email="",e.user.password="",e.user.mobile_no="",e.user.address="",e.user.role_id="",e.$refs.name.focus(),e.errors=[],e.status=!0}}};const sR=(0,Ce.c)(aR,[["render",eR]]);var tR=sR;const rR={class:""},lR={class:"d-sm-flex align-items-center justify-content-between mb-2"},iR={class:"breadcrumb fs-sm mb-1"},oR={class:"breadcrumb-item","aria-current":"page"},nR={class:"row"},dR={class:"col-12"},cR={class:"card card-one"},uR={class:"card-body"},pR={class:"table-responsive table-responsive-sm"},mR={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},_R={style:{"background-color":"#9b9b9b",color:"white"}},hR={key:0,class:"ri-arrow-up-line"},bR={key:1,class:"ri-arrow-down-line"},vR={key:2,class:"fas fa-sort"},yR={key:0,class:"ri-arrow-up-line"},gR={key:1,class:"ri-arrow-down-line"},DR={key:2,class:"fas fa-sort"},QR={key:0,class:"ri-arrow-up-line"},fR={key:1,class:"ri-arrow-down-line"},kR={key:2,class:"fas fa-sort"},wR={key:0,class:"ri-arrow-up-line"},AR={key:1,class:"ri-arrow-down-line"},WR={key:2,class:"fas fa-sort"},zR={key:0,class:"ri-arrow-up-line"},xR={key:1,class:"ri-arrow-down-line"},PR={key:2,class:"fas fa-sort"},CR={class:"text-center"},$R={class:"text-center"},SR={class:"text-center"},UR={class:"text-center"},VR={class:"form-switch"},jR=["id","checked","value","onChange"],YR=["for"],TR={class:"text-center"},NR=["onClick"],RR={class:"card-footer"},qR={class:"d-flex justify-content-between align-items-center"};function ER(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("Pagination"),u=(0,r.iS)("can");return(0,r.Wz)(),(0,r.An)("div",rR,[(0,r.QD)("div",lR,[(0,r.QD)("div",null,[(0,r.QD)("ol",iR,[(0,r.QD)("li",oR,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[9]||(a[9]=[(0,r.mY)("Dashboard")]))),_:1})]),a[10]||(a[10]=(0,r.QD)("li",{class:"breadcrumb-item","aria-current":"page"},[(0,r.QD)("a",{href:"javascript:void(0)"},"User Management")],-1)),a[11]||(a[11]=(0,r.QD)("li",{class:"breadcrumb-item active","aria-current":"page"},"Users",-1))]),a[12]||(a[12]=(0,r.QD)("h4",{class:"main-title mb-0"},"Users",-1))]),(0,r.wt)(((0,r.Wz)(),(0,r.Az)(n,{to:"/user/create",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.Ql)((()=>a[13]||(a[13]=[(0,r.QD)("i",{class:"ri-list-check"},null,-1),(0,r.mY)(" ADD USER")]))),_:1})),[[u,"users.create"]])]),(0,r.QD)("div",nR,[(0,r.QD)("div",dR,[(0,r.QD)("div",cR,[a[24]||(a[24]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Users")],-1)),(0,r.QD)("div",uR,[(0,r.wt)((0,r.QD)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.search=e),onKeypress:a[1]||(a[1]=(0,t.jj)((e=>o.search()),["enter"]))},null,544),[[t.Og,i.meta.search]]),(0,r.QD)("div",pR,[(0,r.QD)("table",mR,[(0,r.QD)("tr",_R,[a[21]||(a[21]=(0,r.QD)("th",{class:"text-center"},"#",-1)),(0,r.QD)("th",{onClick:a[2]||(a[2]=e=>o.sort("name"))},[a[14]||(a[14]=(0,r.mY)(" Name ")),(0,r.QD)("span",null,["name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",hR)):"name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",bR)):((0,r.Wz)(),(0,r.An)("i",vR))])]),(0,r.QD)("th",{onClick:a[3]||(a[3]=e=>o.sort("email"))},[a[15]||(a[15]=(0,r.mY)(" Email ")),(0,r.QD)("span",null,["email"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",yR)):"email"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",gR)):((0,r.Wz)(),(0,r.An)("i",DR))])]),(0,r.QD)("th",{onClick:a[4]||(a[4]=e=>o.sort("role_id"))},[a[16]||(a[16]=(0,r.mY)(" Role ")),(0,r.QD)("span",null,["role_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",QR)):"role_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",fR)):((0,r.Wz)(),(0,r.An)("i",kR))])]),(0,r.QD)("th",{onClick:a[5]||(a[5]=e=>o.sort("plant_id"))},[a[17]||(a[17]=(0,r.mY)(" Plant ")),(0,r.QD)("span",null,["plant_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",wR)):"plant_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",AR)):((0,r.Wz)(),(0,r.An)("i",WR))])]),(0,r.QD)("th",{onClick:a[6]||(a[6]=e=>o.sort("mobile_no"))},[a[18]||(a[18]=(0,r.mY)(" Mobile No. ")),(0,r.QD)("span",null,["mobile_no"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",zR)):"mobile_no"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",xR)):((0,r.Wz)(),(0,r.An)("i",PR))])]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("th",CR,a[19]||(a[19]=[(0,r.mY)("Status")]))),[[u,"users.delete"]]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("th",$R,a[20]||(a[20]=[(0,r.mY)("Actions")]))),[[u,"users.update"]])]),(0,r.QD)("tbody",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.users,((e,s)=>((0,r.Wz)(),(0,r.An)("tr",{key:s},[(0,r.QD)("td",SR,(0,d.WA)(i.meta.from+s),1),(0,r.QD)("td",null,(0,d.WA)(e.name),1),(0,r.QD)("td",null,(0,d.WA)(e.email),1),(0,r.QD)("td",null,(0,d.WA)(e.role.role),1),(0,r.QD)("td",null,(0,d.WA)(e.plant?.plant_name),1),(0,r.QD)("td",null,(0,d.WA)(e.mobile_no),1),(0,r.wt)(((0,r.Wz)(),(0,r.An)("td",UR,[(0,r.QD)("div",VR,[(0,r.QD)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"user"+e.user_id,checked:e.status,value:e.status,onChange:a=>o.deleteUser(e)},null,40,jR),(0,r.QD)("label",{class:"custom-control-label",for:"user"+e.user_id},null,8,YR)])])),[[u,"users.delete"]]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("td",TR,[e.status?((0,r.Wz)(),(0,r.An)("a",{key:0,href:"javascript:void(0)",class:"text-success",onClick:a=>o.editUser(e)},a[22]||(a[22]=[(0,r.QD)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,NR)):(0,r.g1)("",!0)])),[[u,"users.update"]])])))),128))])])])]),(0,r.QD)("div",RR,[(0,r.QD)("div",qR,[(0,r.wt)((0,r.QD)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[7]||(a[7]=e=>i.meta.per_page=e),onChange:a[8]||(a[8]=(...a)=>e.onPerPageChange&&e.onPerPageChange(...a))},a[23]||(a[23]=[(0,r.QD)("option",null,"10",-1),(0,r.QD)("option",null,"15",-1),(0,r.QD)("option",null,"20",-1),(0,r.QD)("option",null,"25",-1),(0,r.QD)("option",null,"30",-1)]),544),[[t.Ip,i.meta.per_page]]),(0,r.QD)("span",null,"Showing "+(0,d.WA)(i.meta.from)+" to "+(0,d.WA)(i.meta.to)+" of "+(0,d.WA)(i.meta.totalRows)+" entries",1),(0,r.K2)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var KR={components:{Pagination:Zt},data(){return{meta:{search:"",order_by:"asc",keyword:"user_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},users:[],errors:[],status:!0}},beforeRouteEnter(e,a,s){s((e=>{"Users.Edit"!=a.name?e.$store.commit("setCurrentPage",e.meta.page):e.meta.page=e.$store.getters.current_page}))},mounted(){this.index()},methods:{index(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"paginateUsers",data:e.meta}).then((s=>{a.hide(),this.users=s.data.data,this.meta.totalRows=s.data.meta.total,this.meta.from=s.data.meta.from,this.meta.lastPage=s.data.meta.last_page,this.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},editUser(e){this.$store.commit("setCurrentPage",this.meta.page),this.$router.push("/users/"+e.user_id+"/edit")},deleteUser(e){let a=this,s=a.$loading.show();a.$store.dispatch("post",{uri:"deleteUser",data:e}).then((e=>{s.hide(),a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){s.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},search(){let e=this;e.meta.page=1,e.index()},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()}}};const IR=(0,Ce.c)(KR,[["render",ER]]);var FR=IR;const OR={class:"d-sm-flex align-items-center justify-content-between mb-2"},LR={class:"breadcrumb fs-sm mb-1"},BR={class:"breadcrumb-item","aria-current":"page"},MR={class:"d-flex align-items-center gap-2 mt-3 mt-md-0"},ZR={class:"row g-3"},HR={class:"col-sm-12"},JR={class:"card card-one"},GR={class:"card-header"},XR={class:"nav ms-auto"},eq=["value"],aq={class:"card-body"},sq={class:"row"},tq={class:"table-responsive text-wrap"},rq={class:"table table-sm table-bordered table-striped"},lq={colspan:"4",class:"bold text-primary"},iq={class:"text-center"},oq={class:"text-center"},nq={class:"form-switch"},dq=["disabled","checked","value","onChange"];function cq(e,a,s,l,i,o){const n=(0,r.E1)("router-link");return(0,r.Wz)(),(0,r.An)("div",null,[(0,r.QD)("div",OR,[(0,r.QD)("div",null,[(0,r.QD)("ol",LR,[(0,r.QD)("li",BR,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[3]||(a[3]=[(0,r.mY)("Dashboard")]))),_:1})]),a[4]||(a[4]=(0,r.QD)("li",{class:"breadcrumb-item","aria-current":"page"},[(0,r.QD)("a",{href:"javascript:void(0)"},"User Management")],-1)),a[5]||(a[5]=(0,r.QD)("li",{class:"breadcrumb-item active","aria-current":"page"},"Permissions",-1))]),a[6]||(a[6]=(0,r.QD)("h4",{class:"main-title mb-0"},"Permissions",-1))]),(0,r.QD)("div",MR,[(0,r.QD)("button",{type:"button",class:"btn btn-primary d-flex align-items-center gap-2",onClick:a[0]||(a[0]=e=>o.addPermissions())},a[7]||(a[7]=[(0,r.QD)("i",{class:"ri-git-repository-private-line fs-18 lh-1"},null,-1),(0,r.mY)(" Add Permissions ")]))])]),(0,r.QD)("div",ZR,[(0,r.QD)("div",HR,[(0,r.QD)("div",JR,[(0,r.QD)("div",GR,[a[9]||(a[9]=(0,r.QD)("h6",{class:"card-title"},"Permissions",-1)),(0,r.QD)("nav",XR,[(0,r.wt)((0,r.QD)("select",{class:(0,d.WN)(["form-control",{"is-invalid":i.errors.role_id}]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.role.role_id=e),onChange:a[2]||(a[2]=(...e)=>o.getRoleAbilities&&o.getRoleAbilities(...e))},[a[8]||(a[8]=(0,r.QD)("option",{value:""},"Select Role",-1)),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.roles,((e,a)=>((0,r.Wz)(),(0,r.An)("option",{key:a,value:e.role_id},(0,d.WA)(e.role),9,eq)))),128))],34),[[t.Ip,i.role.role_id]])])]),(0,r.QD)("div",aq,[(0,r.QD)("div",sq,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.role_abilities,((e,s)=>((0,r.Wz)(),(0,r.An)("div",{class:"col-sm-6",key:s},[(0,r.QD)("div",tq,[(0,r.QD)("table",rq,[(0,r.QD)("thead",null,[(0,r.QD)("tr",null,[(0,r.QD)("th",lq,(0,d.WA)(e[0]?.module.module_name),1)]),a[10]||(a[10]=(0,r.QD)("tr",{class:"text-wrap"},[(0,r.QD)("th",{width:"5%",class:"text-center"},"#"),(0,r.QD)("th",{width:"40%"},"Ability"),(0,r.QD)("th",{width:"40%"},"Description"),(0,r.QD)("th",{width:"5%",class:"text-center"},"Status")],-1))]),(0,r.QD)("tbody",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(e,((a,s)=>((0,r.Wz)(),(0,r.An)("tr",{key:s},[(0,r.QD)("td",iq,(0,d.WA)(s+1),1),(0,r.QD)("td",null,(0,d.WA)(o.getAbilityStatus(e,a)),1),(0,r.QD)("td",null,(0,d.WA)(a.description),1),(0,r.QD)("td",oq,[(0,r.QD)("div",nq,[(0,r.QD)("input",{class:"form-check-input",type:"checkbox",role:"switch",disabled:a.is_disabled,checked:a.status,value:a.status,onChange:s=>o.deleteAuthorization(e,a,s)},null,40,dq)])])])))),128))])])])])))),128))])])])])])])}var uq={data(){return{roles:[],role_abilities:[],errors:[],role:{role_id:""}}},mounted(){let e=this;e.role.role_id=e.$store?.getters?.user?.role_id,e.getRoles()},methods:{getAbilityStatus(e,a){a.is_disabled=!1;let s=e.filter((function(e){let a=e.ability.split(".");if(a.length&&"view"==a[1])return e}));s.length&&0==s[0].status&&(a.is_disabled=!0);let t=a.ability.split(".");return t.length&&"view"==t[1]&&(a.is_disabled=!1),a.ability},getRoles(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getRoles",data:e.role}).then((s=>{a.hide(),e.roles=s.data.data,e.getRoleAbilities()})).catch((s=>{a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getRoleAbilities(){let e=this,a=e.$loading.show();this.$store.dispatch("post",{uri:"getPermissionStatus",data:{role_id:e.role.role_id}}).then((s=>{a.hide(),e.role_abilities=s.data})).catch((s=>{a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},addPermissions(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"addPermissions",data:{role_id:e.role.role_id}}).then((s=>{a.hide(),e.$store.dispatch("success","Permissions updated successfully!"),e.getRoleAbilities()})).catch((s=>{a.hide(),e.errors=s.response.data.error,e.$store.dispatch("error",s.response.data.message)}))},deleteAuthorization(e,a,s){let t=this,r=a.ability.split("."),l=[];r.length&&("view"!=r[1]||s.target.checked||e.map((function(e){e.status=!1,l.push(e)})));let i={uri:"deleteAuthorization",data:{role_id:t.role.role_id,ability_id:a.ability_id,status:a.status,role_abilities:l}};t.$store.dispatch("post",i).then((function(){t.getRoleAbilities()})).catch((function(e){t.errors=e.response.data.error,t.$store.dispatch("error",e.response.data.message)}))}}};const pq=(0,Ce.c)(uq,[["render",cq]]);var mq=pq;const _q={class:""},hq={class:"d-sm-flex align-items-center justify-content-between mb-2"},bq={class:"breadcrumb fs-sm mb-1"},vq={class:"breadcrumb-item","aria-current":"page"},yq={class:"row"},gq={class:"col-12"},Dq={class:"card card-one"},Qq={class:"card-body"},fq={class:"row"},kq={class:"col-4"},wq=["value"],Aq={class:"col-8"},Wq={class:"table-responsive table-responsive-sm"},zq={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},xq={style:{"background-color":"#9b9b9b",color:"white"}},Pq={key:0,class:"ri-arrow-up-line"},Cq={key:1,class:"ri-arrow-down-line"},$q={key:2,class:"fas fa-sort"},Sq={key:0,class:"ri-arrow-up-line"},Uq={key:1,class:"ri-arrow-down-line"},Vq={key:2,class:"fas fa-sort"},jq={key:0,class:"ri-arrow-up-line"},Yq={key:1,class:"ri-arrow-down-line"},Tq={key:2,class:"fas fa-sort"},Nq={key:0,class:"ri-arrow-up-line"},Rq={key:1,class:"ri-arrow-down-line"},qq={key:2,class:"fas fa-sort"},Eq={key:0,class:"ri-arrow-up-line"},Kq={key:1,class:"ri-arrow-down-line"},Iq={key:2,class:"fas fa-sort"},Fq={key:0,class:"ri-arrow-up-line"},Oq={key:1,class:"ri-arrow-down-line"},Lq={key:2,class:"fas fa-sort"},Bq={key:0,class:"ri-arrow-up-line"},Mq={key:1,class:"ri-arrow-down-line"},Zq={key:2,class:"fas fa-sort"},Hq={class:"text-center"},Jq={class:"card-footer"},Gq={class:"d-flex justify-content-between align-items-center"};function Xq(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("Pagination");return(0,r.Wz)(),(0,r.An)("div",_q,[(0,r.QD)("div",hq,[(0,r.QD)("div",null,[(0,r.QD)("ol",bq,[(0,r.QD)("li",vq,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[9]||(a[9]=[(0,r.mY)("Dashboard")]))),_:1})]),a[10]||(a[10]=(0,r.QD)("li",{class:"breadcrumb-item","aria-current":"page"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Deviations")],-1))]),a[11]||(a[11]=(0,r.QD)("h4",{class:"main-title mb-0"},"Deviations",-1))])]),(0,r.QD)("div",yq,[(0,r.QD)("div",gq,[(0,r.QD)("div",Dq,[a[22]||(a[22]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Deviations")],-1)),(0,r.QD)("div",Qq,[(0,r.QD)("div",fq,[(0,r.QD)("div",kq,[(0,r.wt)((0,r.QD)("select",{class:"form-control form-control-sm mb-2","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.department_id=e),onChange:a[1]||(a[1]=e=>o.search())},[a[12]||(a[12]=(0,r.QD)("option",{value:""},"Select Department",-1)),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.departments,((e,a)=>((0,r.Wz)(),(0,r.An)("option",{key:a,value:e.department_id},(0,d.WA)(e.department_name),9,wq)))),128))],544),[[t.Ip,i.meta.department_id]])]),(0,r.QD)("div",Aq,[(0,r.wt)((0,r.QD)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[2]||(a[2]=e=>i.meta.search=e),onKeypress:a[3]||(a[3]=(0,t.jj)((e=>o.search()),["enter"]))},null,544),[[t.Og,i.meta.search]])])]),(0,r.QD)("div",Wq,[(0,r.QD)("table",zq,[(0,r.QD)("tr",xq,[a[20]||(a[20]=(0,r.QD)("th",{class:"text-center"},"#",-1)),(0,r.QD)("th",null,[a[13]||(a[13]=(0,r.mY)(" Department ")),(0,r.QD)("span",null,["department_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Pq)):"department_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Cq)):((0,r.Wz)(),(0,r.An)("i",$q))])]),(0,r.QD)("th",null,[a[14]||(a[14]=(0,r.mY)(" Asset ")),(0,r.QD)("span",null,["asset_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Sq)):"asset_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Uq)):((0,r.Wz)(),(0,r.An)("i",Vq))])]),(0,r.QD)("th",null,[a[15]||(a[15]=(0,r.mY)(" Asset Type ")),(0,r.QD)("span",null,["asset_type_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",jq)):"asset_type_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Yq)):((0,r.Wz)(),(0,r.An)("i",Tq))])]),(0,r.QD)("th",null,[a[16]||(a[16]=(0,r.mY)(" Check Date ")),(0,r.QD)("span",null,["reference_date"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Nq)):"reference_date"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Rq)):((0,r.Wz)(),(0,r.An)("i",qq))])]),(0,r.QD)("th",{onClick:a[4]||(a[4]=e=>o.sort("field_name"))},[a[17]||(a[17]=(0,r.mY)(" Check ")),(0,r.QD)("span",null,["field_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Eq)):"field_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Kq)):((0,r.Wz)(),(0,r.An)("i",Iq))])]),(0,r.QD)("th",{onClick:a[5]||(a[5]=e=>o.sort("default_value"))},[a[18]||(a[18]=(0,r.mY)(" Default Value ")),(0,r.QD)("span",null,["default_value"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Fq)):"default_value"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Oq)):((0,r.Wz)(),(0,r.An)("i",Lq))])]),(0,r.QD)("th",{onClick:a[6]||(a[6]=e=>o.sort("value"))},[a[19]||(a[19]=(0,r.mY)(" Value ")),(0,r.QD)("span",null,["value"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Bq)):"value"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Mq)):((0,r.Wz)(),(0,r.An)("i",Zq))])])]),(0,r.QD)("tbody",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.user_assets,((e,a)=>((0,r.Wz)(),(0,r.An)("tr",{key:a},[(0,r.QD)("td",Hq,(0,d.WA)(i.meta.from+a),1),(0,r.QD)("td",null,(0,d.WA)(e.department?.department_name),1),(0,r.QD)("td",null,(0,d.WA)(e?.asset?.asset_name),1),(0,r.QD)("td",null,(0,d.WA)(e.asset_type?.asset_type_name),1),(0,r.QD)("td",null,(0,d.WA)(e.user_check?.reference_date),1),(0,r.QD)("td",null,(0,d.WA)(e.check?.field_name),1),(0,r.QD)("td",null,(0,d.WA)(e.default_value),1),(0,r.QD)("td",null,(0,d.WA)(e.value),1)])))),128))])])])]),(0,r.QD)("div",Jq,[(0,r.QD)("div",Gq,[(0,r.wt)((0,r.QD)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[7]||(a[7]=e=>i.meta.per_page=e),onChange:a[8]||(a[8]=(...a)=>e.onPerPageChange&&e.onPerPageChange(...a))},a[21]||(a[21]=[(0,r.QD)("option",null,"10",-1),(0,r.QD)("option",null,"15",-1),(0,r.QD)("option",null,"20",-1),(0,r.QD)("option",null,"25",-1),(0,r.QD)("option",null,"30",-1)]),544),[[t.Ip,i.meta.per_page]]),(0,r.QD)("span",null,"Showing "+(0,d.WA)(i.meta.from)+" to "+(0,d.WA)(i.meta.to)+" of "+(0,d.WA)(i.meta.totalRows)+" entries",1),(0,r.K2)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var eE={components:{Pagination:Zt},data(){return{meta:{search:"",order_by:"asc",keyword:"user_check_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1,department_id:""},user_assets:[],errors:[],departments:[],status:!0}},mounted(){this.index(),this.getDepartments()},methods:{index(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"deviationAssetChecks",data:e.meta}).then((s=>{a.hide(),this.user_assets=s.data.data,this.meta.totalRows=s.data.meta.total,this.meta.from=s.data.meta.from,this.meta.lastPage=s.data.meta.last_page,this.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getDepartments(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getDepartments"}).then((s=>{a.hide(),e.departments=s.data.data})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},search(){let e=this;e.meta.page=1,e.index()},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()}}};const aE=(0,Ce.c)(eE,[["render",Xq]]);var sE=aE;const tE={class:""},rE={class:"d-sm-flex align-items-center justify-content-between mb-2"},lE={class:"breadcrumb fs-sm mb-1"},iE={class:"breadcrumb-item","aria-current":"page"},oE={class:"row"},nE={class:"col-12"},dE={class:"card card-one"},cE={class:"card-body"},uE={class:"row"},pE={class:"col-4"},mE=["value"],_E={class:"col-8"},hE={class:"table-responsive table-responsive-sm"},bE={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},vE={style:{"background-color":"#9b9b9b",color:"white"}},yE={key:0,class:"ri-arrow-up-line"},gE={key:1,class:"ri-arrow-down-line"},DE={key:2,class:"fas fa-sort"},QE={key:0,class:"ri-arrow-up-line"},fE={key:1,class:"ri-arrow-down-line"},kE={key:2,class:"fas fa-sort"},wE={key:0,class:"ri-arrow-up-line"},AE={key:1,class:"ri-arrow-down-line"},WE={key:2,class:"fas fa-sort"},zE={key:0,class:"ri-arrow-up-line"},xE={key:1,class:"ri-arrow-down-line"},PE={key:2,class:"fas fa-sort"},CE={key:0,class:"ri-arrow-up-line"},$E={key:1,class:"ri-arrow-down-line"},SE={key:2,class:"fas fa-sort"},UE={key:0,class:"ri-arrow-up-line"},VE={key:1,class:"ri-arrow-down-line"},jE={key:2,class:"fas fa-sort"},YE={class:"text-center"},TE={class:"card-footer"},NE={class:"d-flex justify-content-between align-items-center"};function RE(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("Pagination");return(0,r.Wz)(),(0,r.An)("div",tE,[(0,r.QD)("div",rE,[(0,r.QD)("div",null,[(0,r.QD)("ol",lE,[(0,r.QD)("li",iE,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[10]||(a[10]=[(0,r.mY)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.QD)("li",{class:"breadcrumb-item","aria-current":"page"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Pendings/Overdues")],-1))]),a[12]||(a[12]=(0,r.QD)("h4",{class:"main-title mb-0"},"Pendings/Overdues",-1))])]),(0,r.QD)("div",oE,[(0,r.QD)("div",nE,[(0,r.QD)("div",dE,[a[22]||(a[22]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Pendings/Overdues")],-1)),(0,r.QD)("div",cE,[(0,r.QD)("div",uE,[(0,r.QD)("div",pE,[(0,r.wt)((0,r.QD)("select",{class:"form-control form-control-sm mb-2","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.department_id=e),onChange:a[1]||(a[1]=e=>o.search())},[a[13]||(a[13]=(0,r.QD)("option",{value:""},"Select Department",-1)),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.departments,((e,a)=>((0,r.Wz)(),(0,r.An)("option",{key:a,value:e.department_id},(0,d.WA)(e.department_name),9,mE)))),128))],544),[[t.Ip,i.meta.department_id]])]),(0,r.QD)("div",_E,[(0,r.wt)((0,r.QD)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[2]||(a[2]=e=>i.meta.search=e),onKeypress:a[3]||(a[3]=(0,t.jj)((e=>o.search()),["enter"]))},null,544),[[t.Og,i.meta.search]])])]),(0,r.QD)("div",hE,[(0,r.QD)("table",bE,[(0,r.QD)("tr",vE,[a[20]||(a[20]=(0,r.QD)("th",{class:"text-center"},"#",-1)),(0,r.QD)("th",null,[a[14]||(a[14]=(0,r.mY)(" Department ")),(0,r.QD)("span",null,["department_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",yE)):"department_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",gE)):((0,r.Wz)(),(0,r.An)("i",DE))])]),(0,r.QD)("th",{onClick:a[4]||(a[4]=e=>o.sort("service_no"))},[a[15]||(a[15]=(0,r.mY)(" Service No. ")),(0,r.QD)("span",null,["service_no"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",QE)):"service_no"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",fE)):((0,r.Wz)(),(0,r.An)("i",kE))])]),(0,r.QD)("th",{onClick:a[5]||(a[5]=e=>o.sort("service_date"))},[a[16]||(a[16]=(0,r.mY)(" Service Date ")),(0,r.QD)("span",null,["service_date"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",wE)):"service_date"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",AE)):((0,r.Wz)(),(0,r.An)("i",WE))])]),(0,r.QD)("th",{onClick:a[6]||(a[6]=e=>o.sort("next_service_date"))},[a[17]||(a[17]=(0,r.mY)(" Next Service Date ")),(0,r.QD)("span",null,["next_service_date"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",zE)):"next_service_date"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",xE)):((0,r.Wz)(),(0,r.An)("i",PE))])]),(0,r.QD)("th",{onClick:a[7]||(a[7]=e=>o.sort("asset_id"))},[a[18]||(a[18]=(0,r.mY)(" Asset Code ")),(0,r.QD)("span",null,["asset_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",CE)):"asset_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",$E)):((0,r.Wz)(),(0,r.An)("i",SE))])]),(0,r.QD)("th",null,[a[19]||(a[19]=(0,r.mY)(" Delay (in days) ")),(0,r.QD)("span",null,["delay"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",UE)):"delay"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",VE)):((0,r.Wz)(),(0,r.An)("i",jE))])])]),(0,r.QD)("tbody",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.user_services,((e,a)=>((0,r.Wz)(),(0,r.An)("tr",{key:a},[(0,r.QD)("td",YE,(0,d.WA)(i.meta.from+a),1),(0,r.QD)("td",null,(0,d.WA)(e.asset?.department?.department_name),1),(0,r.QD)("td",null,(0,d.WA)(e?.service_no),1),(0,r.QD)("td",null,(0,d.WA)(e?.service_date),1),(0,r.QD)("td",null,(0,d.WA)(e?.next_service_date),1),(0,r.QD)("td",null,(0,d.WA)(e.asset?.asset_code),1),(0,r.QD)("td",null,(0,d.WA)(e?.delay_days),1)])))),128))])])])]),(0,r.QD)("div",TE,[(0,r.QD)("div",NE,[(0,r.wt)((0,r.QD)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.per_page=e),onChange:a[9]||(a[9]=(...a)=>e.onPerPageChange&&e.onPerPageChange(...a))},a[21]||(a[21]=[(0,r.QD)("option",null,"10",-1),(0,r.QD)("option",null,"15",-1),(0,r.QD)("option",null,"20",-1),(0,r.QD)("option",null,"25",-1),(0,r.QD)("option",null,"30",-1)]),544),[[t.Ip,i.meta.per_page]]),(0,r.QD)("span",null,"Showing "+(0,d.WA)(i.meta.from)+" to "+(0,d.WA)(i.meta.to)+" of "+(0,d.WA)(i.meta.totalRows)+" entries",1),(0,r.K2)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var qE={components:{Pagination:Zt},data(){return{meta:{search:"",order_by:"asc",keyword:"user_service_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1,department_id:""},user_services:[],errors:[],departments:[],status:!0}},mounted(){this.index(),this.getDepartments()},methods:{index(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"getPendingServices",data:e.meta}).then((s=>{a.hide(),this.user_services=s.data.data,this.meta.totalRows=s.data.meta.total,this.meta.from=s.data.meta.from,this.meta.lastPage=s.data.meta.last_page,this.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getDepartments(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getDepartments"}).then((s=>{a.hide(),e.departments=s.data.data})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},search(){let e=this;e.meta.page=1,e.index()},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()}}};const EE=(0,Ce.c)(qE,[["render",RE]]);var KE=EE;const IE={class:""},FE={class:"d-sm-flex align-items-center justify-content-between mb-2"},OE={class:"breadcrumb fs-sm mb-1"},LE={class:"breadcrumb-item","aria-current":"page"},BE={class:"row"},ME={class:"col-12"},ZE={class:"card card-one"},HE={class:"card-body"},JE={class:"row"},GE={class:"col-4"},XE=["value"],eK={class:"col-8"},aK={class:"table-responsive table-responsive-sm"},sK={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},tK={style:{"background-color":"#9b9b9b",color:"white"}},rK={key:0,class:"ri-arrow-up-line"},lK={key:1,class:"ri-arrow-down-line"},iK={key:2,class:"fas fa-sort"},oK={key:0,class:"ri-arrow-up-line"},nK={key:1,class:"ri-arrow-down-line"},dK={key:2,class:"fas fa-sort"},cK={key:0,class:"ri-arrow-up-line"},uK={key:1,class:"ri-arrow-down-line"},pK={key:2,class:"fas fa-sort"},mK={key:0,class:"ri-arrow-up-line"},_K={key:1,class:"ri-arrow-down-line"},hK={key:2,class:"fas fa-sort"},bK={key:0,class:"ri-arrow-up-line"},vK={key:1,class:"ri-arrow-down-line"},yK={key:2,class:"fas fa-sort"},gK={class:"text-center"},DK={class:"card-footer"},QK={class:"d-flex justify-content-between align-items-center"};function fK(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("Pagination");return(0,r.Wz)(),(0,r.An)("div",IE,[(0,r.QD)("div",FE,[(0,r.QD)("div",null,[(0,r.QD)("ol",OE,[(0,r.QD)("li",LE,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[10]||(a[10]=[(0,r.mY)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.QD)("li",{class:"breadcrumb-item","aria-current":"page"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Upcoming Jobs")],-1))]),a[12]||(a[12]=(0,r.QD)("h4",{class:"main-title mb-0"},"Upcoming Jobs",-1))])]),(0,r.QD)("div",BE,[(0,r.QD)("div",ME,[(0,r.QD)("div",ZE,[a[21]||(a[21]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Upcoming Jobs")],-1)),(0,r.QD)("div",HE,[(0,r.QD)("div",JE,[(0,r.QD)("div",GE,[(0,r.wt)((0,r.QD)("select",{class:"form-control form-control-sm mb-2","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.department_id=e),onChange:a[1]||(a[1]=e=>o.search())},[a[13]||(a[13]=(0,r.QD)("option",{value:""},"Select Department",-1)),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.departments,((e,a)=>((0,r.Wz)(),(0,r.An)("option",{key:a,value:e.department_id},(0,d.WA)(e.department_name),9,XE)))),128))],544),[[t.Ip,i.meta.department_id]])]),(0,r.QD)("div",eK,[(0,r.wt)((0,r.QD)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[2]||(a[2]=e=>i.meta.search=e),onKeypress:a[3]||(a[3]=(0,t.jj)((e=>o.search()),["enter"]))},null,544),[[t.Og,i.meta.search]])])]),(0,r.QD)("div",aK,[(0,r.QD)("table",sK,[(0,r.QD)("tr",tK,[a[19]||(a[19]=(0,r.QD)("th",{class:"text-center"},"#",-1)),(0,r.QD)("th",null,[a[14]||(a[14]=(0,r.mY)(" Department ")),(0,r.QD)("span",null,["department_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",rK)):"department_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",lK)):((0,r.Wz)(),(0,r.An)("i",iK))])]),(0,r.QD)("th",{onClick:a[4]||(a[4]=e=>o.sort("service_no"))},[a[15]||(a[15]=(0,r.mY)(" Service No. ")),(0,r.QD)("span",null,["service_no"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",oK)):"service_no"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",nK)):((0,r.Wz)(),(0,r.An)("i",dK))])]),(0,r.QD)("th",{onClick:a[5]||(a[5]=e=>o.sort("service_date"))},[a[16]||(a[16]=(0,r.mY)(" Service Date ")),(0,r.QD)("span",null,["service_date"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",cK)):"service_date"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",uK)):((0,r.Wz)(),(0,r.An)("i",pK))])]),(0,r.QD)("th",{onClick:a[6]||(a[6]=e=>o.sort("next_service_date"))},[a[17]||(a[17]=(0,r.mY)(" Next Service Date ")),(0,r.QD)("span",null,["next_service_date"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",mK)):"next_service_date"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",_K)):((0,r.Wz)(),(0,r.An)("i",hK))])]),(0,r.QD)("th",{onClick:a[7]||(a[7]=e=>o.sort("asset_id"))},[a[18]||(a[18]=(0,r.mY)(" Asset Code ")),(0,r.QD)("span",null,["asset_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",bK)):"asset_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",vK)):((0,r.Wz)(),(0,r.An)("i",yK))])])]),(0,r.QD)("tbody",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.user_services,((e,a)=>((0,r.Wz)(),(0,r.An)("tr",{key:a},[(0,r.QD)("td",gK,(0,d.WA)(i.meta.from+a),1),(0,r.QD)("td",null,(0,d.WA)(e.asset?.department?.department_name),1),(0,r.QD)("td",null,(0,d.WA)(e?.service_no),1),(0,r.QD)("td",null,(0,d.WA)(e?.service_date),1),(0,r.QD)("td",null,(0,d.WA)(e?.next_service_date),1),(0,r.QD)("td",null,(0,d.WA)(e.asset?.asset_code),1)])))),128))])])])]),(0,r.QD)("div",DK,[(0,r.QD)("div",QK,[(0,r.wt)((0,r.QD)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.per_page=e),onChange:a[9]||(a[9]=(...a)=>e.onPerPageChange&&e.onPerPageChange(...a))},a[20]||(a[20]=[(0,r.QD)("option",null,"10",-1),(0,r.QD)("option",null,"15",-1),(0,r.QD)("option",null,"20",-1),(0,r.QD)("option",null,"25",-1),(0,r.QD)("option",null,"30",-1)]),544),[[t.Ip,i.meta.per_page]]),(0,r.QD)("span",null,"Showing "+(0,d.WA)(i.meta.from)+" to "+(0,d.WA)(i.meta.to)+" of "+(0,d.WA)(i.meta.totalRows)+" entries",1),(0,r.K2)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var kK={components:{Pagination:Zt},data(){return{meta:{search:"",order_by:"asc",keyword:"user_service_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1,department_id:""},user_services:[],errors:[],departments:[],status:!0}},mounted(){this.index(),this.getDepartments()},methods:{index(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"getUpcomingServices",data:e.meta}).then((s=>{a.hide(),this.user_services=s.data.data,this.meta.totalRows=s.data.meta.total,this.meta.from=s.data.meta.from,this.meta.lastPage=s.data.meta.last_page,this.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getDepartments(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getDepartments"}).then((s=>{a.hide(),e.departments=s.data.data})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},search(){let e=this;e.meta.page=1,e.index()},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()}}};const wK=(0,Ce.c)(kK,[["render",fK]]);var AK=wK;const WK={class:""},zK={class:"d-sm-flex align-items-center justify-content-between mb-2"},xK={class:"row"},PK={class:"col-12"},CK={class:"card"},$K={class:"card-body mb-3"},SK={class:"table-responsive table-responsive-sm"},UK={class:"table table-sm text-nowrap table-bordered mb-0"},VK={class:"text-center"},jK={href:"javascript:void(0)","data-bs-toggle":"modal","data-bs-target":"#qrModal"};function YK(e,a,s,l,i,o){const n=(0,r.E1)("router-link");return(0,r.Wz)(),(0,r.An)("div",null,[(0,r.QD)("div",WK,[(0,r.QD)("div",zK,[a[4]||(a[4]=(0,r.QD)("div",null,[(0,r.QD)("h4",{class:"main-title mb-0"},"Assets")],-1)),(0,r.K2)(n,{to:"/components/create",type:"submit",class:"btn btn-sm btn-primary",style:{float:"right"}},{default:(0,r.Ql)((()=>a[3]||(a[3]=[(0,r.QD)("i",{class:"ri-list-check"},null,-1),(0,r.mY)(" ADD Asset")]))),_:1})]),(0,r.QD)("div",xK,[(0,r.QD)("div",PK,[(0,r.QD)("div",CK,[(0,r.QD)("div",$K,[a[21]||(a[21]=(0,r.QD)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key"},null,-1)),(0,r.QD)("div",SK,[(0,r.QD)("table",UK,[a[20]||(a[20]=(0,r.QD)("thead",null,[(0,r.QD)("tr",{class:"text-center"},[(0,r.QD)("th",{class:"text-center"},"#"),(0,r.QD)("th",null,"Asset Code"),(0,r.QD)("th",null,"Name"),(0,r.QD)("th",null,"Serail Number"),(0,r.QD)("th",null,"Make"),(0,r.QD)("th",null,"Plant"),(0,r.QD)("th",null,"Type"),(0,r.QD)("th",null,"Voltage"),(0,r.QD)("th",null,"Speed"),(0,r.QD)("th",null,"Capacity"),(0,r.QD)("th",null,"Frame"),(0,r.QD)("th",null,"Section"),(0,r.QD)("th",null,"View"),(0,r.QD)("th",{class:"text-center"},"Actions")])],-1)),(0,r.QD)("tbody",null,[(0,r.QD)("tr",null,[a[8]||(a[8]=(0,r.QD)("td",{class:"text-center"},"1",-1)),a[9]||(a[9]=(0,r.QD)("td",null,"112M415111167890",-1)),a[10]||(a[10]=(0,r.QD)("td",null,"Motor",-1)),a[11]||(a[11]=(0,r.QD)("td",null,"SL-0001",-1)),a[12]||(a[12]=(0,r.QD)("td",null,"Kirloskar",-1)),a[13]||(a[13]=(0,r.QD)("td",null,"UTCL-NCJW",-1)),a[14]||(a[14]=(0,r.QD)("td",null,"LT",-1)),a[15]||(a[15]=(0,r.QD)("td",null,"230V",-1)),a[16]||(a[16]=(0,r.QD)("td",null,"200",-1)),a[17]||(a[17]=(0,r.QD)("td",null,"200kV",-1)),a[18]||(a[18]=(0,r.QD)("td",null,"Regular",-1)),a[19]||(a[19]=(0,r.QD)("td",null,"section",-1)),(0,r.QD)("td",null,[(0,r.QD)("div",null,[(0,r.wt)((0,r.QD)("select",{class:"form-select form-select-sm","onUpdate:modelValue":a[0]||(a[0]=e=>i.url=e),onChange:a[1]||(a[1]=e=>o.getView())},a[5]||(a[5]=[(0,r.QD)("option",{value:""},"Select",-1),(0,r.QD)("option",{value:"/assets/activity"},"Activity Register",-1),(0,r.QD)("option",{value:"/components/maintenance"},"Maintenance Register",-1),(0,r.QD)("option",{value:"/assets/check_list"},"Check List",-1)]),544),[[t.Ip,i.url]])])]),(0,r.QD)("td",VK,[a[6]||(a[6]=(0,r.QD)("a",{href:"javascript:void(0)",class:"text-success me-2"},[(0,r.QD)("i",{class:"ri-pencil-line icon_hgt"})],-1)),a[7]||(a[7]=(0,r.QD)("a",{href:"javascript:void(0)",class:"text-danger me-2"},[(0,r.QD)("i",{class:"ri-delete-bin-line icon_hgt"})],-1)),(0,r.QD)("a",jK,[(0,r.QD)("i",{class:"ri-qr-code-line icon_hgt",onClick:a[2]||(a[2]=e=>o.generateBarCode("112M415111167890"))})])])])])])])]),a[22]||(a[22]=(0,r.QD)("div",{class:"card-footer"},null,-1))])])])]),a[23]||(a[23]=(0,r.IL)('<div class="modal" tabindex="-1" id="qrModal"><div class="modal-dialog"><div class="modal-content"><div class="modal-header"><h5 class="modal-title">Asset QR- Code</h5><button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button></div><div class="modal-body text-center"><img id="barcode" src="https://api.qrserver.com/v1/create-qr-code/?data=HelloWorld&amp;size=100x100" alt="" title="Equipment QR Code" width="200" height="200"><h1 class="mt-2 bg-danger">112M415111167890</h1></div><div class="modal-footer"><button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button></div></div></div></div>',1))])}var TK={data(){return{url:""}},methods:{getView(){this.$router.push(this.url)},generateBarCode(e){var a="https://api.qrserver.com/v1/create-qr-code/?data="+e+"&amp;size=50x50";$("#barcode").attr("src",a)}}};const NK=(0,Ce.c)(TK,[["render",YK]]);var RK=NK;const qK={class:""},EK={class:"d-sm-flex align-items-center justify-content-between mb-2"},KK={class:"breadcrumb fs-sm mb-1"},IK={class:"breadcrumb-item"},FK={class:"row"},OK={class:"col-12"},LK={class:"card"},BK={class:"card-body mb-3"},MK={class:"row g-2"},ZK={class:"col-md-3"},HK={class:"form-control"},JK=["value"],GK={class:"col-md-3"},XK=["value"],eI={class:"col-md-3"},aI={class:"form-control"},sI=["value"],tI={class:"col-md-3"},rI=["value"],lI={class:"col-md-3"},iI={class:"col-md-3"},oI={class:"col-md-3"},nI={class:"col-md-3"},dI={class:"col-md-3"},cI={class:"col-md-3"},uI={class:"col-md-3"},pI={class:"row"},mI={class:"col-md-5 border border-primary m-1 rounded text-primary p-2"},_I={class:"row"},hI={class:"col-md-9"},bI=["value"],vI={class:"col-md-3"},yI={class:"col-md-5 border border-primary m-1 rounded text-primary p-2",style:{right:"12px",position:"absolute"}},gI={class:"row"},DI={class:"col-md-9"},QI=["value"],fI={class:"col-md-3"},kI={class:"table-responsive mt-3"},wI={class:"table table-bordered table-sm"},AI={class:"text-center",style:{width:"5%"}},WI=["onClick"],zI={class:"table-responsive mt-3"},xI={class:"table table-bordered table-sm"},PI={class:"text-center",style:{width:"5%"}},CI=["onClick"];function $I(e,a,s,l,i,o){const n=(0,r.E1)("router-link");return(0,r.Wz)(),(0,r.An)("div",qK,[(0,r.QD)("div",EK,[(0,r.QD)("div",null,[(0,r.QD)("ol",KK,[(0,r.QD)("li",IK,[(0,r.K2)(n,{to:"/components"},{default:(0,r.Ql)((()=>a[13]||(a[13]=[(0,r.mY)("Assets")]))),_:1})]),a[14]||(a[14]=(0,r.QD)("li",{class:"breadcrumb-item"}," Create ",-1))])]),(0,r.K2)(n,{to:"/components",type:"submit",class:"btn btn-sm btn-primary",style:{float:"right"}},{default:(0,r.Ql)((()=>a[15]||(a[15]=[(0,r.QD)("i",{class:"ri-list-check"},null,-1),(0,r.mY)(" Assets")]))),_:1})]),(0,r.QD)("div",FK,[(0,r.QD)("div",OK,[(0,r.QD)("form",null,[(0,r.QD)("div",LK,[a[62]||(a[62]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h5",{class:"my-auto"},"New Asset")],-1)),(0,r.QD)("div",BK,[(0,r.QD)("div",MK,[(0,r.QD)("div",ZK,[a[17]||(a[17]=(0,r.QD)("label",{class:"form-label"},"Plant",-1)),a[18]||(a[18]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.QD)("select",HK,[a[16]||(a[16]=(0,r.QD)("option",{value:""},"Select",-1)),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.plants,((e,a)=>((0,r.Wz)(),(0,r.An)("option",{value:e.plant_id,key:a},(0,d.WA)(e.plant),9,JK)))),128))])]),(0,r.QD)("div",GK,[a[19]||(a[19]=(0,r.QD)("label",{class:"form-label"},"Asset Code",-1)),a[20]||(a[20]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.QD)("input",{type:"text",disabled:"true",class:"form-control",style:(0,d.MN)("background-color: "+i.voltage.color+";"),value:o.getComponentCode},null,12,XK)]),a[61]||(a[61]=(0,r.QD)("div",{class:"col-md-3"},[(0,r.QD)("label",{class:"form-label"},"Asset Name"),(0,r.QD)("span",{class:"text-danger"}," *"),(0,r.QD)("input",{type:"text",placeholder:"Enter component name",class:"form-control"})],-1)),(0,r.QD)("div",eI,[a[22]||(a[22]=(0,r.QD)("label",{class:"form-label"},"Asset Group",-1)),a[23]||(a[23]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.QD)("select",aI,[a[21]||(a[21]=(0,r.QD)("option",{value:""},"Select",-1)),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.asset_groups,((e,a)=>((0,r.Wz)(),(0,r.An)("option",{key:a,value:e.asset_group_id},(0,d.WA)(e.asset_group),9,sI)))),128))])]),(0,r.QD)("div",tI,[a[25]||(a[25]=(0,r.QD)("label",{class:"form-label"},"Voltage Rating",-1)),a[26]||(a[26]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("select",{class:"form-control","onUpdate:modelValue":a[0]||(a[0]=e=>i.asset.voltage_code=e),onChange:a[1]||(a[1]=e=>o.setVoltage(i.asset.voltage_code))},[a[24]||(a[24]=(0,r.QD)("option",{value:""},"Select Voltage",-1)),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.voltages,((e,a)=>((0,r.Wz)(),(0,r.An)("option",{value:e.voltage_code,key:a},(0,d.WA)(e.voltage),9,rI)))),128))],544),[[t.Ip,i.asset.voltage_code]])]),(0,r.QD)("div",lI,[a[28]||(a[28]=(0,r.QD)("label",{class:"form-label"},"Watt Rating",-1)),a[29]||(a[29]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("select",{class:"form-control","onUpdate:modelValue":a[2]||(a[2]=e=>i.kw=e)},a[27]||(a[27]=[(0,r.QD)("option",{value:""},"Select Watt",-1),(0,r.QD)("option",null,"1. Up to 5.5 KW",-1),(0,r.QD)("option",null,"2. 7.5 - 22 KW",-1),(0,r.QD)("option",null,"3. 30 - 110 KW",-1),(0,r.QD)("option",null,"4. 132 - 250 KW",-1),(0,r.QD)("option",null,"5. 250 - 500 KW",-1),(0,r.QD)("option",null,"6. 500 - 1200 KW",-1),(0,r.QD)("option",null,"7. 1200 - 5500 KW",-1)]),512),[[t.Ip,i.kw]])]),(0,r.QD)("div",iI,[a[31]||(a[31]=(0,r.QD)("label",{class:"form-label"},"Frame Type",-1)),a[32]||(a[32]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("select",{class:"form-control","onUpdate:modelValue":a[3]||(a[3]=e=>i.frame=e)},a[30]||(a[30]=[(0,r.QD)("option",{value:""},"Select Frame",-1),(0,r.QD)("option",{value:"2M415"},"xxxxx-63-400",-1),(0,r.QD)("option",{value:"2M415"},"M/S/L/X",-1)]),512),[[t.Ip,i.frame]])]),(0,r.QD)("div",oI,[a[34]||(a[34]=(0,r.QD)("label",{class:"form-label"},"Mounting Type",-1)),a[35]||(a[35]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("select",{class:"form-control","onUpdate:modelValue":a[4]||(a[4]=e=>i.mounting=e)},a[33]||(a[33]=[(0,r.QD)("option",{value:""},"Select Mounting",-1),(0,r.QD)("option",null,"1. B3",-1),(0,r.QD)("option",null,"2. B5",-1),(0,r.QD)("option",null,"3. B35",-1),(0,r.QD)("option",null,"4. V1",-1),(0,r.QD)("option",null,"5. V3",-1)]),512),[[t.Ip,i.mounting]])]),(0,r.QD)("div",nI,[a[37]||(a[37]=(0,r.QD)("label",{class:"form-label"},"Section",-1)),a[38]||(a[38]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("select",{class:"form-control","onUpdate:modelValue":a[5]||(a[5]=e=>i.section=e)},a[36]||(a[36]=[(0,r.IL)('<option value="" data-v-301df063>Select Section</option><option data-v-301df063>1. Packing Plant</option><option data-v-301df063>2. Cement Mill</option><option data-v-301df063>3. Kiln/PH/ESP</option><option data-v-301df063>4. Coal Mill</option><option data-v-301df063>5. Rawmill</option><option data-v-301df063>6. RMHS</option><option data-v-301df063>7. Crusher</option><option data-v-301df063>8. Mines</option><option data-v-301df063>9. Utility</option><option data-v-301df063>A. Misc</option>',11)]),512),[[t.Ip,i.section]])]),(0,r.QD)("div",dI,[a[40]||(a[40]=(0,r.QD)("label",{class:"form-label"},"Make",-1)),a[41]||(a[41]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("select",{class:"form-control","onUpdate:modelValue":a[6]||(a[6]=e=>i.make=e)},a[39]||(a[39]=[(0,r.QD)("option",{value:""},"Select Make",-1),(0,r.QD)("option",null,"1. ABB",-1),(0,r.QD)("option",null,"2. BHEL",-1),(0,r.QD)("option",null,"3. Seimens",-1),(0,r.QD)("option",null,"4. SEW",-1),(0,r.QD)("option",null,"5. EURO Drive",-1),(0,r.QD)("option",null,"6. BBL",-1),(0,r.QD)("option",null,"7. CGL",-1),(0,r.QD)("option",null,"8. Others",-1)]),512),[[t.Ip,i.make]])]),(0,r.QD)("div",cI,[a[43]||(a[43]=(0,r.QD)("label",{class:"form-label"},"Speed",-1)),a[44]||(a[44]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("select",{class:"form-control","onUpdate:modelValue":a[7]||(a[7]=e=>i.speed=e)},a[42]||(a[42]=[(0,r.QD)("option",{value:""},"Select RPM",-1),(0,r.QD)("option",null,"1. 2P",-1),(0,r.QD)("option",null,"2. 4P",-1),(0,r.QD)("option",null,"3. 6P",-1),(0,r.QD)("option",null,"4. 8P",-1)]),512),[[t.Ip,i.speed]])]),(0,r.QD)("div",uI,[a[45]||(a[45]=(0,r.QD)("label",{class:"form-label"},"Serial Number",-1)),a[46]||(a[46]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Enter asset serial number",class:"form-control","onUpdate:modelValue":a[8]||(a[8]=e=>i.serial_number=e)},null,512),[[t.Og,i.serial_number]])]),(0,r.QD)("div",pI,[(0,r.QD)("div",mI,[(0,r.QD)("div",_I,[(0,r.QD)("div",hI,[a[48]||(a[48]=(0,r.QD)("label",{class:"form-label"},"Add Spare Parts",-1)),(0,r.wt)((0,r.QD)("select",{class:"form-control form-control-sm","onUpdate:modelValue":a[9]||(a[9]=e=>i.spare=e)},[a[47]||(a[47]=(0,r.QD)("option",{value:{}},"Select",-1)),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.spares_available,((e,a)=>((0,r.Wz)(),(0,r.An)("option",{value:e,key:a},(0,d.WA)(e.spare_name),9,bI)))),128))],512),[[t.Ip,i.spare]])]),(0,r.QD)("div",vI,[a[49]||(a[49]=(0,r.QD)("label",{class:"form-label"},".",-1)),(0,r.QD)("button",{class:"btn btn-sm btn-outline-primary form-control",onClick:a[10]||(a[10]=e=>o.addSpares())},"ADD")])])]),(0,r.QD)("div",yI,[(0,r.QD)("div",gI,[(0,r.QD)("div",DI,[a[51]||(a[51]=(0,r.QD)("label",{class:"form-label"},"Add Check List Questions",-1)),(0,r.wt)((0,r.QD)("select",{class:"form-control form-control-sm","onUpdate:modelValue":a[11]||(a[11]=e=>i.check_list_question=e)},[a[50]||(a[50]=(0,r.QD)("option",{value:{}},"Select",-1)),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.check_list_questions,((e,a)=>((0,r.Wz)(),(0,r.An)("option",{value:e,key:a},(0,d.WA)(e.parameter_name),9,QI)))),128))],512),[[t.Ip,i.check_list_question]])]),(0,r.QD)("div",fI,[a[52]||(a[52]=(0,r.QD)("label",{class:"form-label"},".",-1)),(0,r.QD)("button",{class:"btn btn-sm btn-outline-primary form-control",onClick:a[12]||(a[12]=e=>o.addCheckListQuestion())},"ADD")])])])]),(0,r.QD)("div",kI,[(0,r.QD)("table",wI,[a[57]||(a[57]=(0,r.QD)("thead",null,[(0,r.QD)("tr",null,[(0,r.QD)("th",{colspan:"5"},[(0,r.QD)("span",{class:"text-primary"},"Spare Parts List")])]),(0,r.QD)("tr",{class:"text-center"},[(0,r.QD)("th",null,"#"),(0,r.QD)("th",null,"Spare Code"),(0,r.QD)("th",null,"Name"),(0,r.QD)("th",null,"Make"),(0,r.QD)("th",null,"Quantity"),(0,r.QD)("th",null,"UOM"),(0,r.QD)("th",{style:{width:"5%"}},"Action")])],-1)),(0,r.QD)("tbody",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.spares_list,((e,s)=>((0,r.Wz)(),(0,r.An)("tr",{key:s},[(0,r.QD)("td",null,(0,d.WA)(s+1),1),(0,r.QD)("td",null,(0,d.WA)(e.spare_code),1),(0,r.QD)("td",null,(0,d.WA)(e.spare_name),1),(0,r.QD)("td",null,(0,d.WA)(e.make),1),a[54]||(a[54]=(0,r.QD)("td",{style:{width:"10%"}},[(0,r.QD)("input",{type:"text",value:"1",class:"text form-control form-control-sm"})],-1)),a[55]||(a[55]=(0,r.QD)("td",{style:{width:"10%"}},[(0,r.QD)("select",{name:"",id:"",class:"form-control form-control-sm"},[(0,r.QD)("option",{value:"Units"},"Units"),(0,r.QD)("option",{value:"Units"},"Kg"),(0,r.QD)("option",{value:"Units"},"Ltr")])],-1)),(0,r.QD)("td",AI,[(0,r.QD)("a",{href:"javascript:void(0)",onClick:a=>o.removeSpares(e),class:"text-danger"},a[53]||(a[53]=[(0,r.QD)("i",{class:"ri-delete-bin-line icon_hgt"},null,-1)]),8,WI)])])))),128)),a[56]||(a[56]=(0,r.QD)("tr",null,[(0,r.QD)("td",{colspan:"8",class:"text-center"},[(0,r.QD)("span",{class:"text-warning"},"No spares added yet...")])],-1))])])]),(0,r.QD)("div",zI,[(0,r.QD)("table",xI,[a[60]||(a[60]=(0,r.QD)("thead",null,[(0,r.QD)("tr",null,[(0,r.QD)("th",{colspan:"5"},[(0,r.QD)("span",{class:"text-primary"},"Check List Questions")])]),(0,r.QD)("tr",{class:"text-center"},[(0,r.QD)("th",null,"#"),(0,r.QD)("th",null,"Parameter Name"),(0,r.QD)("th",{style:{width:"5%"}},"Action")])],-1)),(0,r.QD)("tbody",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.check_list_added,((e,s)=>((0,r.Wz)(),(0,r.An)("tr",{key:s},[(0,r.QD)("td",null,(0,d.WA)(s+1),1),(0,r.QD)("td",null,(0,d.WA)(e.parameter_name),1),(0,r.QD)("td",PI,[(0,r.QD)("a",{href:"javascript:void(0)",onClick:a=>o.removeCheckListQuestion(e),class:"text-danger"},a[58]||(a[58]=[(0,r.QD)("i",{class:"ri-delete-bin-line icon_hgt"},null,-1)]),8,CI)])])))),128)),a[59]||(a[59]=(0,r.QD)("tr",null,[(0,r.QD)("td",{colspan:"6",class:"text-center"},[(0,r.QD)("span",{class:"text-warning"},"No questions added yet...")])],-1))])])])])]),a[63]||(a[63]=(0,r.IL)('<div class="card-footer text-end" data-v-301df063><button type="reset" class="btn btn-sm btn-danger me-2" data-v-301df063><i class="ri-close-line icon_hgt" data-v-301df063></i> DISCARD</button><button type="submit" class="btn btn-sm btn-primary" data-v-301df063><i class="ri-save-line icon_hgt" data-v-301df063></i>SUBMIT</button></div>',1))])])])])])}let SI=s(1540).c;var UI={components:{Search:SI},data(){return{plants:[],asset_groups:[],voltages:[],voltage:{color:"#ffffff"},asset:{asset_id:1,plant_id:"",asset_code:"",asset_name:"",asset_group_id:"",voltage_code:"",watt_rating_id:"",frame_type_id:"",mounting_type_id:"",section_id:"",make_id:"",speed_id:"",serial_number:""},kw:"",frame:"",device_code:"",mounting:"",section:"",make:"",speed:"",serial_number:"",spares_available:[{spare_id:1,spare_code:"SC-0001",spare_name:"Bearing",make:"SKS"},{spare_id:2,spare_code:"SC-0002",spare_name:"Slip Ring",make:"Kirloskar"},{spare_id:3,spare_code:"SC-0003",spare_name:"Bulk Terminal",make:"Zentom"},{spare_id:3,spare_code:"SC-0004",spare_name:"Oil",make:"Castrol"}],spares_list:[],spare:{},check_list_questions:[{check_list_id:1,parameter_name:"Motor is in running condition",response:!1},{check_list_id:2,parameter_name:"Running temperature is in normal range",response:!1},{check_list_id:3,parameter_name:"All parts are well lubricated",response:!1},{check_list_id:4,parameter_name:"Oil viscosity is normal",response:!1},{check_list_id:5,parameter_name:"Overload sensor is working",response:!1},{check_list_id:6,parameter_name:"High voltage/current protection sensor is working",response:!1},{check_list_id:7,parameter_name:"Sound/vibration is normal",response:!1},{check_list_id:8,parameter_name:"Motor IR sensor is working",response:!1},{check_list_id:9,parameter_name:"Bulk terminal is clean and intact",response:!1},{check_list_id:10,parameter_name:"Serial number/QR code is clean and visible",response:!1}],check_list_question:{},check_list_added:[]}},computed:{getComponentCode(){let e=[this.asset.voltage_code,this.kw[0],this.frame,this.mounting[0],this.section[0],this.make[0],this.speed[0],this.serial_number.substring(0,5)];return e.join("-")}},mounted(){},methods:{getPlants(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"getPlants"}).then((e=>{a.hide(),this.plants=e.data.data,this.getAssetGroups()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getAssetGroups(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"getAssetGroups"}).then((e=>{a.hide(),this.asset_groups=e.data.data,this.getVoltages()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getVoltages(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"getVoltages"}).then((e=>{a.hide(),this.voltages=e.data.data})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},setVoltage(e){this.voltage=this.voltages.find((a=>a.voltage_code==e))},addSpares(){if(!this.spare.spare_id)return;let e=Object.assign({},this.spare);this.spares_list.push(e)},removeSpares(e){let a=this.spares_list.indexOf(e);this.spares_list.splice(a,1)},addCheckListQuestion(){if(!this.check_list_question.check_list_id)return;let e=Object.assign({},this.check_list_question);this.check_list_added.push(e)},removeCheckListQuestion(e){let a=this.check_list_added.indexOf(e);this.check_list_added.splice(a,1)},getColor(){let e="";switch(parseInt(this.voltage[0])){case 1:e="first";break;case 2:e="second";break;case 3:e="third";break;case 4:e="fourth";break;case 5:e="fifth";break;default:break}return e},sparesSelected(e){var a=this.spares_available.filter((e=>e.spare_id==this.spare.spare_id));let s=Object.assign({},a[0]);this.spares_list.push(s),console.log(a)}}};const VI=(0,Ce.c)(UI,[["render",$I],["__scopeId","data-v-301df063"]]);var jI=VI;const YI={class:""},TI={class:""},NI={class:""},RI={class:"col-sm-12"},qI={class:"card p-2"},EI={class:"form-actions-footer"},KI={class:"text-end"},II={class:"col-sm-12"},FI={class:"card mt-2"},OI={class:"card-body"},LI={class:"form-actions-footer"},BI={class:"text-end row"},MI={class:"col-sm-2"};function ZI(e,a){const s=(0,r.E1)("router-link");return(0,r.Wz)(),(0,r.An)("div",YI,[(0,r.QD)("div",TI,[(0,r.QD)("div",NI,[(0,r.QD)("div",RI,[(0,r.QD)("div",qI,[a[3]||(a[3]=(0,r.IL)('<div class="card-header"><h5>Motor LT</h5></div><div class="card-body"><div class="row"><div class="col-sm-4 mb-2"> Activity Date <span class="text-danger">*</span><input class="form-control" type="date"></div><div class="col-sm-4 mb-2"> Activity Time <span class="text-danger">*</span><input class="form-control" type="time"></div><div class="col-sm-4 mb-2"> Status <span class="text-danger">*</span><select class="form-control"><option value="">Select One</option><option value="Added">Added</option><option value="Removed">Removed</option><option value="Scrapped">Scrapped</option></select></div><div class="col-sm-4 mb-2"> Reason for Removal <span class="text-danger">*</span><select class="form-control"><option value="">Select One</option><option value="Overhauling">Overhauling</option><option value="Damaged">Damaged</option><option value="Rewinding">Rewinding</option><option value="Scrapped">Scrapped</option><option value="Upgrade">Upgrade</option><option value="Not Applicable">Not Applicable</option><option value="Others">Others</option></select></div><div class="col-sm-4 mb-2"> Equipment <select class="form-control"><option value="">Select Equipment</option><option>Conveyor</option></select></div><div class="col-sm-4 mb-2"> Maintenance Cost <input class="form-control" placeholder="Maintenance Cost" type="number"></div><div class="col-sm-12 mb-2"> Note <textarea class="form-control"></textarea></div></div></div>',2)),(0,r.QD)("div",EI,[(0,r.QD)("div",KI,[(0,r.K2)(s,{to:"/components",class:"btn btn-danger"},{default:(0,r.Ql)((()=>a[1]||(a[1]=[(0,r.mY)("Discard")]))),_:1}),a[2]||(a[2]=(0,r.QD)("button",{type:"button",class:"btn btn-primary ms-1"},"Submit",-1))])])])])]),(0,r.QD)("div",II,[(0,r.QD)("div",FI,[a[7]||(a[7]=(0,r.QD)("div",{class:"card-header"},[(0,r.QD)("h5",null,"Activities")],-1)),(0,r.QD)("div",OI,[a[6]||(a[6]=(0,r.IL)('<div class="table-responsive"><table class="table table-bordered table-striped"><thead><tr><th>#</th><th>Date</th><th>Time</th><th>Status</th><th class="row">Equipment</th><th>Reason</th><th>Maintenance Cost</th><th class="text-center">Action</th></tr></thead><tbody><tr><td>1</td><td>23-Jul-2023</td><td>11:30 AM</td><td>Removed</td><td>Conveyor</td><td>Grinding sound</td><td>2000</td><td class="text-center"><a href="javascript:void(0)" class="text-danger"><i class="ri-delete-bin-line icon_hgt"></i></a></td></tr><tr><td>2</td><td>24-Jul-2023</td><td>11:30 AM</td><td>Added</td><td>Conveyor</td><td></td><td>2000</td><td class="text-center"><a href="javascript:void(0)" class="text-danger"><i class="ri-delete-bin-line icon_hgt"></i></a></td></tr></tbody></table></div>',1)),(0,r.QD)("div",LI,[(0,r.QD)("div",BI,[(0,r.QD)("div",MI,[(0,r.QD)("select",{class:"form-control",onChange:a[0]||(a[0]=()=>{})},a[4]||(a[4]=[(0,r.QD)("option",null,"10",-1),(0,r.QD)("option",null,"15",-1),(0,r.QD)("option",null,"20",-1),(0,r.QD)("option",null,"25",-1),(0,r.QD)("option",null,"30",-1)]),32)]),a[5]||(a[5]=(0,r.QD)("div",{class:"col-sm-10"},null,-1))])])])])])])])}const HI={},JI=(0,Ce.c)(HI,[["render",ZI]]);var GI=JI;const XI={class:""};function eF(e,a){return(0,r.Wz)(),(0,r.An)("div",XI,a[0]||(a[0]=[(0,r.IL)('<div class="d-sm-flex align-items-center justify-content-between mb-2"><div><h4 class="main-title mb-0">Service Management</h4></div></div><div class="row"><div class="col-12"><div class="card"><div class="card-header"><div class="card-title" style="display:flex;justify-content:space-between;"><div>Asset Name: <span class="text-primary">Motor LT</span></div><div>Asset Code: <span class="text-primary">112M415111167890</span></div><div>Plant: <span class="text-primary">Main Plant</span></div></div></div><div class="card-body"><div class="row"><div class="col-sm-9 mb-3"> Failure Type <span class="text-danger">*</span><input type="text" class="form-control form-control-sm" placeholder="Failure description..."></div><div class="col-sm-3 mb-3"> Problem Date <span class="text-danger">*</span><input type="date" class="form-control form-control-sm"></div><div class="col-sm-6 mb-3"> Reason/Symptom <span class="text-danger">*</span><input type="text" class="form-control form-control-sm" placeholder="Symptom description..."></div><div class="col-sm-6 mb-3"> Action Taken <span class="text-danger">*</span><input type="text" class="form-control form-control-sm" placeholder="Service description"></div><div class="col-sm-3 mb-3"> Vendor Name <span class="text-danger">*</span><input type="text" class="form-control form-control-sm" placeholder="Enter vendor name"></div><div class="col-sm-3 mb-3"> Service Date <span class="text-danger">*</span><input type="date" class="form-control form-control-sm"></div><div class="col-sm-3 mb-3"> Service Cost <span class="text-danger">*</span><input type="text" class="form-control form-control-sm"></div><div class="col-sm-3 mb-3"> Upload Invoice <input type="file" class="form-control form-control-sm"></div><div class="col-sm-12 mb-3"><button class="btn btn-sm btn-primary" style="float:right;">Submit</button><button class="btn btn-sm btn-danger me-2" style="float:right;">Discard</button></div></div></div><div class="card-header"><div class="card-title"> Hired Service History </div></div><div class="card-body"><div class="table-responsive table-responsive-sm"><table class="table table-sm text-nowrap table-bordered mb-0"><thead><tr class="text-center"><th>#</th><th>Problem Date</th><th>Failure Type</th><th>Reason/Symptom</th><th>Action Taken</th><th>Service Date</th><th>Service Cost</th><th>Service Invoice</th><th>Actions</th></tr></thead><tbody><tr><td class="text-center">1</td><td>23-Mar-2023</td><td>Dead, Winding coil burned</td><td>Overload</td><td>Replaced winding</td><td>30-Mar-2024</td><td>10,000</td><td style="text-align:center;"><a href="#" target="_blank" rel="noopener noreferrer">download</a></td><td class="text-center"><a href="javascript:void(0)" class="text-success me-2"><i class="ri-pencil-line icon_hgt"></i></a><a href="javascript:void(0)" class="text-danger"><i class="ri-delete-bin-line icon_hgt"></i></a></td></tr><tr><td class="text-center">2</td><td>20-Dec-2023</td><td>Bearing failure</td><td>Vibration, Grinding Sound</td><td>Replaced Bearings</td><td>30-Dec-2024</td><td>5000</td><td style="text-align:center;"><a href="#" target="_blank" rel="noopener noreferrer">download</a></td><td class="text-center"><a href="javascript:void(0)" class="text-success me-2"><i class="ri-pencil-line icon_hgt"></i></a><a href="javascript:void(0)" class="text-danger"><i class="ri-delete-bin-line icon_hgt"></i></a></td></tr></tbody></table></div></div><div class="card-footer"></div></div></div></div>',2)]))}const aF={},sF=(0,Ce.c)(aF,[["render",eF]]);var tF=sF;const rF={class:""},lF={class:"d-sm-flex align-items-center justify-content-between mb-2"},iF={class:"breadcrumb fs-sm mb-1"},oF={class:"breadcrumb-item"},nF={class:"row"},dF={class:"col-12"},cF={class:"card"},uF={class:"card-body mb-3"},pF={class:"row g-2",style:{"pointer-events":"none"}},mF={class:"col-md-3"},_F=["value"],hF={class:"col-md-3"},bF={class:"col-md-3"},vF={class:"col-md-3"},yF={class:"col-md-3"},gF={class:"col-md-3"},DF={class:"col-md-3"},QF={class:"col-md-3"},fF={class:"col-md-3"},kF={class:"col-md-12 border border-primary rounded text-primary p-2"},wF={class:"row",style:{"pointer-events":"auto"}},AF={class:"col-md-5"},WF={class:"col-md-2"},zF=["value"],xF={class:"col-md-2"},PF={class:"col-md-2"},CF={class:"col-md-1"},$F={class:"table-responsive mt-3"},SF={class:"table table-bordered table-sm"},UF={class:"text-center",style:{"pointer-events":"auto"}},VF=["onClick"],jF={key:1};function YF(e,a,s,l,i,o){const n=(0,r.E1)("router-link");return(0,r.Wz)(),(0,r.An)("div",rF,[(0,r.QD)("div",lF,[(0,r.QD)("div",null,[(0,r.QD)("ol",iF,[(0,r.QD)("li",oF,[(0,r.K2)(n,{to:"/components"},{default:(0,r.Ql)((()=>a[13]||(a[13]=[(0,r.mY)("Assets")]))),_:1})]),a[14]||(a[14]=(0,r.QD)("li",{class:"breadcrumb-item"}," Service History ",-1))])]),(0,r.K2)(n,{to:"/components",type:"submit",class:"btn btn-sm btn-primary",style:{float:"right"}},{default:(0,r.Ql)((()=>a[15]||(a[15]=[(0,r.QD)("i",{class:"ri-list-check"},null,-1),(0,r.mY)(" Assets")]))),_:1})]),(0,r.QD)("div",nF,[(0,r.QD)("div",dF,[(0,r.QD)("form",null,[(0,r.QD)("div",cF,[a[53]||(a[53]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h5",{class:"my-auto"},"Service Management")],-1)),(0,r.QD)("div",uF,[(0,r.QD)("div",pF,[a[51]||(a[51]=(0,r.IL)('<div class="col-md-3" data-v-4d70396e><label class="form-label" data-v-4d70396e>Plant</label><span class="text-danger" data-v-4d70396e> *</span><select class="form-control" data-v-4d70396e><option value="" data-v-4d70396e>Select</option><option selected data-v-4d70396e>Plant</option></select></div>',1)),(0,r.QD)("div",mF,[a[16]||(a[16]=(0,r.QD)("label",{class:"form-label"},"Asset Code",-1)),a[17]||(a[17]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.QD)("input",{type:"text",disabled:"true",class:(0,d.WN)(["form-control",o.getColor()]),value:o.getComponentCode},null,10,_F)]),a[52]||(a[52]=(0,r.IL)('<div class="col-md-3" data-v-4d70396e><label class="form-label" data-v-4d70396e>Asset Name</label><span class="text-danger" data-v-4d70396e> *</span><input type="text" placeholder="Enter component name" class="form-control" value="Motor" data-v-4d70396e></div><div class="col-md-3" data-v-4d70396e><label class="form-label" data-v-4d70396e>Asset Type</label><span class="text-danger" data-v-4d70396e> *</span><select class="form-control" data-v-4d70396e><option value="" data-v-4d70396e>Select Type</option><option selected data-v-4d70396e>LT</option><option data-v-4d70396e>HT</option></select></div><div class="col-md-3" data-v-4d70396e><label class="form-label" data-v-4d70396e>Asset Group</label><span class="text-danger" data-v-4d70396e> *</span><select class="form-control" data-v-4d70396e><option value="" data-v-4d70396e>Select Group</option><option selected data-v-4d70396e>Motor</option><option data-v-4d70396e>Motor</option></select></div>',3)),(0,r.QD)("div",hF,[a[19]||(a[19]=(0,r.QD)("label",{class:"form-label"},"Voltage Rating",-1)),a[20]||(a[20]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("select",{class:"form-control","onUpdate:modelValue":a[0]||(a[0]=e=>i.voltage=e)},a[18]||(a[18]=[(0,r.QD)("option",{value:""},"Select Voltage",-1),(0,r.QD)("option",null,"1. 11000 volts",-1),(0,r.QD)("option",null,"2. 6600 volts",-1),(0,r.QD)("option",null,"3. 690 volts",-1),(0,r.QD)("option",null,"4. 415 volts",-1),(0,r.QD)("option",null,"5. 230 volts",-1)]),512),[[t.Ip,i.voltage]])]),(0,r.QD)("div",bF,[a[22]||(a[22]=(0,r.QD)("label",{class:"form-label"},"Watt Rating",-1)),a[23]||(a[23]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("select",{class:"form-control","onUpdate:modelValue":a[1]||(a[1]=e=>i.kw=e)},a[21]||(a[21]=[(0,r.QD)("option",{value:""},"Select Watt",-1),(0,r.QD)("option",null,"1. Up to 5.5 KW",-1),(0,r.QD)("option",null,"2. 7.5 - 22 KW",-1),(0,r.QD)("option",null,"3. 30 - 110 KW",-1),(0,r.QD)("option",null,"4. 132 - 250 KW",-1),(0,r.QD)("option",null,"5. 250 - 500 KW",-1),(0,r.QD)("option",null,"6. 500 - 1200 KW",-1),(0,r.QD)("option",null,"7. 1200 - 5500 KW",-1)]),512),[[t.Ip,i.kw]])]),(0,r.QD)("div",vF,[a[25]||(a[25]=(0,r.QD)("label",{class:"form-label"},"Frame Type",-1)),a[26]||(a[26]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("select",{class:"form-control","onUpdate:modelValue":a[2]||(a[2]=e=>i.frame=e)},a[24]||(a[24]=[(0,r.QD)("option",{value:""},"Select Frame",-1),(0,r.QD)("option",{value:"2M415"},"xxxxx-63-400",-1),(0,r.QD)("option",{value:"2M415"},"M/S/L/X",-1)]),512),[[t.Ip,i.frame]])]),(0,r.QD)("div",yF,[a[28]||(a[28]=(0,r.QD)("label",{class:"form-label"},"Mounting Type",-1)),a[29]||(a[29]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("select",{class:"form-control","onUpdate:modelValue":a[3]||(a[3]=e=>i.mounting=e)},a[27]||(a[27]=[(0,r.QD)("option",{value:""},"Select Mounting",-1),(0,r.QD)("option",null,"1. B3",-1),(0,r.QD)("option",null,"2. B5",-1),(0,r.QD)("option",null,"3. B35",-1),(0,r.QD)("option",null,"4. V1",-1),(0,r.QD)("option",null,"5. V3",-1)]),512),[[t.Ip,i.mounting]])]),(0,r.QD)("div",gF,[a[31]||(a[31]=(0,r.QD)("label",{class:"form-label"},"Section",-1)),a[32]||(a[32]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("select",{class:"form-control","onUpdate:modelValue":a[4]||(a[4]=e=>i.section=e)},a[30]||(a[30]=[(0,r.IL)('<option value="" data-v-4d70396e>Select Section</option><option data-v-4d70396e>1. Packing Plant</option><option data-v-4d70396e>2. Cement Mill</option><option data-v-4d70396e>3. Kiln/PH/ESP</option><option data-v-4d70396e>4. Coal Mill</option><option data-v-4d70396e>5. Rawmill</option><option data-v-4d70396e>6. RMHS</option><option data-v-4d70396e>7. Crusher</option><option data-v-4d70396e>8. Mines</option><option data-v-4d70396e>9. Utility</option><option data-v-4d70396e>A. Misc</option>',11)]),512),[[t.Ip,i.section]])]),(0,r.QD)("div",DF,[a[34]||(a[34]=(0,r.QD)("label",{class:"form-label"},"Make",-1)),a[35]||(a[35]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("select",{class:"form-control","onUpdate:modelValue":a[5]||(a[5]=e=>i.make=e)},a[33]||(a[33]=[(0,r.QD)("option",{value:""},"Select Make",-1),(0,r.QD)("option",null,"1. ABB",-1),(0,r.QD)("option",null,"2. BHEL",-1),(0,r.QD)("option",null,"3. Seimens",-1),(0,r.QD)("option",null,"4. SEW",-1),(0,r.QD)("option",null,"5. EURO Drive",-1),(0,r.QD)("option",null,"6. BBL",-1),(0,r.QD)("option",null,"7. CGL",-1),(0,r.QD)("option",null,"8. Others",-1)]),512),[[t.Ip,i.make]])]),(0,r.QD)("div",QF,[a[37]||(a[37]=(0,r.QD)("label",{class:"form-label"},"Speed",-1)),a[38]||(a[38]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("select",{class:"form-control","onUpdate:modelValue":a[6]||(a[6]=e=>i.speed=e)},a[36]||(a[36]=[(0,r.QD)("option",{value:""},"Select RPM",-1),(0,r.QD)("option",null,"1. 2P",-1),(0,r.QD)("option",null,"2. 4P",-1),(0,r.QD)("option",null,"3. 6P",-1),(0,r.QD)("option",null,"4. 8P",-1)]),512),[[t.Ip,i.speed]])]),(0,r.QD)("div",fF,[a[39]||(a[39]=(0,r.QD)("label",{class:"form-label"},"Serial Number",-1)),a[40]||(a[40]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Enter asset serial number",class:"form-control","onUpdate:modelValue":a[7]||(a[7]=e=>i.serial_number=e)},null,512),[[t.Og,i.serial_number]])]),(0,r.QD)("div",kF,[(0,r.QD)("div",wF,[(0,r.QD)("div",AF,[a[41]||(a[41]=(0,r.QD)("label",{class:"form-label"},"Symptom/Problem",-1)),(0,r.wt)((0,r.QD)("input",{class:"form-control form-control-sm","onUpdate:modelValue":a[8]||(a[8]=e=>i.service.symptoms=e),placeholder:"Specify problem...",type:"text"},null,512),[[t.Og,i.service.symptoms]])]),(0,r.QD)("div",WF,[a[43]||(a[43]=(0,r.QD)("label",{class:"form-label"},"Select Spare Parts",-1)),(0,r.wt)((0,r.QD)("select",{class:"form-control form-control-sm","onUpdate:modelValue":a[9]||(a[9]=e=>i.spare.spare_id=e)},[a[42]||(a[42]=(0,r.QD)("option",{value:""},"Select",-1)),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.spares_available,((e,a)=>((0,r.Wz)(),(0,r.An)("option",{value:e.spare_id},(0,d.WA)(e.spare_name),9,zF)))),256))],512),[[t.Ip,i.spare.spare_id]])]),(0,r.QD)("div",xF,[a[45]||(a[45]=(0,r.QD)("label",{class:"form-label"},"Action Taken",-1)),(0,r.wt)((0,r.QD)("select",{class:"form-control form-control-sm","onUpdate:modelValue":a[10]||(a[10]=e=>i.service.action_taken=e)},a[44]||(a[44]=[(0,r.QD)("option",{value:""},"Select",-1),(0,r.QD)("option",{value:"Replaced"},"Replaced",-1),(0,r.QD)("option",{value:"Repaired"},"Repaired",-1)]),512),[[t.Ip,i.service.action_taken]])]),(0,r.QD)("div",PF,[a[46]||(a[46]=(0,r.QD)("label",{class:"form-label"},"Service Date",-1)),(0,r.wt)((0,r.QD)("input",{type:"date",class:"form-control form-control-sm","onUpdate:modelValue":a[11]||(a[11]=e=>i.service.service_date=e)},null,512),[[t.Og,i.service.service_date]])]),(0,r.QD)("div",CF,[a[47]||(a[47]=(0,r.QD)("label",{class:"form-label"},"Â ",-1)),(0,r.QD)("button",{class:"btn btn-sm btn-outline-primary form-control",onClick:a[12]||(a[12]=e=>o.addService())},"ADD")])])]),(0,r.QD)("div",$F,[(0,r.QD)("table",SF,[a[50]||(a[50]=(0,r.QD)("thead",null,[(0,r.QD)("tr",null,[(0,r.QD)("th",{colspan:"5"},[(0,r.QD)("span",{class:"text-primary"},"Service History")])]),(0,r.QD)("tr",{class:"text-center"},[(0,r.QD)("th",null,"#"),(0,r.QD)("th",null,"Symptoms/Problems"),(0,r.QD)("th",null,"Spare Part"),(0,r.QD)("th",null,"Make"),(0,r.QD)("th",null,"Action Taken"),(0,r.QD)("th",null,"Service Date"),(0,r.QD)("th",null,"Action")])],-1)),(0,r.QD)("tbody",null,[i.service_history.length?((0,r.Wz)(!0),(0,r.An)(r.ae,{key:0},(0,r.mi)(i.service_history,((e,s)=>((0,r.Wz)(),(0,r.An)("tr",{key:s},[(0,r.QD)("td",null,(0,d.WA)(s+1),1),(0,r.QD)("td",null,(0,d.WA)(e.symptoms),1),(0,r.QD)("td",null,(0,d.WA)(e.spare_part),1),(0,r.QD)("td",null,(0,d.WA)(e.make),1),(0,r.QD)("td",null,(0,d.WA)(e.action_taken),1),(0,r.QD)("td",null,(0,d.WA)(e.service_date),1),(0,r.QD)("td",UF,[(0,r.QD)("a",{href:"javascript:void(0)",onClick:a=>o.removeService(e),class:"text-danger"},a[48]||(a[48]=[(0,r.QD)("i",{class:"ri-delete-bin-line icon_hgt"},null,-1)]),8,VF)])])))),128)):((0,r.Wz)(),(0,r.An)("tr",jF,a[49]||(a[49]=[(0,r.QD)("td",{colspan:"6",class:"text-center"},[(0,r.QD)("span",{class:"text-warning"},"No Records to display...")],-1)])))])])])])]),a[54]||(a[54]=(0,r.IL)('<div class="card-footer text-end" data-v-4d70396e><button type="reset" class="btn btn-sm btn-danger me-2" data-v-4d70396e><i class="ri-close-line icon_hgt" data-v-4d70396e></i> DISCARD</button><button type="submit" class="btn btn-sm btn-primary" data-v-4d70396e><i class="ri-save-line icon_hgt" data-v-4d70396e></i>SUBMIT</button></div>',1))])])])])])}let TF=s(1540).c;var NF={components:{Search:TF},data(){return{voltage:"1. 11000 volts",kw:"1. Up to 5.5 KW",frame:"2M415",device_code:"",mounting:"1. B3",section:"1. Packing Plant",make:"1. ABB",speed:"1. 2P",serial_number:"67890",service_history:[{service_id:1,symptoms:"Grinding sound with vibration",spare_part:"Bearing",make:"SKS",action_taken:"Replaced",service_date:"2023-02-21"}],spares_available:[{spare_id:1,spare_code:"SC-0001",spare_name:"Bearing",make:"SKS",availability:"Yes"},{spare_id:2,spare_code:"SC-0002",spare_name:"Slip Ring",make:"Kirloskar",availability:"Yes"},{spare_id:3,spare_code:"SC-0003",spare_name:"Bulk Terminal",make:"Zentom",availability:"No"}],spares_list:[],spare:{spare_id:""},service:{service_id:"",symptoms:"",spare_part:"",make:"",action_taken:"",service_date:""}}},computed:{getComponentCode(){let e=[this.voltage[0],this.kw[0],this.frame,this.mounting[0],this.section[0],this.make[0],this.speed[0],this.serial_number.substring(0,5)];return e.join("-")}},methods:{addService(){let e=this.spares_available.find((e=>e.spare_id==this.spare.spare_id)),a=Object.assign({},this.service);a.spare_part=e.spare_name,a.make=e.make,this.service_history.push(a)},removeService(e){let a=this.service_history.indexOf(e);this.service_history.splice(a,1)},getColor(){let e="";switch(parseInt(this.voltage[0])){case 1:e="first";break;case 2:e="second";break;case 3:e="third";break;case 4:e="fourth";break;case 5:e="fifth";break;default:break}return e},sparesSelected(e){var a=this.service_history.filter((e=>e.service_id==this.spare.service_id));let s=Object.assign({},a[0]);this.spares_list.push(s),console.log(a)}}};const RF=(0,Ce.c)(NF,[["render",YF],["__scopeId","data-v-4d70396e"]]);var qF=RF;const EF={class:""},KF={class:"breadcrumb fs-sm mb-1"},IF={class:"breadcrumb-item"},FF={class:"row g-2"},OF={class:"col-4"},LF={class:"card card-one"},BF={class:"card-header d-flex justify-content-between"},MF={key:0,class:"card-title"},ZF={key:1,class:"card-title"},HF={class:"card-body"},JF={class:"row g-2"},GF={class:"col-md-12"},XF={key:0,class:"invalid-feedback"},eO={class:"col-md-12"},aO={key:0,class:"invalid-feedback"},sO={class:"card-footer text-end"},tO={type:"submit",class:"btn btn-primary"},rO={key:0},lO={key:1},iO={class:"card card-one"},oO={class:"card-body"},nO={class:"table-responsive table-responsive-sm"},dO={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},cO={class:"",style:{"background-color":"#9b9b9b",color:"white"}},uO={key:0,class:"ri-arrow-up-line"},pO={key:1,class:"ri-arrow-down-line"},mO={key:2,class:"fas fa-sort"},_O={key:0,class:"ri-arrow-up-line"},hO={key:1,class:"ri-arrow-down-line"},bO={key:2,class:"fas fa-sort"},vO={class:"text-center"},yO={class:"text-center"},gO={key:0},DO={class:"text-center"},QO={class:"text-center"},fO={class:"form-switch"},kO=["id","checked","value","onChange"],wO=["for"],AO={class:"text-center"},WO=["onClick"],zO={class:"card-footer"},xO={class:"d-flex justify-content-between align-items-center"};function PO(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("Pagination"),u=(0,r.iS)("can");return(0,r.Wz)(),(0,r.An)("div",EF,[(0,r.QD)("div",null,[(0,r.QD)("ol",KF,[(0,r.QD)("li",IF,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[10]||(a[10]=[(0,r.mY)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.QD)("li",{class:"breadcrumb-item"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Type Parameters")],-1)),a[12]||(a[12]=(0,r.QD)("li",{class:"breadcrumb-item active","aria-current":"page"},"Equipment Types",-1))]),a[13]||(a[13]=(0,r.QD)("h4",{class:"main-title mb-2"},"Equipment Types",-1))]),(0,r.QD)("div",FF,[(0,r.wt)(((0,r.Wz)(),(0,r.An)("div",OF,[(0,r.QD)("form",{onSubmit:a[3]||(a[3]=(0,t.Y7)((e=>o.submitForm()),["prevent"]))},[(0,r.QD)("div",LF,[(0,r.QD)("div",BF,[i.status?((0,r.Wz)(),(0,r.An)("h6",MF,"Add Equipment Type")):((0,r.Wz)(),(0,r.An)("h6",ZF,"Update Equipment Type"))]),(0,r.QD)("div",HF,[(0,r.QD)("div",JF,[(0,r.QD)("div",GF,[a[14]||(a[14]=(0,r.QD)("label",{class:"form-label"},"Equipment Type Code",-1)),a[15]||(a[15]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Enter Equipment Type Code",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.equipment_type_code}]),"onUpdate:modelValue":a[0]||(a[0]=e=>i.equipment_type.equipment_type_code=e),ref:"equipment_type_code"},null,2),[[t.Og,i.equipment_type.equipment_type_code]]),i.errors.equipment_type_code?((0,r.Wz)(),(0,r.An)("span",XF,(0,d.WA)(i.errors.equipment_type_code[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",eO,[a[16]||(a[16]=(0,r.QD)("label",{class:"form-label"},"Equipment Type Name",-1)),a[17]||(a[17]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Enter Equipment Type name",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.equipment_type_name}]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.equipment_type.equipment_type_name=e)},null,2),[[t.Og,i.equipment_type.equipment_type_name]]),i.errors.equipment_type_name?((0,r.Wz)(),(0,r.An)("span",aO,(0,d.WA)(i.errors.equipment_type_name[0]),1)):(0,r.g1)("",!0)])])]),(0,r.QD)("div",sO,[(0,r.QD)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[2]||(a[2]=e=>o.discard())},a[18]||(a[18]=[(0,r.QD)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.mY)(" Discard")])),(0,r.QD)("button",tO,[i.status?((0,r.Wz)(),(0,r.An)("span",rO,a[19]||(a[19]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Submit")]))):((0,r.Wz)(),(0,r.An)("span",lO,a[20]||(a[20]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Update")])))])])])],32)])),[[u,"equipment_types.create"]]),(0,r.QD)("div",{class:(0,d.WN)(i.column)},[(0,r.QD)("div",iO,[a[29]||(a[29]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Equipment Types")],-1)),(0,r.QD)("div",oO,[(0,r.wt)((0,r.QD)("input",{class:"form-control mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[4]||(a[4]=e=>i.meta.search=e),onKeypress:a[5]||(a[5]=(0,t.jj)((e=>o.search()),["enter"]))},null,544),[[t.Og,i.meta.search]]),(0,r.QD)("div",nO,[(0,r.QD)("table",dO,[(0,r.QD)("thead",null,[(0,r.QD)("tr",cO,[a[25]||(a[25]=(0,r.QD)("th",{class:"text-center"},"#",-1)),(0,r.QD)("th",{onClick:a[6]||(a[6]=e=>o.sort("equipment_type_code"))},[a[21]||(a[21]=(0,r.mY)("Equipment Type Code ")),(0,r.QD)("span",null,["equipment_type_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",uO)):"equipment_type_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",pO)):((0,r.Wz)(),(0,r.An)("i",mO))])]),(0,r.QD)("th",{onClick:a[7]||(a[7]=e=>o.sort("equipment_type_name"))},[a[22]||(a[22]=(0,r.mY)("Equipment Type Name ")),(0,r.QD)("span",null,["equipment_type_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",_O)):"equipment_type_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",hO)):((0,r.Wz)(),(0,r.An)("i",bO))])]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("th",vO,a[23]||(a[23]=[(0,r.mY)("Status")]))),[[u,"equipment_types.delete"]]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("th",yO,a[24]||(a[24]=[(0,r.mY)("Actions")]))),[[u,"equipment_types.update"]])])]),(0,r.QD)("tbody",null,[0==i.equpment_types.length?((0,r.Wz)(),(0,r.An)("tr",gO,a[26]||(a[26]=[(0,r.QD)("td",{colspan:"6",class:"text-center"},"No records found",-1)]))):(0,r.g1)("",!0),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.equpment_types,((e,s)=>((0,r.Wz)(),(0,r.An)("tr",{key:s},[(0,r.QD)("td",DO,(0,d.WA)(i.meta.from+s),1),(0,r.QD)("td",null,(0,d.WA)(e.equipment_type_code),1),(0,r.QD)("td",null,(0,d.WA)(e.equipment_type_name),1),(0,r.wt)(((0,r.Wz)(),(0,r.An)("td",QO,[(0,r.QD)("div",fO,[(0,r.QD)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"equipment_type"+e.equipment_type_id,checked:e.status,value:e.status,onChange:a=>o.deleteEquipmentType(e)},null,40,kO),(0,r.QD)("label",{class:"custom-control-label",for:"equipment_type"+e.equipment_type_id},null,8,wO)])])),[[u,"equipment_types.delete"]]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("td",AO,[e.status?((0,r.Wz)(),(0,r.An)("a",{key:0,href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editEquipmentType(e)},a[27]||(a[27]=[(0,r.QD)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,WO)):(0,r.g1)("",!0)])),[[u,"equipment_types.update"]])])))),128))])])])]),(0,r.QD)("div",zO,[(0,r.QD)("div",xO,[(0,r.wt)((0,r.QD)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.per_page=e),onChange:a[9]||(a[9]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[28]||(a[28]=[(0,r.QD)("option",null,"10",-1),(0,r.QD)("option",null,"15",-1),(0,r.QD)("option",null,"20",-1),(0,r.QD)("option",null,"25",-1),(0,r.QD)("option",null,"30",-1)]),544),[[t.Ip,i.meta.per_page]]),(0,r.QD)("span",null,"Showing "+(0,d.WA)(i.meta.from)+" to "+(0,d.WA)(i.meta.to)+" of "+(0,d.WA)(i.meta.totalRows)+" entries",1),(0,r.K2)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])],2)])])}var CO={components:{Pagination:Zt},data(){return{meta:{search:"",order_by:"asc",keyword:"equipment_type_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},equpment_types:[],equipment_type:{equipment_type_id:"",equipment_type_code:"",equipment_type_name:"",status:""},status:!0,errors:[],column:"col-8",update:!1}},mounted(){this.create_equipment_types=this.$store.getters.permissions.filter((function(e){return e.ability.ability.includes("equipment_types.create")})),this.create_equipment_types.length?this.column="col-8":this.column="col-12",this.index()},methods:{submitForm(){let e=this;e.status?e.addEquipmentType():e.updateEquipmentType()},index(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"paginateEquipmentTypes",data:e.meta}).then((s=>{a.hide(),this.equpment_types=s.data.data,this.meta.totalRows=s.data.meta.total,this.meta.from=s.data.meta.from,this.meta.lastPage=s.data.meta.last_page,this.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},addEquipmentType(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"addEquipmentType",data:e.equipment_type}).then((e=>{a.hide(),this.$store.dispatch("success",e.data.message),this.discard(),this.index()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},deleteEquipmentType(e){let a=this;e.status=1==e.status?0:1,a.$store.dispatch("post",{uri:"deleteEquipmentType",data:e}).then((function(e){a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},editEquipmentType(e){this.equipment_type=e,this.update=!0,this.status=!1},updateEquipmentType(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"updateEquipmentType",data:this.equipment_type}).then((e=>{a.hide(),this.$store.dispatch("success",e.data.message),this.discard(),this.index()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},discard(){let e=this;e.equipment_type.equipment_type_code="",e.equipment_type.equipment_type_name="",e.$refs.equipment_type_code.focus(),e.errors=[],e.status=!0,e.index()},search(){let e=this;e.meta.page=1,e.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const $O=(0,Ce.c)(CO,[["render",PO]]);var SO=$O;const UO={class:""},VO={class:"breadcrumb fs-sm mb-1"},jO={class:"breadcrumb-item"},YO={class:"row g-2"},TO={class:"col-4"},NO={class:"card card-one"},RO={class:"card-header d-flex justify-content-between"},qO={key:0,class:"card-title"},EO={key:1,class:"card-title"},KO={class:"card-body"},IO={class:"row g-2"},FO={class:"col-md-12"},OO={key:0,class:"invalid-feedback"},LO={class:"col-md-12"},BO={key:0,class:"invalid-feedback"},MO={class:"card-footer text-end"},ZO={type:"submit",class:"btn btn-primary"},HO={key:0},JO={key:1},GO={class:"card card-one"},XO={class:"card-body"},eL={class:"table-responsive table-responsive-sm"},aL={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},sL={class:"",style:{"background-color":"#9b9b9b",color:"white"}},tL={key:0,class:"ri-arrow-up-line"},rL={key:1,class:"ri-arrow-down-line"},lL={key:2,class:"fas fa-sort"},iL={key:0,class:"ri-arrow-up-line"},oL={key:1,class:"ri-arrow-down-line"},nL={key:2,class:"fas fa-sort"},dL={class:"text-center"},cL={class:"text-center"},uL={key:0},pL={class:"text-center"},mL={class:"text-center"},_L={class:"form-switch"},hL=["id","checked","value","onChange"],bL=["for"],vL={class:"text-center"},yL=["onClick"],gL={class:"card-footer"},DL={class:"d-flex justify-content-between align-items-center"};function QL(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("Pagination"),u=(0,r.iS)("can");return(0,r.Wz)(),(0,r.An)("div",UO,[(0,r.QD)("div",null,[(0,r.QD)("ol",VO,[(0,r.QD)("li",jO,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[10]||(a[10]=[(0,r.mY)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.QD)("li",{class:"breadcrumb-item"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Type Parameters")],-1)),a[12]||(a[12]=(0,r.QD)("li",{class:"breadcrumb-item active","aria-current":"page"},"Asset Types",-1))]),a[13]||(a[13]=(0,r.QD)("h4",{class:"main-title mb-2"},"Asset Types",-1))]),(0,r.QD)("div",YO,[(0,r.wt)(((0,r.Wz)(),(0,r.An)("div",TO,[(0,r.QD)("form",{onSubmit:a[3]||(a[3]=(0,t.Y7)((e=>o.submitForm()),["prevent"]))},[(0,r.QD)("div",NO,[(0,r.QD)("div",RO,[i.status?((0,r.Wz)(),(0,r.An)("h6",qO,"Add Asset Type")):((0,r.Wz)(),(0,r.An)("h6",EO,"Update Asset Type"))]),(0,r.QD)("div",KO,[(0,r.QD)("div",IO,[(0,r.QD)("div",FO,[a[14]||(a[14]=(0,r.QD)("label",{class:"form-label"},"Asset Type Code",-1)),a[15]||(a[15]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Enter Asset Type Code",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.asset_type_code}]),"onUpdate:modelValue":a[0]||(a[0]=e=>i.asset_type.asset_type_code=e),ref:"asset_type_code"},null,2),[[t.Og,i.asset_type.asset_type_code]]),i.errors.asset_type_code?((0,r.Wz)(),(0,r.An)("span",OO,(0,d.WA)(i.errors.asset_type_code[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",LO,[a[16]||(a[16]=(0,r.QD)("label",{class:"form-label"},"Asset Type Name",-1)),a[17]||(a[17]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Enter Asset Type name",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.asset_type_name}]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.asset_type.asset_type_name=e)},null,2),[[t.Og,i.asset_type.asset_type_name]]),i.errors.asset_type_name?((0,r.Wz)(),(0,r.An)("span",BO,(0,d.WA)(i.errors.asset_type_name[0]),1)):(0,r.g1)("",!0)])])]),(0,r.QD)("div",MO,[(0,r.QD)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[2]||(a[2]=e=>o.discard())},a[18]||(a[18]=[(0,r.QD)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.mY)(" Discard")])),(0,r.QD)("button",ZO,[i.status?((0,r.Wz)(),(0,r.An)("span",HO,a[19]||(a[19]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Submit")]))):((0,r.Wz)(),(0,r.An)("span",JO,a[20]||(a[20]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Update")])))])])])],32)])),[[u,"asset_types.create"]]),(0,r.QD)("div",{class:(0,d.WN)(i.column)},[(0,r.QD)("div",GO,[a[29]||(a[29]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Asset Types")],-1)),(0,r.QD)("div",XO,[(0,r.wt)((0,r.QD)("input",{class:"form-control mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[4]||(a[4]=e=>i.meta.search=e),onKeypress:a[5]||(a[5]=(0,t.jj)((e=>o.search()),["enter"]))},null,544),[[t.Og,i.meta.search]]),(0,r.QD)("div",eL,[(0,r.QD)("table",aL,[(0,r.QD)("thead",null,[(0,r.QD)("tr",sL,[a[25]||(a[25]=(0,r.QD)("th",{class:"text-center"},"#",-1)),(0,r.QD)("th",{onClick:a[6]||(a[6]=e=>o.sort("asset_type_code"))},[a[21]||(a[21]=(0,r.mY)("Asset Type Code ")),(0,r.QD)("span",null,["asset_type_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",tL)):"asset_type_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",rL)):((0,r.Wz)(),(0,r.An)("i",lL))])]),(0,r.QD)("th",{onClick:a[7]||(a[7]=e=>o.sort("asset_type_name"))},[a[22]||(a[22]=(0,r.mY)("Asset Type Name ")),(0,r.QD)("span",null,["asset_type_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",iL)):"asset_type_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",oL)):((0,r.Wz)(),(0,r.An)("i",nL))])]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("th",dL,a[23]||(a[23]=[(0,r.mY)("Status")]))),[[u,"asset_types.delete"]]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("th",cL,a[24]||(a[24]=[(0,r.mY)("Actions")]))),[[u,"asset_types.update"]])])]),(0,r.QD)("tbody",null,[0==i.asset_types.length?((0,r.Wz)(),(0,r.An)("tr",uL,a[26]||(a[26]=[(0,r.QD)("td",{colspan:"6",class:"text-center"},"No records found",-1)]))):(0,r.g1)("",!0),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.asset_types,((e,s)=>((0,r.Wz)(),(0,r.An)("tr",{key:s},[(0,r.QD)("td",pL,(0,d.WA)(i.meta.from+s),1),(0,r.QD)("td",null,(0,d.WA)(e.asset_type_code),1),(0,r.QD)("td",null,(0,d.WA)(e.asset_type_name),1),(0,r.wt)(((0,r.Wz)(),(0,r.An)("td",mL,[(0,r.QD)("div",_L,[(0,r.QD)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"asset_type"+e.asset_type_id,checked:e.status,value:e.status,onChange:a=>o.deleteAssetType(e)},null,40,hL),(0,r.QD)("label",{class:"custom-control-label",for:"asset_type"+e.asset_type_id},null,8,bL)])])),[[u,"asset_types.delete"]]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("td",vL,[e.status?((0,r.Wz)(),(0,r.An)("a",{key:0,href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editAssetType(e)},a[27]||(a[27]=[(0,r.QD)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,yL)):(0,r.g1)("",!0)])),[[u,"asset_types.update"]])])))),128))])])])]),(0,r.QD)("div",gL,[(0,r.QD)("div",DL,[(0,r.wt)((0,r.QD)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.per_page=e),onChange:a[9]||(a[9]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[28]||(a[28]=[(0,r.QD)("option",null,"10",-1),(0,r.QD)("option",null,"15",-1),(0,r.QD)("option",null,"20",-1),(0,r.QD)("option",null,"25",-1),(0,r.QD)("option",null,"30",-1)]),544),[[t.Ip,i.meta.per_page]]),(0,r.QD)("span",null,"Showing "+(0,d.WA)(i.meta.from)+" to "+(0,d.WA)(i.meta.to)+" of "+(0,d.WA)(i.meta.totalRows)+" entries",1),(0,r.K2)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])],2)])])}var fL={components:{Pagination:Zt},data(){return{meta:{search:"",order_by:"asc",keyword:"asset_type_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},asset_types:[],asset_type:{asset_type_id:"",asset_type_code:"",asset_type_name:"",status:""},status:!0,column:"col-8",errors:[]}},mounted(){this.create_asset_type=this.$store.getters.permissions.filter((function(e){return e.ability.ability.includes("asset_types.create")})),this.create_asset_type.length?this.column="col-8":this.column="col-12",this.index(),this.$refs.asset_type_code.focus()},methods:{submitForm(){let e=this;e.status?e.addAssetType():e.updateAssetType()},index(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"paginateAssetTypes",data:e.meta}).then((s=>{a.hide(),this.asset_types=s.data.data,this.meta.totalRows=s.data.meta.total,this.meta.from=s.data.meta.from,this.meta.lastPage=s.data.meta.last_page,this.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},addAssetType(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"addAssetType",data:e.asset_type}).then((e=>{a.hide(),this.$store.dispatch("success",e.data.message),this.discard(),this.index()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},deleteAssetType(e){let a=this;e.status=1==e.status?0:1,a.$store.dispatch("post",{uri:"deleteAssetType",data:e}).then((function(e){a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},editAssetType(e){this.asset_type=e,this.update=!0,this.status=!1,this.$refs.asset_type_code.focus()},updateAssetType(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"updateAssetType",data:this.asset_type}).then((e=>{a.hide(),this.$store.dispatch("success",e.data.message),this.discard(),this.index()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},discard(){let e=this;e.asset_type.asset_type_code="",e.asset_type.asset_type_name="",e.$refs.asset_type_code.focus(),e.errors=[],e.status=!0,e.index()},search(){let e=this;e.meta.page=1,e.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const kL=(0,Ce.c)(fL,[["render",QL]]);var wL=kL;const AL={class:""},WL={class:"breadcrumb fs-sm mb-1"},zL={class:"breadcrumb-item"},xL={class:"row g-2"},PL={class:"col-4"},CL={class:"card card-one"},$L={class:"card-header d-flex justify-content-between"},SL={key:0,class:"card-title"},UL={key:1,class:"card-title"},VL={class:"card-body"},jL={class:"row g-2"},YL={class:"col-md-12"},TL={key:0,class:"invalid-feedback"},NL={class:"col-md-12"},RL={key:0,class:"invalid-feedback"},qL={class:"card-footer text-end"},EL={type:"submit",class:"btn btn-primary"},KL={key:0},IL={key:1},FL={class:"card card-one"},OL={class:"card-body"},LL={class:"table-responsive table-responsive-sm"},BL={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},ML={class:"",style:{"background-color":"#9b9b9b",color:"white"}},ZL={key:0,class:"ri-arrow-up-line"},HL={key:1,class:"ri-arrow-down-line"},JL={key:2,class:"fas fa-sort"},GL={key:0,class:"ri-arrow-up-line"},XL={key:1,class:"ri-arrow-down-line"},eB={key:2,class:"fas fa-sort"},aB={class:"text-center"},sB={class:"text-center"},tB={key:0},rB={class:"text-center"},lB={class:"text-center"},iB={class:"form-switch"},oB=["id","checked","value","onChange"],nB=["for"],dB={class:"text-center"},cB=["onClick"],uB={class:"card-footer"},pB={class:"d-flex justify-content-between align-items-center"};function mB(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("Pagination"),u=(0,r.iS)("can");return(0,r.Wz)(),(0,r.An)("div",AL,[(0,r.QD)("div",null,[(0,r.QD)("ol",WL,[(0,r.QD)("li",zL,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[10]||(a[10]=[(0,r.mY)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.QD)("li",{class:"breadcrumb-item"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Type Parameters")],-1)),a[12]||(a[12]=(0,r.QD)("li",{class:"breadcrumb-item active","aria-current":"page"},"Service Types",-1))]),a[13]||(a[13]=(0,r.QD)("h4",{class:"main-title mb-2"},"Service Types",-1))]),(0,r.QD)("div",xL,[(0,r.wt)(((0,r.Wz)(),(0,r.An)("div",PL,[(0,r.QD)("form",{onSubmit:a[3]||(a[3]=(0,t.Y7)((e=>o.submitForm()),["prevent"]))},[(0,r.QD)("div",CL,[(0,r.QD)("div",$L,[i.status?((0,r.Wz)(),(0,r.An)("h6",SL,"Add Service Type")):((0,r.Wz)(),(0,r.An)("h6",UL,"Update Service Type"))]),(0,r.QD)("div",VL,[(0,r.QD)("div",jL,[(0,r.QD)("div",YL,[a[14]||(a[14]=(0,r.QD)("label",{class:"form-label"},"Service Type Code",-1)),a[15]||(a[15]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Enter Service Type Code",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.service_type_code}]),"onUpdate:modelValue":a[0]||(a[0]=e=>i.service_type.service_type_code=e),ref:"service_type_code"},null,2),[[t.Og,i.service_type.service_type_code]]),i.errors.service_type_code?((0,r.Wz)(),(0,r.An)("span",TL,(0,d.WA)(i.errors.service_type_code[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",NL,[a[16]||(a[16]=(0,r.QD)("label",{class:"form-label"},"Service Type Name",-1)),a[17]||(a[17]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Enter Service Type name",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.service_type_name}]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.service_type.service_type_name=e)},null,2),[[t.Og,i.service_type.service_type_name]]),i.errors.service_type_name?((0,r.Wz)(),(0,r.An)("span",RL,(0,d.WA)(i.errors.service_type_name[0]),1)):(0,r.g1)("",!0)])])]),(0,r.QD)("div",qL,[(0,r.QD)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[2]||(a[2]=e=>o.discard())},a[18]||(a[18]=[(0,r.QD)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.mY)(" Discard")])),(0,r.QD)("button",EL,[i.status?((0,r.Wz)(),(0,r.An)("span",KL,a[19]||(a[19]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Submit")]))):((0,r.Wz)(),(0,r.An)("span",IL,a[20]||(a[20]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Update")])))])])])],32)])),[[u,"service_types.create"]]),(0,r.QD)("div",{class:(0,d.WN)(i.column)},[(0,r.QD)("div",FL,[a[29]||(a[29]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Service Types")],-1)),(0,r.QD)("div",OL,[(0,r.wt)((0,r.QD)("input",{class:"form-control mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[4]||(a[4]=e=>i.meta.search=e),onKeypress:a[5]||(a[5]=(0,t.jj)((e=>o.search()),["enter"]))},null,544),[[t.Og,i.meta.search]]),(0,r.QD)("div",LL,[(0,r.QD)("table",BL,[(0,r.QD)("thead",null,[(0,r.QD)("tr",ML,[a[25]||(a[25]=(0,r.QD)("th",{class:"text-center"},"#",-1)),(0,r.QD)("th",{onClick:a[6]||(a[6]=e=>o.sort("service_type_code"))},[a[21]||(a[21]=(0,r.mY)("Service Type Code ")),(0,r.QD)("span",null,["service_type_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",ZL)):"service_type_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",HL)):((0,r.Wz)(),(0,r.An)("i",JL))])]),(0,r.QD)("th",{onClick:a[7]||(a[7]=e=>o.sort("service_type_name"))},[a[22]||(a[22]=(0,r.mY)("Service Type Name ")),(0,r.QD)("span",null,["service_type_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",GL)):"service_type_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",XL)):((0,r.Wz)(),(0,r.An)("i",eB))])]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("th",aB,a[23]||(a[23]=[(0,r.mY)("Status")]))),[[u,"service_types.delete"]]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("th",sB,a[24]||(a[24]=[(0,r.mY)("Actions")]))),[[u,"service_types.update"]])])]),(0,r.QD)("tbody",null,[0==i.service_types.length?((0,r.Wz)(),(0,r.An)("tr",tB,a[26]||(a[26]=[(0,r.QD)("td",{colspan:"6",class:"text-center"},"No records found",-1)]))):(0,r.g1)("",!0),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.service_types,((e,s)=>((0,r.Wz)(),(0,r.An)("tr",{key:s},[(0,r.QD)("td",rB,(0,d.WA)(i.meta.from+s),1),(0,r.QD)("td",null,(0,d.WA)(e.service_type_code),1),(0,r.QD)("td",null,(0,d.WA)(e.service_type_name),1),(0,r.wt)(((0,r.Wz)(),(0,r.An)("td",lB,[(0,r.QD)("div",iB,[(0,r.QD)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"service_type"+e.service_type_id,checked:e.status,value:e.status,onChange:a=>o.deleteServiceType(e)},null,40,oB),(0,r.QD)("label",{class:"custom-control-label",for:"service_type"+e.service_type_id},null,8,nB)])])),[[u,"service_types.delete"]]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("td",dB,[e.status?((0,r.Wz)(),(0,r.An)("a",{key:0,href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editServiceType(e)},a[27]||(a[27]=[(0,r.QD)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,cB)):(0,r.g1)("",!0)])),[[u,"service_types.update"]])])))),128))])])])]),(0,r.QD)("div",uB,[(0,r.QD)("div",pB,[(0,r.wt)((0,r.QD)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.per_page=e),onChange:a[9]||(a[9]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[28]||(a[28]=[(0,r.QD)("option",null,"10",-1),(0,r.QD)("option",null,"15",-1),(0,r.QD)("option",null,"20",-1),(0,r.QD)("option",null,"25",-1),(0,r.QD)("option",null,"30",-1)]),544),[[t.Ip,i.meta.per_page]]),(0,r.QD)("span",null,"Showing "+(0,d.WA)(i.meta.from)+" to "+(0,d.WA)(i.meta.to)+" of "+(0,d.WA)(i.meta.totalRows)+" entries",1),(0,r.K2)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])],2)])])}var _B={components:{Pagination:Zt},data(){return{column:"col-8",meta:{search:"",order_by:"asc",keyword:"service_type_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},service_types:[],service_type:{service_type_id:"",service_type_code:"",service_type_name:"",status:""},status:!0,errors:[]}},mounted(){this.create_service_type=this.$store.getters.permissions.filter((function(e){return e.ability.ability.includes("service_types.create")})),this.create_service_type.length?this.column="col-8":this.column="col-12",this.index(),this.$refs.service_type_code.focus()},methods:{submitForm(){let e=this;e.status?e.addServiceType():e.updateServiceType()},index(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"paginateServiceTypes",data:e.meta}).then((s=>{a.hide(),this.service_types=s.data.data,this.meta.totalRows=s.data.meta.total,this.meta.from=s.data.meta.from,this.meta.lastPage=s.data.meta.last_page,this.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},addServiceType(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"addServiceType",data:e.service_type}).then((e=>{a.hide(),this.$store.dispatch("success",e.data.message),this.discard(),this.index()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},deleteServiceType(e){let a=this;e.status=1==e.status?0:1,a.$store.dispatch("post",{uri:"deleteServiceType",data:e}).then((function(e){a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},editServiceType(e){this.service_type=e,this.status=!1,this.$refs.service_type_code.focus()},updateServiceType(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"updateServiceType",data:this.service_type}).then((e=>{a.hide(),this.$store.dispatch("success",e.data.message),this.discard(),this.index()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},discard(){let e=this;e.service_type.service_type_code="",e.service_type.service_type_name="",e.$refs.service_type_code.focus(),e.errors=[],e.status=!0,e.index()},search(){let e=this;e.meta.page=1,e.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const hB=(0,Ce.c)(_B,[["render",mB]]);var bB=hB;const vB={class:""},yB={class:"breadcrumb fs-sm mb-1"},gB={class:"breadcrumb-item"},DB={class:"row g-2"},QB={class:"col-4"},fB={class:"card card-one"},kB={class:"card-header d-flex justify-content-between"},wB={key:0,class:"card-title"},AB={key:1,class:"card-title"},WB={class:"card-body"},zB={class:"row g-2"},xB={class:"col-md-12"},PB={key:0},CB={class:"text-danger"},$B={class:"col-md-12"},SB={key:0},UB={class:"text-danger"},VB={class:"card-footer text-end"},jB={type:"submit",class:"btn btn-primary"},YB={key:0},TB={key:1},NB={class:"card card-one"},RB={class:"card-body"},qB={class:"table-responsive table-responsive-sm"},EB={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},KB={style:{"background-color":"#9b9b9b",color:"white"}},IB={key:0,class:"ri-arrow-up-line"},FB={key:1,class:"ri-arrow-down-line"},OB={key:2,class:"fas fa-sort"},LB={key:0,class:"ri-arrow-up-line"},BB={key:1,class:"ri-arrow-down-line"},MB={key:2,class:"fas fa-sort"},ZB={class:"text-center"},HB={class:"text-center"},JB={class:"text-center"},GB={class:"text-center"},XB={class:"form-switch"},eM=["id","checked","value","onChange"],aM=["for"],sM={class:"text-center"},tM=["onClick"],rM={class:"card-footer"},lM={class:"d-flex justify-content-between align-items-center"};function iM(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("Pagination"),u=(0,r.iS)("can");return(0,r.Wz)(),(0,r.An)("div",vB,[(0,r.QD)("div",null,[(0,r.QD)("ol",yB,[(0,r.QD)("li",gB,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[10]||(a[10]=[(0,r.mY)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.QD)("li",{class:"breadcrumb-item"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Type Parameters")],-1)),a[12]||(a[12]=(0,r.QD)("li",{class:"breadcrumb-item active","aria-current":"page"},"Spare Types",-1))]),a[13]||(a[13]=(0,r.QD)("h4",{class:"main-title mb-2"},"Spare Types",-1))]),(0,r.QD)("div",DB,[(0,r.wt)(((0,r.Wz)(),(0,r.An)("div",QB,[(0,r.QD)("form",{onSubmit:a[3]||(a[3]=(0,t.Y7)((e=>o.submitForm()),["prevent"]))},[(0,r.QD)("div",fB,[(0,r.QD)("div",kB,[i.status?((0,r.Wz)(),(0,r.An)("h6",wB,"Add Spare Type ")):((0,r.Wz)(),(0,r.An)("h6",AB,"Update Spare Type "))]),(0,r.QD)("div",WB,[(0,r.QD)("div",zB,[(0,r.QD)("div",xB,[a[14]||(a[14]=(0,r.QD)("label",{class:"form-label"},"Spare Type Code ",-1)),a[15]||(a[15]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Spare Type Code",class:(0,d.WN)([{"is-invalid":i.errors.spare_type_code},"form-control"]),"onUpdate:modelValue":a[0]||(a[0]=e=>i.spare_type.spare_type_code=e),ref:"spare_type_code"},null,2),[[t.Og,i.spare_type.spare_type_code]]),i.errors.spare_type_code?((0,r.Wz)(),(0,r.An)("span",PB,[(0,r.QD)("small",CB,(0,d.WA)(i.errors.spare_type_code[0]),1)])):(0,r.g1)("",!0)]),(0,r.QD)("div",$B,[a[16]||(a[16]=(0,r.QD)("label",{class:"form-label"},"Spare Type Name ",-1)),a[17]||(a[17]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Spare Type Name ",class:(0,d.WN)([{"is-invalid":i.errors.spare_type_name},"form-control"]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.spare_type.spare_type_name=e),ref:"spare_type_name"},null,2),[[t.Og,i.spare_type.spare_type_name]]),i.errors.spare_type_name?((0,r.Wz)(),(0,r.An)("span",SB,[(0,r.QD)("small",UB,(0,d.WA)(i.errors.spare_type_name[0]),1)])):(0,r.g1)("",!0)])])]),(0,r.QD)("div",VB,[(0,r.QD)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[2]||(a[2]=e=>o.discard())},a[18]||(a[18]=[(0,r.QD)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.mY)(" Discard")])),(0,r.QD)("button",jB,[i.status?((0,r.Wz)(),(0,r.An)("span",YB,a[19]||(a[19]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Submit")]))):((0,r.Wz)(),(0,r.An)("span",TB,a[20]||(a[20]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Update")])))])])])],32)])),[[u,"spare_types.create"]]),(0,r.QD)("div",{class:(0,d.WN)(i.column)},[(0,r.QD)("div",NB,[a[28]||(a[28]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Spare Types")],-1)),(0,r.QD)("div",RB,[(0,r.wt)((0,r.QD)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[4]||(a[4]=e=>i.meta.search=e),onKeypress:a[5]||(a[5]=(0,t.jj)((e=>o.search()),["enter"]))},null,544),[[t.Og,i.meta.search]]),(0,r.QD)("div",qB,[(0,r.QD)("table",EB,[(0,r.QD)("thead",null,[(0,r.QD)("tr",KB,[a[25]||(a[25]=(0,r.QD)("th",{class:"text-center"},"#",-1)),(0,r.QD)("th",{onClick:a[6]||(a[6]=e=>o.sort("spare_type_code"))},[a[21]||(a[21]=(0,r.mY)("Spare Type Code ")),(0,r.QD)("span",null,["spare_type_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",IB)):"spare_type_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",FB)):((0,r.Wz)(),(0,r.An)("i",OB))])]),(0,r.QD)("th",{onClick:a[7]||(a[7]=e=>o.sort("spare_type_name"))},[a[22]||(a[22]=(0,r.mY)("Spare Type Name ")),(0,r.QD)("span",null,["spare_type_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",LB)):"spare_type_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",BB)):((0,r.Wz)(),(0,r.An)("i",MB))])]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("th",ZB,a[23]||(a[23]=[(0,r.mY)("Status")]))),[[u,"spare_types.delete"]]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("th",HB,a[24]||(a[24]=[(0,r.mY)("Actions")]))),[[u,"spare_types.update"]])])]),(0,r.QD)("tbody",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.spare_types,((e,s)=>((0,r.Wz)(),(0,r.An)("tr",{key:s},[(0,r.QD)("td",JB,(0,d.WA)(i.meta.from+s),1),(0,r.QD)("td",null,(0,d.WA)(e.spare_type_code),1),(0,r.QD)("td",null,(0,d.WA)(e.spare_type_name),1),(0,r.wt)(((0,r.Wz)(),(0,r.An)("td",GB,[(0,r.QD)("div",XB,[(0,r.QD)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"spare_type"+e.spare_type_id,checked:e.status,value:e.status,onChange:a=>o.deleteSpareType(e)},null,40,eM),(0,r.QD)("label",{class:"custom-control-label",for:"spare_type"+e.spare_type_id},null,8,aM)])])),[[u,"spare_types.delete"]]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("td",sM,[e.status?((0,r.Wz)(),(0,r.An)("a",{key:0,href:"javascript:void(0)",class:"text-success",onClick:a=>o.editSpareType(e)},a[26]||(a[26]=[(0,r.QD)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,tM)):(0,r.g1)("",!0)])),[[u,"spare_types.update"]])])))),128))])])])]),(0,r.QD)("div",rM,[(0,r.QD)("div",lM,[(0,r.wt)((0,r.QD)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.per_page=e),onChange:a[9]||(a[9]=(...a)=>e.onPerPageChange&&e.onPerPageChange(...a))},a[27]||(a[27]=[(0,r.QD)("option",null,"10",-1),(0,r.QD)("option",null,"15",-1),(0,r.QD)("option",null,"20",-1),(0,r.QD)("option",null,"25",-1),(0,r.QD)("option",null,"30",-1)]),544),[[t.Ip,i.meta.per_page]]),(0,r.QD)("span",null,"Showing "+(0,d.WA)(i.meta.from)+" to "+(0,d.WA)(i.meta.to)+" of "+(0,d.WA)(i.meta.totalRows)+" entries",1),(0,r.K2)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])],2)])])}var oM={components:{Pagination:Zt},data(){return{column:"col-8",meta:{search:"",order_by:"asc",keyword:"spare_type_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},spare_types:[],spare_type:{spare_type_id:"",spare_type_code:"",spare_type_name:"",status:""},status:!0,errors:[],update:!1}},mounted(){this.create_spare_type=this.$store.getters.permissions.filter((function(e){return e.ability.ability.includes("spare_types.create")})),this.create_spare_type.length?this.column="col-8":this.column="col-12",this.index(),this.$refs.spare_type_code.focus()},methods:{submitForm(){let e=this;e.status?e.addSpareType():e.updateSpareType()},index(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"paginateSpareTypes",data:e.meta}).then((s=>{a.hide(),this.spare_types=s.data.data,this.meta.totalRows=s.data.meta.total,this.meta.from=s.data.meta.from,this.meta.lastPage=s.data.meta.last_page,this.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},addSpareType(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"addSpareType",data:e.spare_type}).then((e=>{a.hide(),this.$store.dispatch("success",e.data.message),this.discard()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},deleteSpareType(e){let a=this,s=this.$loading.show();e.status=1==e.status?0:1,a.$store.dispatch("post",{uri:"deleteSpareType",data:e}).then((function(e){s.hide(),a.$store.dispatch("success",e.data.message),a.discard()})).catch((function(e){s.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},editSpareType(e){this.spare_type=e,this.update=!0,this.status=!1,this.$refs.spare_type_code.focus()},updateSpareType(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"updateSpareType",data:this.spare_type}).then((e=>{a.hide(),this.$store.dispatch("success",e.data.message),this.discard()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},discard(){let e=this;e.spare_type.spare_type_code="",e.spare_type.spare_type_name="",e.$refs.spare_type_code.focus(),e.errors=[],e.status=!0,e.index()},search(){let e=this;e.meta.page=1,e.index()}}};const nM=(0,Ce.c)(oM,[["render",iM]]);var dM=nM;const cM={class:""},uM={class:"breadcrumb fs-sm mb-1"},pM={class:"breadcrumb-item"},mM={class:"row g-2"},_M={class:"col-4"},hM={class:"card card-one"},bM={class:"card-header d-flex justify-content-between"},vM={key:0,class:"card-title"},yM={key:1,class:"card-title"},gM={class:"card-body"},DM={class:"row g-2"},QM={class:"col-md-12"},fM={key:0,class:"invalid-feedback"},kM={class:"col-md-12"},wM={key:0,class:"invalid-feedback"},AM={class:"card-footer text-end"},WM={type:"submit",class:"btn btn-primary"},zM={key:0},xM={key:1},PM={class:"card card-one"},CM={class:"card-body"},$M={class:"table-responsive table-responsive-sm"},SM={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},UM={class:"",style:{"background-color":"#9b9b9b",color:"white"}},VM={key:0,class:"ri-arrow-up-line"},jM={key:1,class:"ri-arrow-down-line"},YM={key:2,class:"fas fa-sort"},TM={key:0,class:"ri-arrow-up-line"},NM={key:1,class:"ri-arrow-down-line"},RM={key:2,class:"fas fa-sort"},qM={class:"text-center"},EM={class:"text-center"},KM={key:0},IM={class:"text-center"},FM={class:"text-center"},OM={class:"form-switch"},LM=["id","checked","value","onChange"],BM=["for"],MM={class:"text-center"},ZM=["onClick"],HM={class:"card-footer"},JM={class:"d-flex justify-content-between align-items-center"};function GM(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("Pagination"),u=(0,r.iS)("can");return(0,r.Wz)(),(0,r.An)("div",cM,[(0,r.QD)("div",null,[(0,r.QD)("ol",uM,[(0,r.QD)("li",pM,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[10]||(a[10]=[(0,r.mY)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.QD)("li",{class:"breadcrumb-item"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Type Parameters")],-1)),a[12]||(a[12]=(0,r.QD)("li",{class:"breadcrumb-item active","aria-current":"page"},"Activity Types",-1))]),a[13]||(a[13]=(0,r.QD)("h4",{class:"main-title mb-2"},"Activity Types",-1))]),(0,r.QD)("div",mM,[(0,r.wt)(((0,r.Wz)(),(0,r.An)("div",_M,[(0,r.QD)("form",{onSubmit:a[3]||(a[3]=(0,t.Y7)((e=>o.submitForm()),["prevent"]))},[(0,r.QD)("div",hM,[(0,r.QD)("div",bM,[i.status?((0,r.Wz)(),(0,r.An)("h6",vM,"Add Activity Type")):((0,r.Wz)(),(0,r.An)("h6",yM,"Update Activity Type"))]),(0,r.QD)("div",gM,[(0,r.QD)("div",DM,[(0,r.QD)("div",QM,[a[14]||(a[14]=(0,r.QD)("label",{class:"form-label"},"Activity Type Code",-1)),a[15]||(a[15]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Enter Activity Type Code",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.reason_code}]),"onUpdate:modelValue":a[0]||(a[0]=e=>i.reason.reason_code=e),ref:"reason_code"},null,2),[[t.Og,i.reason.reason_code]]),i.errors.reason_code?((0,r.Wz)(),(0,r.An)("span",fM,(0,d.WA)(i.errors.reason_code[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",kM,[a[16]||(a[16]=(0,r.QD)("label",{class:"form-label"},"Activity Type Name",-1)),a[17]||(a[17]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Enter Activity Type Name",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.reason_name}]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.reason.reason_name=e)},null,2),[[t.Og,i.reason.reason_name]]),i.errors.reason_name?((0,r.Wz)(),(0,r.An)("span",wM,(0,d.WA)(i.errors.reason_name[0]),1)):(0,r.g1)("",!0)])])]),(0,r.QD)("div",AM,[(0,r.QD)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[2]||(a[2]=e=>o.discard())},a[18]||(a[18]=[(0,r.QD)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.mY)(" Discard")])),(0,r.QD)("button",WM,[i.status?((0,r.Wz)(),(0,r.An)("span",zM,a[19]||(a[19]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Submit")]))):((0,r.Wz)(),(0,r.An)("span",xM,a[20]||(a[20]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Update")])))])])])],32)])),[[u,"reasons.create"]]),(0,r.QD)("div",{class:(0,d.WN)(i.column)},[(0,r.QD)("div",PM,[a[29]||(a[29]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Activity types")],-1)),(0,r.QD)("div",CM,[(0,r.wt)((0,r.QD)("input",{class:"form-control mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[4]||(a[4]=e=>i.meta.search=e),onKeypress:a[5]||(a[5]=(0,t.jj)((e=>o.search()),["enter"]))},null,544),[[t.Og,i.meta.search]]),(0,r.QD)("div",$M,[(0,r.QD)("table",SM,[(0,r.QD)("thead",null,[(0,r.QD)("tr",UM,[a[25]||(a[25]=(0,r.QD)("th",{class:"text-center"},"#",-1)),(0,r.QD)("th",{onClick:a[6]||(a[6]=e=>o.sort("reason_code"))},[a[21]||(a[21]=(0,r.mY)("Activity Type Code ")),(0,r.QD)("span",null,["reason_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",VM)):"reason_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",jM)):((0,r.Wz)(),(0,r.An)("i",YM))])]),(0,r.QD)("th",{onClick:a[7]||(a[7]=e=>o.sort("reason_name"))},[a[22]||(a[22]=(0,r.mY)("Activity Type Name ")),(0,r.QD)("span",null,["reason_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",TM)):"reason_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",NM)):((0,r.Wz)(),(0,r.An)("i",RM))])]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("th",qM,a[23]||(a[23]=[(0,r.mY)("Status")]))),[[u,"reasons.delete"]]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("th",EM,a[24]||(a[24]=[(0,r.mY)("Actions")]))),[[u,"reasons.update"]])])]),(0,r.QD)("tbody",null,[0==i.reasons.length?((0,r.Wz)(),(0,r.An)("tr",KM,a[26]||(a[26]=[(0,r.QD)("td",{colspan:"6",class:"text-center"},"No records found",-1)]))):(0,r.g1)("",!0),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.reasons,((e,s)=>((0,r.Wz)(),(0,r.An)("tr",{key:s},[(0,r.QD)("td",IM,(0,d.WA)(i.meta.from+s),1),(0,r.QD)("td",null,(0,d.WA)(e.reason_code),1),(0,r.QD)("td",null,(0,d.WA)(e.reason_name),1),(0,r.wt)(((0,r.Wz)(),(0,r.An)("td",FM,[(0,r.QD)("div",OM,[(0,r.QD)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"reason"+e.reason_id,checked:e.status,value:e.status,onChange:a=>o.deleteReason(e)},null,40,LM),(0,r.QD)("label",{class:"custom-control-label",for:"reason"+e.reason_id},null,8,BM)])])),[[u,"reasons.delete"]]),(0,r.wt)(((0,r.Wz)(),(0,r.An)("td",MM,[e.status?((0,r.Wz)(),(0,r.An)("a",{key:0,href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editReason(e)},a[27]||(a[27]=[(0,r.QD)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,ZM)):(0,r.g1)("",!0)])),[[u,"reasons.update"]])])))),128))])])])]),(0,r.QD)("div",HM,[(0,r.QD)("div",JM,[(0,r.wt)((0,r.QD)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.per_page=e),onChange:a[9]||(a[9]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[28]||(a[28]=[(0,r.QD)("option",null,"10",-1),(0,r.QD)("option",null,"15",-1),(0,r.QD)("option",null,"20",-1),(0,r.QD)("option",null,"25",-1),(0,r.QD)("option",null,"30",-1)]),544),[[t.Ip,i.meta.per_page]]),(0,r.QD)("span",null,"Showing "+(0,d.WA)(i.meta.from)+" to "+(0,d.WA)(i.meta.to)+" of "+(0,d.WA)(i.meta.totalRows)+" entries",1),(0,r.K2)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])],2)])])}var XM={components:{Pagination:Zt},data(){return{column:"col-8",meta:{search:"",order_by:"asc",keyword:"reason_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},reasons:[],reason:{reason_id:"",reason_code:"",reason_name:"",status:""},status:!0,errors:[],column:"col-8"}},mounted(){this.create_reason=this.$store.getters.permissions.filter((function(e){return e.ability.ability.includes("reasons.create")})),this.create_reason.length?this.column="col-8":this.column="col-12",this.index(),this.$refs.reason_code.focus()},methods:{submitForm(){let e=this;e.status?e.addReason():e.updateReason()},index(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"paginateReasons",data:e.meta}).then((s=>{a.hide(),this.reasons=s.data.data,this.meta.totalRows=s.data.meta.total,this.meta.from=s.data.meta.from,this.meta.lastPage=s.data.meta.last_page,this.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},addReason(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"addReason",data:e.reason}).then((e=>{a.hide(),this.$store.dispatch("success",e.data.message),this.discard(),this.index()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},deleteReason(e){let a=this;e.status=1==e.status?0:1,a.$store.dispatch("post",{uri:"deleteReason",data:e}).then((function(e){a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},editReason(e){this.reason=e,this.status=!1,this.$refs.reason_code.focus()},updateReason(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"updateReason",data:this.reason}).then((e=>{a.hide(),this.$store.dispatch("success",e.data.message),this.discard()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},discard(){let e=this;e.reason.reason_code="",e.reason.reason_name="",e.$refs.reason_code.focus(),e.errors=[],e.status=!0,e.index()},search(){let e=this;e.meta.page=1,e.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const eZ=(0,Ce.c)(XM,[["render",GM]]);var aZ=eZ;const sZ={class:""},tZ={class:"breadcrumb fs-sm mb-1"},rZ={class:"breadcrumb-item"},lZ={class:"row g-2"},iZ={class:"col-4"},oZ={class:"card card-one"},nZ={class:"card-header d-flex justify-content-between"},dZ={key:0,class:"card-title"},cZ={key:1,class:"card-title"},uZ={class:"card-body"},pZ={class:"row g-2"},mZ={class:"col-md-12"},_Z={key:0,class:"invalid-feedback"},hZ={class:"col-md-12"},bZ={key:0,class:"invalid-feedback"},vZ={class:"card-footer text-end"},yZ={type:"submit",class:"btn btn-primary"},gZ={key:0},DZ={key:1},QZ={class:"card card-one"},fZ={class:"card-body"},kZ={class:"table-responsive table-responsive-sm"},wZ={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},AZ={class:"",style:{"background-color":"#9b9b9b",color:"white"}},WZ={key:0,class:"ri-arrow-up-line"},zZ={key:1,class:"ri-arrow-down-line"},xZ={key:2,class:"fas fa-sort"},PZ={key:0,class:"ri-arrow-up-line"},CZ={key:1,class:"ri-arrow-down-line"},$Z={key:2,class:"fas fa-sort"},SZ={key:0},UZ={class:"text-center"},VZ={class:"text-center"},jZ={class:"form-switch"},YZ=["id","checked","value","onChange"],TZ=["for"],NZ={class:"text-center"},RZ=["onClick"],qZ={class:"card-footer"},EZ={class:"d-flex justify-content-between align-items-center"};function KZ(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("Pagination");return(0,r.Wz)(),(0,r.An)("div",sZ,[(0,r.QD)("div",null,[(0,r.QD)("ol",tZ,[(0,r.QD)("li",rZ,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[10]||(a[10]=[(0,r.mY)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.QD)("li",{class:"breadcrumb-item"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Type Parameters")],-1)),a[12]||(a[12]=(0,r.QD)("li",{class:"breadcrumb-item active","aria-current":"page"},"Data Source Types",-1))]),a[13]||(a[13]=(0,r.QD)("h4",{class:"main-title mb-2"},"Data Source Types",-1))]),(0,r.QD)("div",lZ,[(0,r.QD)("div",iZ,[(0,r.QD)("form",{onSubmit:a[3]||(a[3]=(0,t.Y7)((e=>o.submitForm()),["prevent"]))},[(0,r.QD)("div",oZ,[(0,r.QD)("div",nZ,[i.status?((0,r.Wz)(),(0,r.An)("h6",dZ,"Add Data Source Type")):((0,r.Wz)(),(0,r.An)("h6",cZ,"Update Data Source Type"))]),(0,r.QD)("div",uZ,[(0,r.QD)("div",pZ,[(0,r.QD)("div",mZ,[a[14]||(a[14]=(0,r.QD)("label",{class:"form-label"},"Data Source Type Code",-1)),a[15]||(a[15]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Enter Data Source Type Code",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.data_source_type_code}]),"onUpdate:modelValue":a[0]||(a[0]=e=>i.data_source_type.data_source_type_code=e),ref:"data_source_type_code"},null,2),[[t.Og,i.data_source_type.data_source_type_code]]),i.errors.data_source_type_code?((0,r.Wz)(),(0,r.An)("span",_Z,(0,d.WA)(i.errors.data_source_type_code[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",hZ,[a[16]||(a[16]=(0,r.QD)("label",{class:"form-label"},"Data Source Type Name",-1)),a[17]||(a[17]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Enter Data Source Type name",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.data_source_type_name}]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.data_source_type.data_source_type_name=e)},null,2),[[t.Og,i.data_source_type.data_source_type_name]]),i.errors.data_source_type_name?((0,r.Wz)(),(0,r.An)("span",bZ,(0,d.WA)(i.errors.data_source_type_name[0]),1)):(0,r.g1)("",!0)])])]),(0,r.QD)("div",vZ,[(0,r.QD)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[2]||(a[2]=e=>o.discard())},a[18]||(a[18]=[(0,r.QD)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.mY)(" Discard")])),(0,r.QD)("button",yZ,[i.status?((0,r.Wz)(),(0,r.An)("span",gZ,a[19]||(a[19]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Submit")]))):((0,r.Wz)(),(0,r.An)("span",DZ,a[20]||(a[20]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Update")])))])])])],32)]),(0,r.QD)("div",{class:(0,d.WN)(i.column)},[(0,r.QD)("div",QZ,[a[29]||(a[29]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Data Source Types")],-1)),(0,r.QD)("div",fZ,[(0,r.wt)((0,r.QD)("input",{class:"form-control mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[4]||(a[4]=e=>i.meta.search=e),onKeypress:a[5]||(a[5]=(0,t.jj)((e=>o.search()),["enter"]))},null,544),[[t.Og,i.meta.search]]),(0,r.QD)("div",kZ,[(0,r.QD)("table",wZ,[(0,r.QD)("thead",null,[(0,r.QD)("tr",AZ,[a[23]||(a[23]=(0,r.QD)("th",{class:"text-center"},"#",-1)),(0,r.QD)("th",{onClick:a[6]||(a[6]=e=>o.sort("data_source_type_code"))},[a[21]||(a[21]=(0,r.mY)("Data Source Type Code ")),(0,r.QD)("span",null,["data_source_type_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",WZ)):"data_source_type_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",zZ)):((0,r.Wz)(),(0,r.An)("i",xZ))])]),(0,r.QD)("th",{onClick:a[7]||(a[7]=e=>o.sort("data_source_type_name"))},[a[22]||(a[22]=(0,r.mY)("Data Source Type Name ")),(0,r.QD)("span",null,["data_source_type_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",PZ)):"data_source_type_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",CZ)):((0,r.Wz)(),(0,r.An)("i",$Z))])]),a[24]||(a[24]=(0,r.QD)("th",{class:"text-center"},"Status",-1)),a[25]||(a[25]=(0,r.QD)("th",{class:"text-center"},"Actions",-1))])]),(0,r.QD)("tbody",null,[0==i.data_source_types.length?((0,r.Wz)(),(0,r.An)("tr",SZ,a[26]||(a[26]=[(0,r.QD)("td",{colspan:"6",class:"text-center"},"No records found",-1)]))):(0,r.g1)("",!0),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.data_source_types,((e,s)=>((0,r.Wz)(),(0,r.An)("tr",{key:s},[(0,r.QD)("td",UZ,(0,d.WA)(i.meta.from+s),1),(0,r.QD)("td",null,(0,d.WA)(e.data_source_type_code),1),(0,r.QD)("td",null,(0,d.WA)(e.data_source_type_name),1),(0,r.QD)("td",VZ,[(0,r.QD)("div",jZ,[(0,r.QD)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"data_source_type"+e.data_source_type_id,checked:e.status,value:e.status,onChange:a=>o.deleteDataSourceType(e)},null,40,YZ),(0,r.QD)("label",{class:"custom-control-label",for:"data_source_type"+e.data_source_type_id},null,8,TZ)])]),(0,r.QD)("td",NZ,[e.status?((0,r.Wz)(),(0,r.An)("a",{key:0,href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editDataSourceType(e)},a[27]||(a[27]=[(0,r.QD)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,RZ)):(0,r.g1)("",!0)])])))),128))])])])]),(0,r.QD)("div",qZ,[(0,r.QD)("div",EZ,[(0,r.wt)((0,r.QD)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.per_page=e),onChange:a[9]||(a[9]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[28]||(a[28]=[(0,r.QD)("option",null,"10",-1),(0,r.QD)("option",null,"15",-1),(0,r.QD)("option",null,"20",-1),(0,r.QD)("option",null,"25",-1),(0,r.QD)("option",null,"30",-1)]),544),[[t.Ip,i.meta.per_page]]),(0,r.QD)("span",null,"Showing "+(0,d.WA)(i.meta.from)+" to "+(0,d.WA)(i.meta.to)+" of "+(0,d.WA)(i.meta.totalRows)+" entries",1),(0,r.K2)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])],2)])])}var IZ={components:{Pagination:Zt},data(){return{column:"col-8",meta:{search:"",order_by:"asc",keyword:"data_source_type_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},data_source_types:[],data_source_type:{data_source_type_id:"",data_source_type_code:"",data_source_type_name:"",status:""},status:!0,errors:[]}},mounted(){this.index(),this.$refs.data_source_type_code.focus()},methods:{submitForm(){let e=this;e.status?e.addDataSourceType():e.updateDataSourceType()},index(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"paginateDataSourceTypes",data:e.meta}).then((s=>{a.hide(),this.data_source_types=s.data.data,this.meta.totalRows=s.data.meta.total,this.meta.from=s.data.meta.from,this.meta.lastPage=s.data.meta.last_page,this.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},addDataSourceType(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"addDataSourceType",data:e.data_source_type}).then((e=>{a.hide(),this.$store.dispatch("success",e.data.message),this.discard(),this.index()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},deleteDataSourceType(e){let a=this;e.status=1==e.status?0:1,a.$store.dispatch("post",{uri:"deleteDataSourceType",data:e}).then((function(e){a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},editDataSourceType(e){this.data_source_type=e,this.status=!1,this.$refs.data_source_type_code.focus()},updateDataSourceType(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"updateDataSourceType",data:this.data_source_type}).then((e=>{a.hide(),this.$store.dispatch("success",e.data.message),this.discard(),this.index()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},discard(){let e=this;e.data_source_type.data_source_type_code="",e.data_source_type.data_source_type_name="",e.$refs.data_source_type_code.focus(),e.errors=[],e.status=!0,e.index()},search(){let e=this;e.meta.page=1,e.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const FZ=(0,Ce.c)(IZ,[["render",KZ]]);var OZ=FZ;const LZ={class:""},BZ={class:"breadcrumb fs-sm mb-1"},MZ={class:"breadcrumb-item"},ZZ={class:"row g-2"},HZ={class:"col-4"},JZ={class:"card card-one"},GZ={class:"card-header d-flex justify-content-between"},XZ={key:0,class:"card-title"},eH={key:1,class:"card-title"},aH={class:"card-body"},sH={class:"row g-2"},tH={class:"col-md-12"},rH={key:0,class:"invalid-feedback"},lH={class:"col-md-12"},iH={key:0,class:"invalid-feedback"},oH={class:"card-footer text-end"},nH={type:"submit",class:"btn btn-primary"},dH={key:0},cH={key:1},uH={class:"card card-one"},pH={class:"card-body"},mH={class:"table-responsive table-responsive-sm"},_H={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},hH={class:"",style:{"background-color":"#9b9b9b",color:"white"}},bH={key:0,class:"ri-arrow-up-line"},vH={key:1,class:"ri-arrow-down-line"},yH={key:2,class:"fas fa-sort"},gH={key:0,class:"ri-arrow-up-line"},DH={key:1,class:"ri-arrow-down-line"},QH={key:2,class:"fas fa-sort"},fH={key:0},kH={class:"text-center"},wH={class:"text-center"},AH={class:"form-switch"},WH=["id","checked","value","onChange"],zH=["for"],xH={class:"text-center"},PH=["onClick"],CH={class:"card-footer"},$H={class:"d-flex justify-content-between align-items-center"};function SH(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("Pagination");return(0,r.Wz)(),(0,r.An)("div",LZ,[(0,r.QD)("div",null,[(0,r.QD)("ol",BZ,[(0,r.QD)("li",MZ,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[10]||(a[10]=[(0,r.mY)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.QD)("li",{class:"breadcrumb-item"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Type Parameters")],-1)),a[12]||(a[12]=(0,r.QD)("li",{class:"breadcrumb-item active","aria-current":"page"},"Break Down Types",-1))]),a[13]||(a[13]=(0,r.QD)("h4",{class:"main-title mb-2"},"Break Down Types",-1))]),(0,r.QD)("div",ZZ,[(0,r.QD)("div",HZ,[(0,r.QD)("form",{onSubmit:a[3]||(a[3]=(0,t.Y7)((e=>o.submitForm()),["prevent"]))},[(0,r.QD)("div",JZ,[(0,r.QD)("div",GZ,[i.status?((0,r.Wz)(),(0,r.An)("h6",XZ,"Add Break Down Type")):((0,r.Wz)(),(0,r.An)("h6",eH,"Update Break Down Type"))]),(0,r.QD)("div",aH,[(0,r.QD)("div",sH,[(0,r.QD)("div",tH,[a[14]||(a[14]=(0,r.QD)("label",{class:"form-label"},"Break Down Type Code",-1)),a[15]||(a[15]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Enter Break Down Type Code",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.break_down_type_code}]),"onUpdate:modelValue":a[0]||(a[0]=e=>i.break_down_type.break_down_type_code=e),ref:"break_down_type_code"},null,2),[[t.Og,i.break_down_type.break_down_type_code]]),i.errors.break_down_type_code?((0,r.Wz)(),(0,r.An)("span",rH,(0,d.WA)(i.errors.break_down_type_code[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",lH,[a[16]||(a[16]=(0,r.QD)("label",{class:"form-label"},"Break Down Type Name",-1)),a[17]||(a[17]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Enter Break Down Type name",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.break_down_type_name}]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.break_down_type.break_down_type_name=e)},null,2),[[t.Og,i.break_down_type.break_down_type_name]]),i.errors.break_down_type_name?((0,r.Wz)(),(0,r.An)("span",iH,(0,d.WA)(i.errors.break_down_type_name[0]),1)):(0,r.g1)("",!0)])])]),(0,r.QD)("div",oH,[(0,r.QD)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[2]||(a[2]=e=>o.discard())},a[18]||(a[18]=[(0,r.QD)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.mY)(" Discard")])),(0,r.QD)("button",nH,[i.status?((0,r.Wz)(),(0,r.An)("span",dH,a[19]||(a[19]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Submit")]))):((0,r.Wz)(),(0,r.An)("span",cH,a[20]||(a[20]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Update")])))])])])],32)]),(0,r.QD)("div",{class:(0,d.WN)(i.column)},[(0,r.QD)("div",uH,[a[29]||(a[29]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Break Down Types")],-1)),(0,r.QD)("div",pH,[(0,r.wt)((0,r.QD)("input",{class:"form-control mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[4]||(a[4]=e=>i.meta.search=e),onKeypress:a[5]||(a[5]=(0,t.jj)((e=>o.search()),["enter"]))},null,544),[[t.Og,i.meta.search]]),(0,r.QD)("div",mH,[(0,r.QD)("table",_H,[(0,r.QD)("thead",null,[(0,r.QD)("tr",hH,[a[23]||(a[23]=(0,r.QD)("th",{class:"text-center"},"#",-1)),(0,r.QD)("th",{onClick:a[6]||(a[6]=e=>o.sort("break_down_type_code"))},[a[21]||(a[21]=(0,r.mY)("Break Down Type Code ")),(0,r.QD)("span",null,["break_down_type_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",bH)):"break_down_type_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",vH)):((0,r.Wz)(),(0,r.An)("i",yH))])]),(0,r.QD)("th",{onClick:a[7]||(a[7]=e=>o.sort("break_down_type_name"))},[a[22]||(a[22]=(0,r.mY)("Break Down Type Name ")),(0,r.QD)("span",null,["break_down_type_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",gH)):"break_down_type_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",DH)):((0,r.Wz)(),(0,r.An)("i",QH))])]),a[24]||(a[24]=(0,r.QD)("th",{class:"text-center"},"Status",-1)),a[25]||(a[25]=(0,r.QD)("th",{class:"text-center"},"Actions",-1))])]),(0,r.QD)("tbody",null,[0==i.break_down_types.length?((0,r.Wz)(),(0,r.An)("tr",fH,a[26]||(a[26]=[(0,r.QD)("td",{colspan:"6",class:"text-center"},"No records found",-1)]))):(0,r.g1)("",!0),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.break_down_types,((e,s)=>((0,r.Wz)(),(0,r.An)("tr",{key:s},[(0,r.QD)("td",kH,(0,d.WA)(i.meta.from+s),1),(0,r.QD)("td",null,(0,d.WA)(e.break_down_type_code),1),(0,r.QD)("td",null,(0,d.WA)(e.break_down_type_name),1),(0,r.QD)("td",wH,[(0,r.QD)("div",AH,[(0,r.QD)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"break_down_type"+e.break_down_type_id,checked:e.status,value:e.status,onChange:a=>o.deleteBreakDownType(e)},null,40,WH),(0,r.QD)("label",{class:"custom-control-label",for:"break_down_type"+e.break_down_type_id},null,8,zH)])]),(0,r.QD)("td",xH,[e.status?((0,r.Wz)(),(0,r.An)("a",{key:0,href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editBreakDownType(e)},a[27]||(a[27]=[(0,r.QD)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,PH)):(0,r.g1)("",!0)])])))),128))])])])]),(0,r.QD)("div",CH,[(0,r.QD)("div",$H,[(0,r.wt)((0,r.QD)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.per_page=e),onChange:a[9]||(a[9]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[28]||(a[28]=[(0,r.QD)("option",null,"10",-1),(0,r.QD)("option",null,"15",-1),(0,r.QD)("option",null,"20",-1),(0,r.QD)("option",null,"25",-1),(0,r.QD)("option",null,"30",-1)]),544),[[t.Ip,i.meta.per_page]]),(0,r.QD)("span",null,"Showing "+(0,d.WA)(i.meta.from)+" to "+(0,d.WA)(i.meta.to)+" of "+(0,d.WA)(i.meta.totalRows)+" entries",1),(0,r.K2)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])],2)])])}var UH={components:{Pagination:Zt},data(){return{column:"col-8",meta:{search:"",order_by:"asc",keyword:"break_down_type_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},break_down_types:[],break_down_type:{break_down_type_id:"",break_down_type_code:"",break_down_type_name:"",status:""},status:!0,errors:[]}},mounted(){this.index(),this.$refs.break_down_type_code.focus()},methods:{submitForm(){let e=this;e.status?e.addBreakDownType():e.updateBreakDownType()},index(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"paginateBreakDownTypes",data:e.meta}).then((s=>{a.hide(),this.break_down_types=s.data.data,this.meta.totalRows=s.data.meta.total,this.meta.from=s.data.meta.from,this.meta.lastPage=s.data.meta.last_page,this.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},addBreakDownType(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"addBreakDownType",data:e.break_down_type}).then((e=>{a.hide(),this.$store.dispatch("success",e.data.message),this.discard(),this.index()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},deleteBreakDownType(e){let a=this;e.status=1==e.status?0:1,a.$store.dispatch("post",{uri:"deleteBreakDownType",data:e}).then((function(e){a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},editBreakDownType(e){this.break_down_type=e,this.status=!1,this.$refs.break_down_type_code.focus()},updateBreakDownType(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"updateBreakDownType",data:this.break_down_type}).then((e=>{a.hide(),this.$store.dispatch("success",e.data.message),this.discard(),this.index()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},discard(){let e=this;e.break_down_type.break_down_type_code="",e.break_down_type.break_down_type_name="",e.$refs.break_down_type_code.focus(),e.errors=[],e.status=!0,e.index()},search(){let e=this;e.meta.page=1,e.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const VH=(0,Ce.c)(UH,[["render",SH]]);var jH=VH;const YH={class:""},TH={class:"breadcrumb fs-sm mb-1"},NH={class:"breadcrumb-item"},RH={class:"row g-2"},qH={class:"col-4"},EH={class:"card card-one"},KH={class:"card-header d-flex justify-content-between"},IH={key:0,class:"card-title"},FH={key:1,class:"card-title"},OH={class:"card-body"},LH={class:"row g-2"},BH={class:"col-md-12"},MH={key:0,class:"invalid-feedback"},ZH={class:"col-md-12"},HH={key:0,class:"invalid-feedback"},JH={class:"card-footer text-end"},GH={type:"submit",class:"btn btn-primary"},XH={key:0},eJ={key:1},aJ={class:"card card-one"},sJ={class:"card-body"},tJ={class:"table-responsive table-responsive-sm"},rJ={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},lJ={class:"",style:{"background-color":"#9b9b9b",color:"white"}},iJ={key:0,class:"ri-arrow-up-line"},oJ={key:1,class:"ri-arrow-down-line"},nJ={key:2,class:"fas fa-sort"},dJ={key:0,class:"ri-arrow-up-line"},cJ={key:1,class:"ri-arrow-down-line"},uJ={key:2,class:"fas fa-sort"},pJ={key:0},mJ={class:"text-center"},_J={class:"text-center"},hJ={class:"form-switch"},bJ=["id","checked","value","onChange"],vJ=["for"],yJ={class:"text-center"},gJ=["onClick"],DJ={class:"card-footer"},QJ={class:"d-flex justify-content-between align-items-center"};function fJ(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("Pagination");return(0,r.Wz)(),(0,r.An)("div",YH,[(0,r.QD)("div",null,[(0,r.QD)("ol",TH,[(0,r.QD)("li",NH,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[10]||(a[10]=[(0,r.mY)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.QD)("li",{class:"breadcrumb-item"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Type Parameters")],-1)),a[12]||(a[12]=(0,r.QD)("li",{class:"breadcrumb-item active","aria-current":"page"},"Accessory Types",-1))]),a[13]||(a[13]=(0,r.QD)("h4",{class:"main-title mb-2"},"Accessory Types",-1))]),(0,r.QD)("div",RH,[(0,r.QD)("div",qH,[(0,r.QD)("form",{onSubmit:a[3]||(a[3]=(0,t.Y7)((e=>o.submitForm()),["prevent"]))},[(0,r.QD)("div",EH,[(0,r.QD)("div",KH,[i.status?((0,r.Wz)(),(0,r.An)("h6",IH,"Add Accessory Type")):((0,r.Wz)(),(0,r.An)("h6",FH,"Update Accessory Type"))]),(0,r.QD)("div",OH,[(0,r.QD)("div",LH,[(0,r.QD)("div",BH,[a[14]||(a[14]=(0,r.QD)("label",{class:"form-label"},"Accessory Type Code",-1)),a[15]||(a[15]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Enter Accessory Type Code",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.accessory_type_code}]),"onUpdate:modelValue":a[0]||(a[0]=e=>i.accessory_type.accessory_type_code=e),ref:"accessory_type_code"},null,2),[[t.Og,i.accessory_type.accessory_type_code]]),i.errors.accessory_type_code?((0,r.Wz)(),(0,r.An)("span",MH,(0,d.WA)(i.errors.accessory_type_code[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",ZH,[a[16]||(a[16]=(0,r.QD)("label",{class:"form-label"},"Accessory Type Name",-1)),a[17]||(a[17]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Enter Accessory Type name",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.accessory_type_name}]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.accessory_type.accessory_type_name=e)},null,2),[[t.Og,i.accessory_type.accessory_type_name]]),i.errors.accessory_type_name?((0,r.Wz)(),(0,r.An)("span",HH,(0,d.WA)(i.errors.accessory_type_name[0]),1)):(0,r.g1)("",!0)])])]),(0,r.QD)("div",JH,[(0,r.QD)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[2]||(a[2]=e=>o.discard())},a[18]||(a[18]=[(0,r.QD)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.mY)(" Discard")])),(0,r.QD)("button",GH,[i.status?((0,r.Wz)(),(0,r.An)("span",XH,a[19]||(a[19]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Submit")]))):((0,r.Wz)(),(0,r.An)("span",eJ,a[20]||(a[20]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Update")])))])])])],32)]),(0,r.QD)("div",{class:(0,d.WN)(i.column)},[(0,r.QD)("div",aJ,[a[29]||(a[29]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Accessory Types")],-1)),(0,r.QD)("div",sJ,[(0,r.wt)((0,r.QD)("input",{class:"form-control mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[4]||(a[4]=e=>i.meta.search=e),onKeypress:a[5]||(a[5]=(0,t.jj)((e=>o.search()),["enter"]))},null,544),[[t.Og,i.meta.search]]),(0,r.QD)("div",tJ,[(0,r.QD)("table",rJ,[(0,r.QD)("thead",null,[(0,r.QD)("tr",lJ,[a[23]||(a[23]=(0,r.QD)("th",{class:"text-center"},"#",-1)),(0,r.QD)("th",{onClick:a[6]||(a[6]=e=>o.sort("accessory_type_code"))},[a[21]||(a[21]=(0,r.mY)("Accessory Type Code ")),(0,r.QD)("span",null,["accessory_type_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",iJ)):"accessory_type_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",oJ)):((0,r.Wz)(),(0,r.An)("i",nJ))])]),(0,r.QD)("th",{onClick:a[7]||(a[7]=e=>o.sort("accessory_type_name"))},[a[22]||(a[22]=(0,r.mY)("Accessory Type Name ")),(0,r.QD)("span",null,["accessory_type_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",dJ)):"accessory_type_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",cJ)):((0,r.Wz)(),(0,r.An)("i",uJ))])]),a[24]||(a[24]=(0,r.QD)("th",{class:"text-center"},"Status",-1)),a[25]||(a[25]=(0,r.QD)("th",{class:"text-center"},"Actions",-1))])]),(0,r.QD)("tbody",null,[0==i.accessory_types.length?((0,r.Wz)(),(0,r.An)("tr",pJ,a[26]||(a[26]=[(0,r.QD)("td",{colspan:"6",class:"text-center"},"No records found",-1)]))):(0,r.g1)("",!0),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.accessory_types,((e,s)=>((0,r.Wz)(),(0,r.An)("tr",{key:s},[(0,r.QD)("td",mJ,(0,d.WA)(i.meta.from+s),1),(0,r.QD)("td",null,(0,d.WA)(e.accessory_type_code),1),(0,r.QD)("td",null,(0,d.WA)(e.accessory_type_name),1),(0,r.QD)("td",_J,[(0,r.QD)("div",hJ,[(0,r.QD)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"accessory_type"+e.accessory_type_id,checked:e.status,value:e.status,onChange:a=>o.deleteAccessoryType(e)},null,40,bJ),(0,r.QD)("label",{class:"custom-control-label",for:"accessory_type"+e.accessory_type_id},null,8,vJ)])]),(0,r.QD)("td",yJ,[e.status?((0,r.Wz)(),(0,r.An)("a",{key:0,href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editAccessoryType(e)},a[27]||(a[27]=[(0,r.QD)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,gJ)):(0,r.g1)("",!0)])])))),128))])])])]),(0,r.QD)("div",DJ,[(0,r.QD)("div",QJ,[(0,r.wt)((0,r.QD)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.per_page=e),onChange:a[9]||(a[9]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[28]||(a[28]=[(0,r.QD)("option",null,"10",-1),(0,r.QD)("option",null,"15",-1),(0,r.QD)("option",null,"20",-1),(0,r.QD)("option",null,"25",-1),(0,r.QD)("option",null,"30",-1)]),544),[[t.Ip,i.meta.per_page]]),(0,r.QD)("span",null,"Showing "+(0,d.WA)(i.meta.from)+" to "+(0,d.WA)(i.meta.to)+" of "+(0,d.WA)(i.meta.totalRows)+" entries",1),(0,r.K2)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])],2)])])}var kJ={components:{Pagination:Zt},data(){return{column:"col-8",meta:{search:"",order_by:"asc",keyword:"accessory_type_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},accessory_types:[],accessory_type:{accessory_type_id:"",accessory_type_code:"",accessory_type_name:"",status:""},status:!0,errors:[]}},mounted(){this.index(),this.$refs.accessory_type_code.focus()},methods:{submitForm(){let e=this;e.status?e.addAccessoryType():e.updateAccessoryType()},index(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"paginateAccessoryTypes",data:e.meta}).then((s=>{a.hide(),this.accessory_types=s.data.data,this.meta.totalRows=s.data.meta.total,this.meta.from=s.data.meta.from,this.meta.lastPage=s.data.meta.last_page,this.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},addAccessoryType(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"addAccessoryType",data:e.accessory_type}).then((e=>{a.hide(),this.$store.dispatch("success",e.data.message),this.discard(),this.index()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},deleteAccessoryType(e){let a=this;e.status=1==e.status?0:1,a.$store.dispatch("post",{uri:"deleteAccessoryType",data:e}).then((function(e){a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},editAccessoryType(e){this.accessory_type=e,this.status=!1,this.$refs.accessory_type_code.focus()},updateAccessoryType(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"updateAccessoryType",data:this.accessory_type}).then((e=>{a.hide(),this.$store.dispatch("success",e.data.message),this.discard(),this.index()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},discard(){let e=this;e.accessory_type.accessory_type_code="",e.accessory_type.accessory_type_name="",e.$refs.accessory_type_code.focus(),e.errors=[],e.status=!0,e.index()},search(){let e=this;e.meta.page=1,e.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const wJ=(0,Ce.c)(kJ,[["render",fJ]]);var AJ=wJ;const WJ={class:""},zJ={class:"breadcrumb fs-sm mb-1"},xJ={class:"breadcrumb-item"},PJ={class:"row g-2"},CJ={class:"col-4"},$J={class:"card card-one"},SJ={class:"card-header d-flex justify-content-between"},UJ={key:0,class:"card-title"},VJ={key:1,class:"card-title"},jJ={class:"card-body"},YJ={class:"row g-2"},TJ={class:"col-md-12"},NJ={key:0,class:"invalid-feedback"},RJ={class:"col-md-12"},qJ={key:0,class:"invalid-feedback"},EJ={class:"card-footer text-end"},KJ={type:"submit",class:"btn btn-primary"},IJ={key:0},FJ={key:1},OJ={class:"card card-one"},LJ={class:"card-body"},BJ={class:"table-responsive table-responsive-sm"},MJ={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},ZJ={class:"",style:{"background-color":"#9b9b9b",color:"white"}},HJ={key:0,class:"ri-arrow-up-line"},JJ={key:1,class:"ri-arrow-down-line"},GJ={key:2,class:"fas fa-sort"},XJ={key:0,class:"ri-arrow-up-line"},eG={key:1,class:"ri-arrow-down-line"},aG={key:2,class:"fas fa-sort"},sG={key:0},tG={class:"text-center"},rG={class:"text-center"},lG={class:"form-switch"},iG=["id","checked","value","onChange"],oG=["for"],nG={class:"text-center"},dG=["onClick"],cG={class:"card-footer"},uG={class:"d-flex justify-content-between align-items-center"};function pG(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("Pagination");return(0,r.Wz)(),(0,r.An)("div",WJ,[(0,r.QD)("div",null,[(0,r.QD)("ol",zJ,[(0,r.QD)("li",xJ,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[10]||(a[10]=[(0,r.mY)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.QD)("li",{class:"breadcrumb-item"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Type Parameters")],-1)),a[12]||(a[12]=(0,r.QD)("li",{class:"breadcrumb-item active","aria-current":"page"},"Variable Types",-1))]),a[13]||(a[13]=(0,r.QD)("h4",{class:"main-title mb-2"},"Variable Types",-1))]),(0,r.QD)("div",PJ,[(0,r.QD)("div",CJ,[(0,r.QD)("form",{onSubmit:a[3]||(a[3]=(0,t.Y7)((e=>o.submitForm()),["prevent"]))},[(0,r.QD)("div",$J,[(0,r.QD)("div",SJ,[i.status?((0,r.Wz)(),(0,r.An)("h6",UJ,"Add Variable Type")):((0,r.Wz)(),(0,r.An)("h6",VJ,"Update Variable Type"))]),(0,r.QD)("div",jJ,[(0,r.QD)("div",YJ,[(0,r.QD)("div",TJ,[a[14]||(a[14]=(0,r.QD)("label",{class:"form-label"},"Variable Type Code",-1)),a[15]||(a[15]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Enter Variable Type Code",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.variable_type_code}]),"onUpdate:modelValue":a[0]||(a[0]=e=>i.variable_type.variable_type_code=e),ref:"variable_type_code"},null,2),[[t.Og,i.variable_type.variable_type_code]]),i.errors.variable_type_code?((0,r.Wz)(),(0,r.An)("span",NJ,(0,d.WA)(i.errors.variable_type_code[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",RJ,[a[16]||(a[16]=(0,r.QD)("label",{class:"form-label"},"Variable Type Name",-1)),a[17]||(a[17]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Enter Variable Type name",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.variable_type_name}]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.variable_type.variable_type_name=e)},null,2),[[t.Og,i.variable_type.variable_type_name]]),i.errors.variable_type_name?((0,r.Wz)(),(0,r.An)("span",qJ,(0,d.WA)(i.errors.variable_type_name[0]),1)):(0,r.g1)("",!0)])])]),(0,r.QD)("div",EJ,[(0,r.QD)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[2]||(a[2]=e=>o.discard())},a[18]||(a[18]=[(0,r.QD)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.mY)(" Discard")])),(0,r.QD)("button",KJ,[i.status?((0,r.Wz)(),(0,r.An)("span",IJ,a[19]||(a[19]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Submit")]))):((0,r.Wz)(),(0,r.An)("span",FJ,a[20]||(a[20]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Update")])))])])])],32)]),(0,r.QD)("div",{class:(0,d.WN)(i.column)},[(0,r.QD)("div",OJ,[a[29]||(a[29]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Variable Types")],-1)),(0,r.QD)("div",LJ,[(0,r.wt)((0,r.QD)("input",{class:"form-control mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[4]||(a[4]=e=>i.meta.search=e),onKeypress:a[5]||(a[5]=(0,t.jj)((e=>o.search()),["enter"]))},null,544),[[t.Og,i.meta.search]]),(0,r.QD)("div",BJ,[(0,r.QD)("table",MJ,[(0,r.QD)("thead",null,[(0,r.QD)("tr",ZJ,[a[23]||(a[23]=(0,r.QD)("th",{class:"text-center"},"#",-1)),(0,r.QD)("th",{onClick:a[6]||(a[6]=e=>o.sort("variable_type_code"))},[a[21]||(a[21]=(0,r.mY)("Variable Type Code ")),(0,r.QD)("span",null,["variable_type_code"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",HJ)):"variable_type_code"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",JJ)):((0,r.Wz)(),(0,r.An)("i",GJ))])]),(0,r.QD)("th",{onClick:a[7]||(a[7]=e=>o.sort("variable_type_name"))},[a[22]||(a[22]=(0,r.mY)("Variable Type Name ")),(0,r.QD)("span",null,["variable_type_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",XJ)):"variable_type_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",eG)):((0,r.Wz)(),(0,r.An)("i",aG))])]),a[24]||(a[24]=(0,r.QD)("th",{class:"text-center"},"Status",-1)),a[25]||(a[25]=(0,r.QD)("th",{class:"text-center"},"Actions",-1))])]),(0,r.QD)("tbody",null,[0==i.variable_types.length?((0,r.Wz)(),(0,r.An)("tr",sG,a[26]||(a[26]=[(0,r.QD)("td",{colspan:"6",class:"text-center"},"No records found",-1)]))):(0,r.g1)("",!0),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.variable_types,((e,s)=>((0,r.Wz)(),(0,r.An)("tr",{key:s},[(0,r.QD)("td",tG,(0,d.WA)(i.meta.from+s),1),(0,r.QD)("td",null,(0,d.WA)(e.variable_type_code),1),(0,r.QD)("td",null,(0,d.WA)(e.variable_type_name),1),(0,r.QD)("td",rG,[(0,r.QD)("div",lG,[(0,r.QD)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"variable_type"+e.variable_type_id,checked:e.status,value:e.status,onChange:a=>o.deleteVariableType(e)},null,40,iG),(0,r.QD)("label",{class:"custom-control-label",for:"variable_type"+e.variable_type_id},null,8,oG)])]),(0,r.QD)("td",nG,[e.status?((0,r.Wz)(),(0,r.An)("a",{key:0,href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editVariableType(e)},a[27]||(a[27]=[(0,r.QD)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,dG)):(0,r.g1)("",!0)])])))),128))])])])]),(0,r.QD)("div",cG,[(0,r.QD)("div",uG,[(0,r.wt)((0,r.QD)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.per_page=e),onChange:a[9]||(a[9]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[28]||(a[28]=[(0,r.QD)("option",null,"10",-1),(0,r.QD)("option",null,"15",-1),(0,r.QD)("option",null,"20",-1),(0,r.QD)("option",null,"25",-1),(0,r.QD)("option",null,"30",-1)]),544),[[t.Ip,i.meta.per_page]]),(0,r.QD)("span",null,"Showing "+(0,d.WA)(i.meta.from)+" to "+(0,d.WA)(i.meta.to)+" of "+(0,d.WA)(i.meta.totalRows)+" entries",1),(0,r.K2)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])],2)])])}var mG={components:{Pagination:Zt},data(){return{column:"col-8",meta:{search:"",order_by:"asc",keyword:"variable_type_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},variable_types:[],variable_type:{variable_type_id:"",variable_type_code:"",variable_type_name:"",status:""},status:!0,errors:[]}},mounted(){this.index(),this.$refs.variable_type_code.focus()},methods:{submitForm(){let e=this;e.status?e.addVariableType():e.updateVariableType()},index(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"paginateVariableTypes",data:e.meta}).then((s=>{a.hide(),this.variable_types=s.data.data,this.meta.totalRows=s.data.meta.total,this.meta.from=s.data.meta.from,this.meta.lastPage=s.data.meta.last_page,this.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},addVariableType(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"addVariableType",data:e.variable_type}).then((e=>{a.hide(),this.$store.dispatch("success",e.data.message),this.discard(),this.index()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},deleteVariableType(e){let a=this;e.status=1==e.status?0:1,a.$store.dispatch("post",{uri:"deleteVariableType",data:e}).then((function(e){a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},editVariableType(e){this.variable_type=e,this.status=!1,this.$refs.variable_type_code.focus()},updateVariableType(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"updateVariableType",data:this.variable_type}).then((e=>{a.hide(),this.$store.dispatch("success",e.data.message),this.discard(),this.index()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},discard(){let e=this;e.variable_type.variable_type_code="",e.variable_type.variable_type_name="",e.$refs.variable_type_code.focus(),e.errors=[],e.status=!0,e.index()},search(){let e=this;e.meta.page=1,e.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const _G=(0,Ce.c)(mG,[["render",pG]]);var hG=_G;const bG={class:""},vG={class:"row"},yG={class:"col-12"},gG={class:"card"},DG={class:"card-body"},QG={class:"table-responsive-sm"},fG={class:"table text-wrap table-bordered",style:{"vertical-align":"middle"}};function kG(e,a){const s=(0,r.E1)("router-link");return(0,r.Wz)(),(0,r.An)("div",bG,[a[21]||(a[21]=(0,r.QD)("div",{class:"d-sm-flex align-items-center justify-content-between mb-2"},[(0,r.QD)("div",null,[(0,r.QD)("h4",{class:"main-title mb-0"},"Scheduled Maintenance")])],-1)),(0,r.QD)("div",vG,[(0,r.QD)("div",yG,[(0,r.QD)("div",gG,[a[19]||(a[19]=(0,r.IL)('<div class="card-header"><div class="card-title" style="display:flex;justify-content:space-between;"><div>Asset Name: <span class="text-primary">Motor LT</span></div><div>Asset Code: <span class="text-primary">1234MST8905</span></div><div>Plant: <span class="text-primary">Main Plant</span></div></div></div><div class="card-body"><div class="row"><div class="col-sm-3 mb-3"> Service Date <span class="text-danger">*</span><input type="date" class="form-control form-control-sm"></div><div class="col-sm-3 mb-3"> Spares Required <span class="text-danger">*</span><select name="" id="" class="form-control form-control-sm"><option value="">Select</option><option value="">Bearing</option></select></div><div class="col-sm-3 mb-3"> Service Cost <span class="text-danger">*</span><input type="text" class="form-control form-control-sm"></div><div class="col-sm-3 mb-3"> Next Service Date <span class="text-danger">*</span><input type="date" class="form-control form-control-sm"></div><div class="col-sm-12 mb-3"> Description <span class="text-danger">*</span><input type="text" class="form-control form-control-sm"></div><div class="col-sm-12 mb-3"><button class="btn btn-sm btn-primary" style="float:right;">Submit</button><button class="btn btn-sm btn-danger me-2" style="float:right;">Discard</button></div></div></div><div class="card-header"><div class="card-title"> Scheduled Maintenance </div></div>',3)),(0,r.QD)("div",DG,[(0,r.QD)("div",QG,[(0,r.QD)("table",fG,[a[18]||(a[18]=(0,r.QD)("thead",null,[(0,r.QD)("tr",{class:"text-center",style:{"vertical-align":"middle"}},[(0,r.QD)("th",null,"#"),(0,r.QD)("th",null,"Service Date"),(0,r.QD)("th",null,"Description"),(0,r.QD)("th",null,"Spares Required"),(0,r.QD)("th",null,"Spares Availibility"),(0,r.QD)("th",null,"Service Cost"),(0,r.QD)("th",null,"Next Service Date"),(0,r.QD)("th",null,"Service Status"),(0,r.QD)("th",null,"Actions")])],-1)),(0,r.QD)("tr",null,[a[1]||(a[1]=(0,r.QD)("td",{class:"text-center"},"1",-1)),a[2]||(a[2]=(0,r.QD)("td",{class:"text-nowrap"},"23-Mar-2023",-1)),a[3]||(a[3]=(0,r.QD)("td",null,"Replace oil",-1)),a[4]||(a[4]=(0,r.QD)("td",null,"10 No. Oil",-1)),(0,r.QD)("td",null,[(0,r.K2)(s,{to:"/spares"},{default:(0,r.Ql)((()=>a[0]||(a[0]=[(0,r.mY)("View")]))),_:1})]),a[5]||(a[5]=(0,r.QD)("td",null,"1000",-1)),a[6]||(a[6]=(0,r.QD)("td",{class:"text-nowrap"},"30-Mar-2024",-1)),a[7]||(a[7]=(0,r.QD)("td",{style:{"text-align":"center"}},"Pending",-1)),a[8]||(a[8]=(0,r.QD)("td",{class:"text-center"},[(0,r.QD)("a",{href:"javascript:void(0)",class:"text-success me-2"},[(0,r.QD)("i",{class:"ri-pencil-line icon_hgt"})]),(0,r.QD)("a",{href:"javascript:void(0)",class:"text-danger"},[(0,r.QD)("i",{class:"ri-delete-bin-line icon_hgt"})])],-1))]),(0,r.QD)("tr",null,[a[10]||(a[10]=(0,r.QD)("td",{class:"text-center"},"2",-1)),a[11]||(a[11]=(0,r.QD)("td",{class:"text-nowrap"},"20-Dec-2023",-1)),a[12]||(a[12]=(0,r.QD)("td",null,"Replace Bearing",-1)),a[13]||(a[13]=(0,r.QD)("td",null,"Bearings",-1)),(0,r.QD)("td",null,[(0,r.K2)(s,{to:"/spares"},{default:(0,r.Ql)((()=>a[9]||(a[9]=[(0,r.mY)("View")]))),_:1})]),a[14]||(a[14]=(0,r.QD)("td",null,"4000",-1)),a[15]||(a[15]=(0,r.QD)("td",{class:"text-nowrap"},"30-Dec-2024",-1)),a[16]||(a[16]=(0,r.QD)("td",{style:{"text-align":"center"}},"Progress",-1)),a[17]||(a[17]=(0,r.QD)("td",{class:"text-center"},[(0,r.QD)("a",{href:"javascript:void(0)",class:"text-success me-2"},[(0,r.QD)("i",{class:"ri-pencil-line icon_hgt"})]),(0,r.QD)("a",{href:"javascript:void(0)",class:"text-danger"},[(0,r.QD)("i",{class:"ri-delete-bin-line icon_hgt"})])],-1))])])])]),a[20]||(a[20]=(0,r.QD)("div",{class:"card-footer"},null,-1))])])])])}const wG={},AG=(0,Ce.c)(wG,[["render",kG]]);var WG=AG;const zG={class:""},xG={class:"d-sm-flex align-items-center justify-content-between mb-2"},PG={class:"breadcrumb fs-sm mb-1"},CG={class:"breadcrumb-item","aria-current":"page"},$G={class:"breadcrumb-item","aria-current":"page"},SG={key:0,class:"breadcrumb-item","aria-current":"page"},UG={key:1,class:"breadcrumb-item active","aria-current":"page"},VG={class:"row"},jG={class:"col-12"},YG={class:"card card-one"},TG={class:"card-header d-flex justify-content-between"},NG={key:0,class:"card-title"},RG={key:1,class:"card-title"},qG={class:"card-body"},EG={class:"row g-2"},KG={class:"col-md-3"},IG={class:"form-label"},FG={key:0,class:"invalid-feedback"},OG={key:0,class:"multiselect"},LG=["value"],BG={style:{"margin-left":"5px"}},MG={class:"col-md-3"},ZG={key:0,class:"invalid-feedback"},HG={class:"col-md-3"},JG={key:0,class:"invalid-feedback"},GG={class:"col-md-3"},XG={key:0,class:"invalid-feedback"},eX={key:0,class:"col-md-4"},aX=["value"],sX={key:0,class:"invalid-feedback"},tX={class:"col-md-4"},rX={key:0,class:"text-danger"},lX={key:1,class:"invalid-feedback"},iX={class:"col-md-4"},oX={key:0,class:"invalid-feedback"},nX={class:"col-md-4"},dX={key:0,class:"invalid-feedback"},cX={class:"card-footer text-end"},uX={type:"submit",class:"btn btn-primary"},pX={key:0},mX={key:1};function _X(e,a,s,l,i,o){const n=(0,r.E1)("router-link");return(0,r.Wz)(),(0,r.An)("div",zG,[(0,r.QD)("div",xG,[(0,r.QD)("div",null,[(0,r.QD)("ol",PG,[(0,r.QD)("li",CG,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[11]||(a[11]=[(0,r.mY)("Dashboard")]))),_:1})]),a[13]||(a[13]=(0,r.QD)("li",{class:"breadcrumb-item","aria-current":"page"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Attributes")],-1)),(0,r.QD)("li",$G,[(0,r.K2)(n,{to:"/asset_attributes"},{default:(0,r.Ql)((()=>a[12]||(a[12]=[(0,r.mY)("Asset Attributes")]))),_:1})]),i.status?((0,r.Wz)(),(0,r.An)("li",SG,"New Asset Attribute")):((0,r.Wz)(),(0,r.An)("li",UG,"Update Asset Attribute"))]),a[14]||(a[14]=(0,r.QD)("h4",{class:"main-title mb-0"},"Asset Attribute",-1))]),(0,r.K2)(n,{to:"/asset_attributes",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.Ql)((()=>a[15]||(a[15]=[(0,r.QD)("i",{class:"ri-list-check"},null,-1),(0,r.mY)(" ASSET ATTRIBUTES")]))),_:1})]),(0,r.QD)("div",VG,[(0,r.QD)("div",jG,[(0,r.QD)("form",{onSubmit:a[10]||(a[10]=(0,t.Y7)(((...e)=>o.submitForm&&o.submitForm(...e)),["prevent"]))},[(0,r.QD)("div",YG,[(0,r.QD)("div",TG,[i.status?((0,r.Wz)(),(0,r.An)("h6",NG,"New Asset Attribute")):((0,r.Wz)(),(0,r.An)("h6",RG,"Update Asset Attribute"))]),(0,r.QD)("div",qG,[(0,r.QD)("div",EG,[(0,r.QD)("div",KG,[(0,r.QD)("div",IG,[a[18]||(a[18]=(0,r.QD)("label",{class:"form-label"},"Asset Type",-1)),a[19]||(a[19]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.QD)("div",{class:"dropdown",onClick:a[0]||(a[0]=e=>o.toggleAssetTypeStatus())},[a[17]||(a[17]=(0,r.QD)("div",{class:"overselect"},null,-1)),(0,r.QD)("select",{class:(0,d.WN)(["form-control form-control",{"is-invalid":i.errors.asset_types}])},a[16]||(a[16]=[(0,r.QD)("option",{value:""},"Select Asset Type",-1)]),2),i.errors.asset_types?((0,r.Wz)(),(0,r.An)("span",FG,(0,d.WA)(i.errors.asset_types[0]),1)):(0,r.g1)("",!0)]),i.asset_type_status?((0,r.Wz)(),(0,r.An)("div",OG,[(0,r.QD)("ul",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.asset_types,((e,s)=>((0,r.Wz)(),(0,r.An)("li",{class:"",key:s},[(0,r.wt)((0,r.QD)("input",{type:"checkbox",value:e.asset_type_id,"onUpdate:modelValue":a[1]||(a[1]=e=>i.asset_attribute.asset_types=e),style:{padding:"2px"}},null,8,LG),[[t.cV,i.asset_attribute.asset_types]]),(0,r.QD)("label",BG,(0,d.WA)(e.asset_type_name),1)])))),128))])])):(0,r.g1)("",!0)])]),(0,r.QD)("div",MG,[a[20]||(a[20]=(0,r.QD)("label",{class:"form-label"},"Field Name",-1)),a[21]||(a[21]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Field Name ",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.field_name}]),"onUpdate:modelValue":a[2]||(a[2]=e=>i.asset_attribute.field_name=e)},null,2),[[t.Og,i.asset_attribute.field_name]]),i.errors.field_name?((0,r.Wz)(),(0,r.An)("span",ZG,(0,d.WA)(i.errors.field_name[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",HG,[a[22]||(a[22]=(0,r.QD)("label",{class:"form-label"},"Display Name",-1)),a[23]||(a[23]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Display Name ",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.display_name}]),"onUpdate:modelValue":a[3]||(a[3]=e=>i.asset_attribute.display_name=e)},null,2),[[t.Og,i.asset_attribute.display_name]]),i.errors.display_name?((0,r.Wz)(),(0,r.An)("span",JG,(0,d.WA)(i.errors.display_name[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",GG,[a[25]||(a[25]=(0,r.QD)("label",{class:"form-label"},"Field Type",-1)),a[26]||(a[26]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("select",{class:(0,d.WN)(["form-control",{"is-invalid":i.errors.field_type}]),"onUpdate:modelValue":a[4]||(a[4]=e=>i.asset_attribute.field_type=e)},a[24]||(a[24]=[(0,r.IL)('<option value="" data-v-4a562bcc>Select Field Type</option><option value="Text" data-v-4a562bcc>Text </option><option value="Dropdown" data-v-4a562bcc>Dropdown </option><option value="Number" data-v-4a562bcc>Number </option><option value="Date" data-v-4a562bcc>Date </option><option value="Date&amp;Time" data-v-4a562bcc>Date&amp;Time </option><option value="Color" data-v-4a562bcc>Color</option><option value="List" data-v-4a562bcc>List</option>',8)]),2),[[t.Ip,i.asset_attribute.field_type]]),i.errors.field_type?((0,r.Wz)(),(0,r.An)("span",XG,(0,d.WA)(i.errors.field_type[0]),1)):(0,r.g1)("",!0)]),i.list_parameters.length?((0,r.Wz)(),(0,r.An)("div",eX,[a[28]||(a[28]=(0,r.QD)("label",{class:"form-label"},"List",-1)),a[29]||(a[29]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("select",{class:(0,d.WN)(["form-control",{"is-invalid":i.errors.list_parameter_id}]),"onUpdate:modelValue":a[5]||(a[5]=e=>i.asset_attribute.list_parameter_id=e)},[a[27]||(a[27]=(0,r.QD)("option",{value:""},"Select List",-1)),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.list_parameters,((e,a)=>((0,r.Wz)(),(0,r.An)("option",{key:a,value:e.list_parameter_id},(0,d.WA)(e.list_parameter_name),9,aX)))),128))],2),[[t.Ip,i.asset_attribute.list_parameter_id]]),i.errors.list_parameter_id?((0,r.Wz)(),(0,r.An)("span",sX,(0,d.WA)(i.errors.list_parameter_id[0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0),(0,r.QD)("div",tX,[a[30]||(a[30]=(0,r.QD)("label",{class:"form-label"},"Field Value",-1)),"Dropdown"===i.asset_attribute.field_type?((0,r.Wz)(),(0,r.An)("span",rX," *")):(0,r.g1)("",!0),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Field Value",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.field_values}]),"onUpdate:modelValue":a[6]||(a[6]=e=>i.asset_attribute.field_values=e)},null,2),[[t.Og,i.asset_attribute.field_values]]),i.errors.field_values?((0,r.Wz)(),(0,r.An)("span",lX,(0,d.WA)(i.errors.field_values[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",iX,[a[31]||(a[31]=(0,r.QD)("label",{class:"form-label"},"Field Length",-1)),a[32]||(a[32]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"number",placeholder:"Field Length",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.field_length}]),"onUpdate:modelValue":a[7]||(a[7]=e=>i.asset_attribute.field_length=e)},null,2),[[t.Og,i.asset_attribute.field_length]]),i.errors.field_length?((0,r.Wz)(),(0,r.An)("span",oX,(0,d.WA)(i.errors.field_length[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",nX,[a[34]||(a[34]=(0,r.QD)("label",{class:"form-label"},"Is Required",-1)),a[35]||(a[35]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("select",{class:(0,d.WN)(["form-control",{"is-invalid":i.errors.is_required}]),"onUpdate:modelValue":a[8]||(a[8]=e=>i.asset_attribute.is_required=e)},a[33]||(a[33]=[(0,r.QD)("option",{value:""},"Select Is Required",-1),(0,r.QD)("option",{value:"1"},"Yes ",-1),(0,r.QD)("option",{value:"0"},"No ",-1)]),2),[[t.Ip,i.asset_attribute.is_required]]),i.errors.is_required?((0,r.Wz)(),(0,r.An)("span",dX,(0,d.WA)(i.errors.is_required[0]),1)):(0,r.g1)("",!0)])])]),(0,r.QD)("div",cX,[(0,r.QD)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[9]||(a[9]=(0,t.Y7)((e=>o.discard()),["prevent"]))},a[36]||(a[36]=[(0,r.QD)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.mY)(" Discard")])),(0,r.QD)("button",uX,[i.status?((0,r.Wz)(),(0,r.An)("span",pX,a[37]||(a[37]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Submit")]))):((0,r.Wz)(),(0,r.An)("span",mX,a[38]||(a[38]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Update")])))])])])],32)])])])}var hX={components:{},name:"AssetAttributes.Create",data(){return{asset_attribute:{field_name:"",display_name:"",field_type:"",field_values:"",field_length:"",is_required:"",asset_type_id:"",asset_types:[],list_parameter_id:""},asset_types:[],asset_attributes:[],list_parameters:[],errors:[],status:!0,asset_type_status:!1}},watch:{"asset_attribute.field_type":function(){"List"==this.asset_attribute.field_type?this.getListParameters():(this.list_parameters=[],this.asset_attribute.list_parameter_id="")}},beforeRouteEnter(e,a,s){s((a=>{if(a.getAssetTypes(),"AssetAttributes.Create"==e.name);else{a.status=!1;let s={uri:"getAssetAttribute",data:{asset_attribute_id:e.params.asset_attribute_id}};a.$store.dispatch("post",s).then((function(e){a.asset_attribute=e.data.data})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}}))},methods:{toggleAssetTypeStatus(){this.asset_type_status=!this.asset_type_status},submitForm(){let e=this;e.status?e.addAssetAttribute():e.updateAssetAttribute()},getAssetTypes(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssetTypes"}).then((s=>{a.hide(),e.asset_types=s.data.data,console.log(e.asset_types)})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},addAssetAttribute(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"addAssetAttribute",data:this.asset_attribute}).then((s=>{a.hide(),this.$store.dispatch("success","Asset Attribute created successfully"),e.$router.push("/asset_attributes")})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},updateAssetAttribute(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"updateAssetAttribute",data:this.asset_attribute}).then((e=>{a.hide(),this.$store.dispatch("success","Asset Attribute updated successfully"),this.$router.push("/asset_attributes")})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getAssetAttribute(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"getAssetAttribute",data:this.asset_attribute}).then((e=>{a.hide(),this.asset_attributes=e.data.data})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getListParameters(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"getListParameters"}).then((e=>{a.hide(),this.list_parameters=e.data.data})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},discard(){let e=this;e.asset_attribute.field_name="",e.asset_attribute.field_type="",e.asset_attribute.display_name="",e.asset_attribute.field_values="",e.asset_attribute.field_length="",e.asset_attribute.is_required="",e.asset_attribute.asset_type_id="",e.asset_attribute.list_parameter_id="",e.asset_attribute.asset_types=[],e.errors=[],e.status=!0}}};const bX=(0,Ce.c)(hX,[["render",_X],["__scopeId","data-v-4a562bcc"]]);var vX=bX;const yX={class:""},gX={class:"d-sm-flex align-items-center justify-content-between mb-2"},DX={class:"breadcrumb fs-sm mb-1"},QX={class:"breadcrumb-item","aria-current":"page"},fX={class:"row"},kX={class:"col-12"},wX={class:"card card-one"},AX={class:"card-body"},WX={class:"table-responsive table-responsive-sm"},zX={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},xX={style:{"background-color":"#9b9b9b",color:"white"}},PX={key:0,class:"ri-arrow-up-line"},CX={key:1,class:"ri-arrow-down-line"},$X={key:2,class:"fas fa-sort"},SX={key:0,class:"ri-arrow-up-line"},UX={key:1,class:"ri-arrow-down-line"},VX={key:2,class:"fas fa-sort"},jX={key:0,class:"ri-arrow-up-line"},YX={key:1,class:"ri-arrow-down-line"},TX={key:2,class:"fas fa-sort"},NX={key:0,class:"ri-arrow-up-line"},RX={key:1,class:"ri-arrow-down-line"},qX={key:2,class:"fas fa-sort"},EX={key:0,class:"ri-arrow-up-line"},KX={key:1,class:"ri-arrow-down-line"},IX={key:2,class:"fas fa-sort"},FX={key:0,class:"ri-arrow-up-line"},OX={key:1,class:"ri-arrow-down-line"},LX={key:2,class:"fas fa-sort"},BX={key:0},MX={class:"text-center"},ZX={class:"text-center"},HX={class:"form-switch"},JX=["id","checked","value","onChange"],GX=["for"],XX={class:"text-center"},e0=["onClick"],a0={class:"card-footer"},s0={class:"d-flex justify-content-between align-items-center"};function t0(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("Pagination");return(0,r.Wz)(),(0,r.An)("div",yX,[(0,r.QD)("div",gX,[(0,r.QD)("div",null,[(0,r.QD)("ol",DX,[(0,r.QD)("li",QX,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[10]||(a[10]=[(0,r.mY)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.QD)("li",{class:"breadcrumb-item","aria-current":"page"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Attributes")],-1)),a[12]||(a[12]=(0,r.QD)("li",{class:"breadcrumb-item active","aria-current":"page"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Asset Attributes")],-1))]),a[13]||(a[13]=(0,r.QD)("h4",{class:"main-title mb-0"},"Asset Attributes",-1))]),(0,r.K2)(n,{to:"/asset_attributes/create",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.Ql)((()=>a[14]||(a[14]=[(0,r.QD)("i",{class:"ri-list-check"},null,-1),(0,r.mY)(" ADD ASSET ATTRIBUTE")]))),_:1})]),(0,r.QD)("div",fX,[(0,r.QD)("div",kX,[(0,r.QD)("div",wX,[a[28]||(a[28]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Asset Attributes")],-1)),(0,r.QD)("div",AX,[(0,r.wt)((0,r.QD)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.search=e),onKeypress:a[1]||(a[1]=(0,t.jj)((e=>o.search()),["enter"]))},null,544),[[t.Og,i.meta.search]]),(0,r.QD)("div",WX,[(0,r.QD)("table",zX,[(0,r.QD)("tr",xX,[a[21]||(a[21]=(0,r.QD)("th",{class:"text-center"},"#",-1)),(0,r.QD)("th",{onClick:a[2]||(a[2]=e=>o.sort("field_name"))},[a[15]||(a[15]=(0,r.mY)(" Field Name ")),(0,r.QD)("span",null,["field_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",PX)):"field_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",CX)):((0,r.Wz)(),(0,r.An)("i",$X))])]),(0,r.QD)("th",{onClick:a[3]||(a[3]=e=>o.sort("display_name"))},[a[16]||(a[16]=(0,r.mY)(" Display Name ")),(0,r.QD)("span",null,["display_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",SX)):"display_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",UX)):((0,r.Wz)(),(0,r.An)("i",VX))])]),(0,r.QD)("th",{onClick:a[4]||(a[4]=e=>o.sort("field_type"))},[a[17]||(a[17]=(0,r.mY)(" Field Type ")),(0,r.QD)("span",null,["field_type"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",jX)):"field_type"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",YX)):((0,r.Wz)(),(0,r.An)("i",TX))])]),(0,r.QD)("th",{onClick:a[5]||(a[5]=e=>o.sort("field_values"))},[a[18]||(a[18]=(0,r.mY)(" Field Values ")),(0,r.QD)("span",null,["field_values"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",NX)):"field_values"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",RX)):((0,r.Wz)(),(0,r.An)("i",qX))])]),(0,r.QD)("th",{onClick:a[6]||(a[6]=e=>o.sort("field_length"))},[a[19]||(a[19]=(0,r.mY)(" Field Length ")),(0,r.QD)("span",null,["field_length"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",EX)):"field_length"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",KX)):((0,r.Wz)(),(0,r.An)("i",IX))])]),(0,r.QD)("th",{onClick:a[7]||(a[7]=e=>o.sort("is_required"))},[a[20]||(a[20]=(0,r.mY)(" Is Required ")),(0,r.QD)("span",null,["is_required"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",FX)):"is_required"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",OX)):((0,r.Wz)(),(0,r.An)("i",LX))])]),a[22]||(a[22]=(0,r.QD)("th",null," Asset Type ",-1)),a[23]||(a[23]=(0,r.QD)("th",{class:"text-center"},"Status",-1)),a[24]||(a[24]=(0,r.QD)("th",{class:"text-center"},"Actions",-1))]),(0,r.QD)("tbody",null,[0==i.assetattributes.length?((0,r.Wz)(),(0,r.An)("tr",BX,a[25]||(a[25]=[(0,r.QD)("td",{colspan:"10",class:"text-center"},"No records found",-1)]))):(0,r.g1)("",!0),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.assetattributes,((e,s)=>((0,r.Wz)(),(0,r.An)("tr",{key:s},[(0,r.QD)("td",MX,(0,d.WA)(i.meta.from+s),1),(0,r.QD)("td",null,(0,d.WA)(e.field_name),1),(0,r.QD)("td",null,(0,d.WA)(e.display_name),1),(0,r.QD)("td",null,(0,d.WA)(e.field_type),1),(0,r.QD)("td",null,(0,d.WA)(e.field_values),1),(0,r.QD)("td",null,(0,d.WA)(e.field_length),1),(0,r.QD)("td",null,(0,d.WA)(1==e?.is_required?"Yes":"No"),1),(0,r.QD)("td",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(e.asset_attribute_types,((e,a)=>((0,r.Wz)(),(0,r.An)("span",{key:a},(0,d.WA)(e?.asset_type?.asset_type_name)+", ",1)))),128))]),(0,r.QD)("td",ZX,[(0,r.QD)("div",HX,[(0,r.QD)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"assetattribute"+e.asset_attribute_id,checked:e.status,value:e.status,onChange:a=>o.deleteAssetAttribute(e)},null,40,JX),(0,r.QD)("label",{class:"custom-control-label",for:"user"+e.asset_attribute_id},null,8,GX)])]),(0,r.QD)("td",XX,[e.status?((0,r.Wz)(),(0,r.An)("a",{key:0,href:"javascript:void(0)",class:"text-success",onClick:a=>o.editAssetAttribute(e)},a[26]||(a[26]=[(0,r.QD)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,e0)):(0,r.g1)("",!0)])])))),128))])])])]),(0,r.QD)("div",a0,[(0,r.QD)("div",s0,[(0,r.wt)((0,r.QD)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.per_page=e),onChange:a[9]||(a[9]=(...a)=>e.onPerPageChange&&e.onPerPageChange(...a))},a[27]||(a[27]=[(0,r.QD)("option",null,"10",-1),(0,r.QD)("option",null,"15",-1),(0,r.QD)("option",null,"20",-1),(0,r.QD)("option",null,"25",-1),(0,r.QD)("option",null,"30",-1)]),544),[[t.Ip,i.meta.per_page]]),(0,r.QD)("span",null,"Showing "+(0,d.WA)(i.meta.from)+" to "+(0,d.WA)(i.meta.to)+" of "+(0,d.WA)(i.meta.totalRows)+" entries",1),(0,r.K2)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var r0={components:{Pagination:Zt},data(){return{meta:{search:"",order_by:"asc",keyword:"asset_attribute_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},assetattributes:[],errors:[],status:!0}},beforeRouteEnter(e,a,s){s((e=>{"AssetAttributes.Edit"!=a.name?e.$store.commit("setCurrentPage",e.meta.page):e.meta.page=e.$store.getters.current_page}))},mounted(){this.index()},methods:{index(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"paginateAssetAttributes",data:e.meta}).then((s=>{a.hide(),this.assetattributes=s.data.data,this.meta.totalRows=s.data.meta.total,this.meta.from=s.data.meta.from,this.meta.lastPage=s.data.meta.last_page,this.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},editAssetAttribute(e){this.$router.push("/asset_attributes/"+e.asset_attribute_id+"/edit")},deleteAssetAttribute(e){let a=this,s=a.$loading.show();a.$store.dispatch("post",{uri:"deleteAssetAttribute",data:e}).then((e=>{s.hide(),a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){s.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},search(){let e=this;e.meta.page=1,e.index()},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()}}};const l0=(0,Ce.c)(r0,[["render",t0]]);var i0=l0;const o0={class:""},n0={class:"d-sm-flex align-items-center justify-content-between mb-2"},d0={class:"breadcrumb fs-sm mb-1"},c0={class:"breadcrumb-item","aria-current":"page"},u0={class:"breadcrumb-item","aria-current":"page"},p0={key:0,class:"breadcrumb-item","aria-current":"page"},m0={key:1,class:"breadcrumb-item active","aria-current":"page"},_0={class:"row"},h0={class:"col-12"},b0={class:"card card-one"},v0={class:"card-header d-flex justify-content-between"},y0={key:0,class:"card-title"},g0={key:1,class:"card-title"},D0={class:"card-body"},Q0={class:"row g-2"},f0={class:"col-md-3"},k0={class:"form-label"},w0={key:0,class:"invalid-feedback"},A0={key:0,class:"multiselect"},W0=["value"],z0={style:{"margin-left":"5px"}},x0={class:"col-md-3"},P0={key:0,class:"invalid-feedback"},C0={class:"col-md-3"},$0={key:0,class:"invalid-feedback"},S0={class:"col-md-3"},U0={key:0,class:"invalid-feedback"},V0={key:0,class:"col-md-4"},j0=["value"],Y0={key:0,class:"invalid-feedback"},T0={class:"col-md-4"},N0={key:0,class:"text-danger"},R0={key:1,class:"invalid-feedback"},q0={class:"col-md-4"},E0={key:0,class:"invalid-feedback"},K0={class:"col-md-4"},I0={key:0,class:"invalid-feedback"},F0={class:"card-footer text-end"},O0={type:"submit",class:"btn btn-primary"},L0={key:0},B0={key:1};function M0(e,a,s,l,i,o){const n=(0,r.E1)("router-link");return(0,r.Wz)(),(0,r.An)("div",o0,[(0,r.QD)("div",n0,[(0,r.QD)("div",null,[(0,r.QD)("ol",d0,[(0,r.QD)("li",c0,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[11]||(a[11]=[(0,r.mY)("Dashboard")]))),_:1})]),a[13]||(a[13]=(0,r.QD)("li",{class:"breadcrumb-item","aria-current":"page"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Attributes")],-1)),(0,r.QD)("li",u0,[(0,r.K2)(n,{to:"/spare_attributes"},{default:(0,r.Ql)((()=>a[12]||(a[12]=[(0,r.mY)("Spare Attributes")]))),_:1})]),i.status?((0,r.Wz)(),(0,r.An)("li",p0,"New Spare Attribute")):((0,r.Wz)(),(0,r.An)("li",m0,"Update Spare Attribute"))]),a[14]||(a[14]=(0,r.QD)("h4",{class:"main-title mb-0"},"Spare Attribute",-1))]),(0,r.K2)(n,{to:"/spare_attributes",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.Ql)((()=>a[15]||(a[15]=[(0,r.QD)("i",{class:"ri-list-check"},null,-1),(0,r.mY)(" SPARE ATTRIBUTES")]))),_:1})]),(0,r.QD)("div",_0,[(0,r.QD)("div",h0,[(0,r.QD)("form",{onSubmit:a[10]||(a[10]=(0,t.Y7)(((...e)=>o.submitForm&&o.submitForm(...e)),["prevent"]))},[(0,r.QD)("div",b0,[(0,r.QD)("div",v0,[i.status?((0,r.Wz)(),(0,r.An)("h6",y0,"New Spare Attribute")):((0,r.Wz)(),(0,r.An)("h6",g0,"Update Spare Attribute"))]),(0,r.QD)("div",D0,[(0,r.QD)("div",Q0,[(0,r.QD)("div",f0,[(0,r.QD)("div",k0,[a[18]||(a[18]=(0,r.QD)("label",{class:"form-label"},"Spare Type",-1)),a[19]||(a[19]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.QD)("div",{class:"dropdown",onClick:a[0]||(a[0]=e=>o.toggleSpareTypeStatus())},[a[17]||(a[17]=(0,r.QD)("div",{class:"overselect"},null,-1)),(0,r.QD)("select",{class:(0,d.WN)(["form-control form-control",{"is-invalid":i.errors.spare_types}])},a[16]||(a[16]=[(0,r.QD)("option",{value:""},"Select Spare Type",-1)]),2),i.errors.spare_types?((0,r.Wz)(),(0,r.An)("span",w0,(0,d.WA)(i.errors.spare_types[0]),1)):(0,r.g1)("",!0)]),i.spare_type_status?((0,r.Wz)(),(0,r.An)("div",A0,[(0,r.QD)("ul",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.spare_types,((e,s)=>((0,r.Wz)(),(0,r.An)("li",{class:"",key:s},[(0,r.wt)((0,r.QD)("input",{type:"checkbox",value:e.spare_type_id,"onUpdate:modelValue":a[1]||(a[1]=e=>i.spare_attribute.spare_types=e),style:{padding:"2px"}},null,8,W0),[[t.cV,i.spare_attribute.spare_types]]),(0,r.QD)("label",z0,(0,d.WA)(e.spare_type_name),1)])))),128))])])):(0,r.g1)("",!0)])]),(0,r.QD)("div",x0,[a[20]||(a[20]=(0,r.QD)("label",{class:"form-label"},"Field Name",-1)),a[21]||(a[21]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Field Name ",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.field_name}]),"onUpdate:modelValue":a[2]||(a[2]=e=>i.spare_attribute.field_name=e)},null,2),[[t.Og,i.spare_attribute.field_name]]),i.errors.field_name?((0,r.Wz)(),(0,r.An)("span",P0,(0,d.WA)(i.errors.field_name[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",C0,[a[22]||(a[22]=(0,r.QD)("label",{class:"form-label"},"Display Name",-1)),a[23]||(a[23]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Display Name ",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.display_name}]),"onUpdate:modelValue":a[3]||(a[3]=e=>i.spare_attribute.display_name=e)},null,2),[[t.Og,i.spare_attribute.display_name]]),i.errors.display_name?((0,r.Wz)(),(0,r.An)("span",$0,(0,d.WA)(i.errors.display_name[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",S0,[a[25]||(a[25]=(0,r.QD)("label",{class:"form-label"},"Field Type",-1)),a[26]||(a[26]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("select",{class:(0,d.WN)(["form-control",{"is-invalid":i.errors.field_type}]),"onUpdate:modelValue":a[4]||(a[4]=e=>i.spare_attribute.field_type=e)},a[24]||(a[24]=[(0,r.IL)('<option value="" data-v-4d7a95ee>Select Field Type</option><option value="Text" data-v-4d7a95ee>Text </option><option value="Dropdown" data-v-4d7a95ee>Dropdown </option><option value="Number" data-v-4d7a95ee>Number </option><option value="Date" data-v-4d7a95ee>Date </option><option value="Date&amp;Time" data-v-4d7a95ee>Date&amp;Time </option><option value="Color" data-v-4d7a95ee>Color</option><option value="List" data-v-4d7a95ee>List</option>',8)]),2),[[t.Ip,i.spare_attribute.field_type]]),i.errors.field_type?((0,r.Wz)(),(0,r.An)("span",U0,(0,d.WA)(i.errors.field_type[0]),1)):(0,r.g1)("",!0)]),i.list_parameters.length?((0,r.Wz)(),(0,r.An)("div",V0,[a[28]||(a[28]=(0,r.QD)("label",{class:"form-label"},"List",-1)),a[29]||(a[29]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("select",{class:(0,d.WN)(["form-control",{"is-invalid":i.errors.list_parameter_id}]),"onUpdate:modelValue":a[5]||(a[5]=e=>i.spare_attribute.list_parameter_id=e)},[a[27]||(a[27]=(0,r.QD)("option",{value:""},"Select List",-1)),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.list_parameters,((e,a)=>((0,r.Wz)(),(0,r.An)("option",{key:a,value:e.list_parameter_id},(0,d.WA)(e.list_parameter_name),9,j0)))),128))],2),[[t.Ip,i.spare_attribute.list_parameter_id]]),i.errors.list_parameter_id?((0,r.Wz)(),(0,r.An)("span",Y0,(0,d.WA)(i.errors.list_parameter_id[0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0),(0,r.QD)("div",T0,[a[30]||(a[30]=(0,r.QD)("label",{class:"form-label"},"Field Value",-1)),"Dropdown"===i.spare_attribute.field_type?((0,r.Wz)(),(0,r.An)("span",N0," *")):(0,r.g1)("",!0),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Field Value",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.field_values}]),"onUpdate:modelValue":a[6]||(a[6]=e=>i.spare_attribute.field_values=e)},null,2),[[t.Og,i.spare_attribute.field_values]]),i.errors.field_values?((0,r.Wz)(),(0,r.An)("span",R0,(0,d.WA)(i.errors.field_values[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",q0,[a[31]||(a[31]=(0,r.QD)("label",{class:"form-label"},"Field Length",-1)),a[32]||(a[32]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"number",placeholder:"Field Length",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.field_length}]),"onUpdate:modelValue":a[7]||(a[7]=e=>i.spare_attribute.field_length=e)},null,2),[[t.Og,i.spare_attribute.field_length]]),i.errors.field_length?((0,r.Wz)(),(0,r.An)("span",E0,(0,d.WA)(i.errors.field_length[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",K0,[a[34]||(a[34]=(0,r.QD)("label",{class:"form-label"},"Is Required",-1)),a[35]||(a[35]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("select",{class:(0,d.WN)(["form-control",{"is-invalid":i.errors.is_required}]),"onUpdate:modelValue":a[8]||(a[8]=e=>i.spare_attribute.is_required=e)},a[33]||(a[33]=[(0,r.QD)("option",{value:""},"Select Is Required",-1),(0,r.QD)("option",{value:"1"},"Yes ",-1),(0,r.QD)("option",{value:"0"},"No ",-1)]),2),[[t.Ip,i.spare_attribute.is_required]]),i.errors.is_required?((0,r.Wz)(),(0,r.An)("span",I0,(0,d.WA)(i.errors.is_required[0]),1)):(0,r.g1)("",!0)])])]),(0,r.QD)("div",F0,[(0,r.QD)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[9]||(a[9]=(0,t.Y7)((e=>o.discard()),["prevent"]))},a[36]||(a[36]=[(0,r.QD)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.mY)(" Discard")])),(0,r.QD)("button",O0,[i.status?((0,r.Wz)(),(0,r.An)("span",L0,a[37]||(a[37]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Submit")]))):((0,r.Wz)(),(0,r.An)("span",B0,a[38]||(a[38]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Update")])))])])])],32)])])])}var Z0={components:{},name:"SpareAttributes.Create",data(){return{spare_attribute:{field_name:"",display_name:"",field_type:"",field_values:"",field_length:"",is_required:"",spare_type_id:"",spare_types:[],list_parameter_id:""},spare_types:[],spare_attributes:[],list_parameters:[],errors:[],status:!0,spare_type_status:!1}},beforeRouteEnter(e,a,s){s((a=>{if(a.getSpareTypes(),"SpareAttributes.Create"==e.name);else{a.status=!1;let s={uri:"getSpareAttribute",data:{spare_attribute_id:e.params.spare_attribute_id}};a.$store.dispatch("post",s).then((function(e){a.spare_attribute=e.data.data})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}}))},watch:{"spare_attribute.field_type":function(){"List"==this.spare_attribute.field_type?this.getListParameters():(this.list_parameters=[],this.spare_attribute.list_parameter_id="")}},methods:{toggleSpareTypeStatus(){this.spare_type_status=!this.spare_type_status},submitForm(){let e=this;e.status?e.addSpareAttribute():e.updateSpareAttribute()},getSpareTypes(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getSpareTypes"}).then((s=>{a.hide(),e.spare_types=s.data.data,console.log(e.spare_types)})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getListParameters(){let e=this,a=this.$loading.show();e.$store.dispatch("post",{uri:"getListParameters"}).then((s=>{a.hide(),e.list_parameters=s.data.data})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},addSpareAttribute(){let e=this,a=this.$loading.show();e.$store.dispatch("post",{uri:"addSpareAttribute",data:e.spare_attribute}).then((s=>{a.hide(),e.$store.dispatch("success","Spare Attribute created successfully"),e.$router.push("/spare_attributes")})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},updateSpareAttribute(){let e=this,a=this.$loading.show();e.$store.dispatch("post",{uri:"updateSpareAttribute",data:e.spare_attribute}).then((s=>{a.hide(),e.$store.dispatch("success","Spare Attribute updated successfully"),e.$router.push("/spare_attributes")})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getSpareAttribute(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"getSpareAttribute",data:this.spare_attribute}).then((e=>{a.hide(),this.spare_attributes=e.data.data})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},discard(){let e=this;e.spare_attribute.field_name="",e.spare_attribute.field_type="",e.spare_attribute.display_name="",e.spare_attribute.field_values="",e.spare_attribute.field_length="",e.spare_attribute.is_required="",e.spare_attribute.spare_type_id="",e.spare_attribute.list_parameter_id="",e.spare_attribute.spare_types=[],e.errors=[],e.status=!0}}};const H0=(0,Ce.c)(Z0,[["render",M0],["__scopeId","data-v-4d7a95ee"]]);var J0=H0;const G0={class:""},X0={class:"d-sm-flex align-items-center justify-content-between mb-2"},e1={class:"breadcrumb fs-sm mb-1"},a1={class:"breadcrumb-item","aria-current":"page"},s1={class:"row"},t1={class:"col-12"},r1={class:"card card-one"},l1={class:"card-body"},i1={class:"table-responsive table-responsive-sm"},o1={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},n1={style:{"background-color":"#9b9b9b",color:"white"}},d1={key:0,class:"ri-arrow-up-line"},c1={key:1,class:"ri-arrow-down-line"},u1={key:2,class:"fas fa-sort"},p1={key:0,class:"ri-arrow-up-line"},m1={key:1,class:"ri-arrow-down-line"},_1={key:2,class:"fas fa-sort"},h1={key:0,class:"ri-arrow-up-line"},b1={key:1,class:"ri-arrow-down-line"},v1={key:2,class:"fas fa-sort"},y1={key:0,class:"ri-arrow-up-line"},g1={key:1,class:"ri-arrow-down-line"},D1={key:2,class:"fas fa-sort"},Q1={key:0,class:"ri-arrow-up-line"},f1={key:1,class:"ri-arrow-down-line"},k1={key:2,class:"fas fa-sort"},w1={key:0,class:"ri-arrow-up-line"},A1={key:1,class:"ri-arrow-down-line"},W1={key:2,class:"fas fa-sort"},z1={key:0},x1={class:"text-center"},P1={class:"text-center"},C1={class:"form-switch"},$1=["id","checked","value","onChange"],S1=["for"],U1={class:"text-center"},V1=["onClick"],j1={class:"card-footer"},Y1={class:"d-flex justify-content-between align-items-center"};function T1(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("Pagination");return(0,r.Wz)(),(0,r.An)("div",G0,[(0,r.QD)("div",X0,[(0,r.QD)("div",null,[(0,r.QD)("ol",e1,[(0,r.QD)("li",a1,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[10]||(a[10]=[(0,r.mY)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.QD)("li",{class:"breadcrumb-item","aria-current":"page"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Attributes")],-1)),a[12]||(a[12]=(0,r.QD)("li",{class:"breadcrumb-item active","aria-current":"page"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Spare Attributes")],-1))]),a[13]||(a[13]=(0,r.QD)("h4",{class:"main-title mb-0"},"Spare Attributes",-1))]),(0,r.K2)(n,{to:"/spare_attributes/create",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.Ql)((()=>a[14]||(a[14]=[(0,r.QD)("i",{class:"ri-list-check"},null,-1),(0,r.mY)(" ADD SPARE ATTRIBUTE")]))),_:1})]),(0,r.QD)("div",s1,[(0,r.QD)("div",t1,[(0,r.QD)("div",r1,[a[28]||(a[28]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Spare Attributes")],-1)),(0,r.QD)("div",l1,[(0,r.wt)((0,r.QD)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.search=e),onKeypress:a[1]||(a[1]=(0,t.jj)((e=>o.search()),["enter"]))},null,544),[[t.Og,i.meta.search]]),(0,r.QD)("div",i1,[(0,r.QD)("table",o1,[(0,r.QD)("tr",n1,[a[21]||(a[21]=(0,r.QD)("th",{class:"text-center"},"#",-1)),(0,r.QD)("th",{onClick:a[2]||(a[2]=e=>o.sort("field_name"))},[a[15]||(a[15]=(0,r.mY)(" Field Name ")),(0,r.QD)("span",null,["field_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",d1)):"field_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",c1)):((0,r.Wz)(),(0,r.An)("i",u1))])]),(0,r.QD)("th",{onClick:a[3]||(a[3]=e=>o.sort("display_name"))},[a[16]||(a[16]=(0,r.mY)(" Display Name ")),(0,r.QD)("span",null,["display_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",p1)):"display_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",m1)):((0,r.Wz)(),(0,r.An)("i",_1))])]),(0,r.QD)("th",{onClick:a[4]||(a[4]=e=>o.sort("field_type"))},[a[17]||(a[17]=(0,r.mY)(" Field Type ")),(0,r.QD)("span",null,["field_type"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",h1)):"field_type"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",b1)):((0,r.Wz)(),(0,r.An)("i",v1))])]),(0,r.QD)("th",{onClick:a[5]||(a[5]=e=>o.sort("field_values"))},[a[18]||(a[18]=(0,r.mY)(" Field Values ")),(0,r.QD)("span",null,["field_values"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",y1)):"field_values"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",g1)):((0,r.Wz)(),(0,r.An)("i",D1))])]),(0,r.QD)("th",{onClick:a[6]||(a[6]=e=>o.sort("field_length"))},[a[19]||(a[19]=(0,r.mY)(" Field Length ")),(0,r.QD)("span",null,["field_length"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Q1)):"field_length"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",f1)):((0,r.Wz)(),(0,r.An)("i",k1))])]),(0,r.QD)("th",{onClick:a[7]||(a[7]=e=>o.sort("is_required"))},[a[20]||(a[20]=(0,r.mY)(" Is Required ")),(0,r.QD)("span",null,["is_required"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",w1)):"is_required"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",A1)):((0,r.Wz)(),(0,r.An)("i",W1))])]),a[22]||(a[22]=(0,r.QD)("th",null," Spare Type ",-1)),a[23]||(a[23]=(0,r.QD)("th",{class:"text-center"},"Status",-1)),a[24]||(a[24]=(0,r.QD)("th",{class:"text-center"},"Actions",-1))]),(0,r.QD)("tbody",null,[0==i.spareattributes.length?((0,r.Wz)(),(0,r.An)("tr",z1,a[25]||(a[25]=[(0,r.QD)("td",{colspan:"10",class:"text-center"},"No records found",-1)]))):(0,r.g1)("",!0),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.spareattributes,((e,s)=>((0,r.Wz)(),(0,r.An)("tr",{key:s},[(0,r.QD)("td",x1,(0,d.WA)(i.meta.from+s),1),(0,r.QD)("td",null,(0,d.WA)(e.field_name),1),(0,r.QD)("td",null,(0,d.WA)(e.display_name),1),(0,r.QD)("td",null,(0,d.WA)(e.field_type),1),(0,r.QD)("td",null,(0,d.WA)(e.field_values),1),(0,r.QD)("td",null,(0,d.WA)(e.field_length),1),(0,r.QD)("td",null,(0,d.WA)(1==e?.is_required?"Yes":"No"),1),(0,r.QD)("td",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(e.spare_attribute_types,((e,a)=>((0,r.Wz)(),(0,r.An)("span",{key:a},(0,d.WA)(e?.spare_type?.spare_type_name)+", ",1)))),128))]),(0,r.QD)("td",P1,[(0,r.QD)("div",C1,[(0,r.QD)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"spareattribute"+e.spare_attribute_id,checked:e.status,value:e.status,onChange:a=>o.deleteSpareAttribute(e)},null,40,$1),(0,r.QD)("label",{class:"custom-control-label",for:"user"+e.spare_attribute_id},null,8,S1)])]),(0,r.QD)("td",U1,[e.status?((0,r.Wz)(),(0,r.An)("a",{key:0,href:"javascript:void(0)",class:"text-success",onClick:a=>o.editSpareAttribute(e)},a[26]||(a[26]=[(0,r.QD)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,V1)):(0,r.g1)("",!0)])])))),128))])])])]),(0,r.QD)("div",j1,[(0,r.QD)("div",Y1,[(0,r.wt)((0,r.QD)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.per_page=e),onChange:a[9]||(a[9]=(...a)=>e.onPerPageChange&&e.onPerPageChange(...a))},a[27]||(a[27]=[(0,r.QD)("option",null,"10",-1),(0,r.QD)("option",null,"15",-1),(0,r.QD)("option",null,"20",-1),(0,r.QD)("option",null,"25",-1),(0,r.QD)("option",null,"30",-1)]),544),[[t.Ip,i.meta.per_page]]),(0,r.QD)("span",null,"Showing "+(0,d.WA)(i.meta.from)+" to "+(0,d.WA)(i.meta.to)+" of "+(0,d.WA)(i.meta.totalRows)+" entries",1),(0,r.K2)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var N1={components:{Pagination:Zt},data(){return{meta:{search:"",order_by:"asc",keyword:"spare_attribute_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},spareattributes:[],errors:[],status:!0}},beforeRouteEnter(e,a,s){s((e=>{"SpareAttributes.Edit"!=a.name?e.$store.commit("setCurrentPage",e.meta.page):e.meta.page=e.$store.getters.current_page}))},mounted(){this.index()},methods:{index(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"paginateSpareAttributes",data:e.meta}).then((s=>{a.hide(),this.spareattributes=s.data.data,this.meta.totalRows=s.data.meta.total,this.meta.from=s.data.meta.from,this.meta.lastPage=s.data.meta.last_page,this.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},editSpareAttribute(e){this.$router.push("/spare_attributes/"+e.spare_attribute_id+"/edit")},deleteSpareAttribute(e){let a=this,s=a.$loading.show();a.$store.dispatch("post",{uri:"deleteSpareAttribute",data:e}).then((e=>{s.hide(),a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){s.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},search(){let e=this;e.meta.page=1,e.index()},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()}}};const R1=(0,Ce.c)(N1,[["render",T1]]);var q1=R1;const E1={class:""},K1={class:"d-sm-flex align-items-center justify-content-between mb-2"},I1={class:"breadcrumb fs-sm mb-1"},F1={class:"breadcrumb-item","aria-current":"page"},O1={class:"breadcrumb-item","aria-current":"page"},L1={key:0,class:"breadcrumb-item","aria-current":"page"},B1={key:1,class:"breadcrumb-item active","aria-current":"page"},M1={class:"row"},Z1={class:"col-12"},H1={class:"card card-one"},J1={class:"card-header d-flex justify-content-between"},G1={key:0,class:"card-title"},X1={key:1,class:"card-title"},e2={class:"card-body"},a2={class:"row g-2"},s2={class:"col-md-3"},t2={class:"form-label"},r2={key:0,class:"invalid-feedback"},l2={key:0,class:"multiselect"},i2=["value"],o2={style:{"margin-left":"5px"}},n2={class:"col-md-3"},d2={key:0,class:"invalid-feedback"},c2={class:"col-md-3"},u2={key:0,class:"invalid-feedback"},p2={class:"col-md-3"},m2={key:0,class:"invalid-feedback"},_2={key:0,class:"col-md-4"},h2=["value"],b2={key:0,class:"invalid-feedback"},v2={class:"col-md-4"},y2={key:0,class:"text-danger"},g2={key:1,class:"invalid-feedback"},D2={class:"col-md-4"},Q2={key:0,class:"invalid-feedback"},f2={class:"col-md-4"},k2={key:0,class:"invalid-feedback"},w2={class:"card-footer text-end"},A2={type:"submit",class:"btn btn-primary"},W2={key:0},z2={key:1};function x2(e,a,s,l,i,o){const n=(0,r.E1)("router-link");return(0,r.Wz)(),(0,r.An)("div",E1,[(0,r.QD)("div",K1,[(0,r.QD)("div",null,[(0,r.QD)("ol",I1,[(0,r.QD)("li",F1,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[11]||(a[11]=[(0,r.mY)("Dashboard")]))),_:1})]),a[13]||(a[13]=(0,r.QD)("li",{class:"breadcrumb-item","aria-current":"page"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Attributes")],-1)),(0,r.QD)("li",O1,[(0,r.K2)(n,{to:"/data_source_attributes"},{default:(0,r.Ql)((()=>a[12]||(a[12]=[(0,r.mY)("Data Source Attributes")]))),_:1})]),i.status?((0,r.Wz)(),(0,r.An)("li",L1,"New Data Source Attribute")):((0,r.Wz)(),(0,r.An)("li",B1,"Update Data Source Attribute"))]),a[14]||(a[14]=(0,r.QD)("h4",{class:"main-title mb-0"},"Data Source Attribute",-1))]),(0,r.K2)(n,{to:"/data_source_attributes",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.Ql)((()=>a[15]||(a[15]=[(0,r.QD)("i",{class:"ri-list-check"},null,-1),(0,r.mY)(" DATA SOURCE ATTRIBUTES")]))),_:1})]),(0,r.QD)("div",M1,[(0,r.QD)("div",Z1,[(0,r.QD)("form",{onSubmit:a[10]||(a[10]=(0,t.Y7)(((...e)=>o.submitForm&&o.submitForm(...e)),["prevent"]))},[(0,r.QD)("div",H1,[(0,r.QD)("div",J1,[i.status?((0,r.Wz)(),(0,r.An)("h6",G1,"New Data Source Attribute")):((0,r.Wz)(),(0,r.An)("h6",X1,"Update Data Source Attribute"))]),(0,r.QD)("div",e2,[(0,r.QD)("div",a2,[(0,r.QD)("div",s2,[(0,r.QD)("div",t2,[a[18]||(a[18]=(0,r.QD)("label",{class:"form-label"},"Data Source Type",-1)),a[19]||(a[19]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.QD)("div",{class:"dropdown",onClick:a[0]||(a[0]=e=>o.toggleDataSourceTypeStatus())},[a[17]||(a[17]=(0,r.QD)("div",{class:"overselect"},null,-1)),(0,r.QD)("select",{class:(0,d.WN)(["form-control form-control",{"is-invalid":i.errors.data_source_types}])},a[16]||(a[16]=[(0,r.QD)("option",{value:""},"Select Data Source Type",-1)]),2),i.errors.data_source_types?((0,r.Wz)(),(0,r.An)("span",r2,(0,d.WA)(i.errors.data_source_types[0]),1)):(0,r.g1)("",!0)]),i.data_source_type_status?((0,r.Wz)(),(0,r.An)("div",l2,[(0,r.QD)("ul",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.data_source_types,((e,s)=>((0,r.Wz)(),(0,r.An)("li",{class:"",key:s},[(0,r.wt)((0,r.QD)("input",{type:"checkbox",value:e.data_source_type_id,"onUpdate:modelValue":a[1]||(a[1]=e=>i.data_source_attribute.data_source_types=e),style:{padding:"2px"}},null,8,i2),[[t.cV,i.data_source_attribute.data_source_types]]),(0,r.QD)("label",o2,(0,d.WA)(e.data_source_type_name),1)])))),128))])])):(0,r.g1)("",!0)])]),(0,r.QD)("div",n2,[a[20]||(a[20]=(0,r.QD)("label",{class:"form-label"},"Field Name",-1)),a[21]||(a[21]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Field Name ",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.field_name}]),"onUpdate:modelValue":a[2]||(a[2]=e=>i.data_source_attribute.field_name=e)},null,2),[[t.Og,i.data_source_attribute.field_name]]),i.errors.field_name?((0,r.Wz)(),(0,r.An)("span",d2,(0,d.WA)(i.errors.field_name[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",c2,[a[22]||(a[22]=(0,r.QD)("label",{class:"form-label"},"Display Name",-1)),a[23]||(a[23]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Display Name ",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.display_name}]),"onUpdate:modelValue":a[3]||(a[3]=e=>i.data_source_attribute.display_name=e)},null,2),[[t.Og,i.data_source_attribute.display_name]]),i.errors.display_name?((0,r.Wz)(),(0,r.An)("span",u2,(0,d.WA)(i.errors.display_name[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",p2,[a[25]||(a[25]=(0,r.QD)("label",{class:"form-label"},"Field Type",-1)),a[26]||(a[26]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("select",{class:(0,d.WN)(["form-control",{"is-invalid":i.errors.field_type}]),"onUpdate:modelValue":a[4]||(a[4]=e=>i.data_source_attribute.field_type=e)},a[24]||(a[24]=[(0,r.IL)('<option value="" data-v-7ab39278>Select Field Type</option><option value="Text" data-v-7ab39278>Text </option><option value="Dropdown" data-v-7ab39278>Dropdown </option><option value="Number" data-v-7ab39278>Number </option><option value="Date" data-v-7ab39278>Date </option><option value="Date&amp;Time" data-v-7ab39278>Date&amp;Time </option><option value="Color" data-v-7ab39278>Color</option><option value="List" data-v-7ab39278>List</option>',8)]),2),[[t.Ip,i.data_source_attribute.field_type]]),i.errors.field_type?((0,r.Wz)(),(0,r.An)("span",m2,(0,d.WA)(i.errors.field_type[0]),1)):(0,r.g1)("",!0)]),i.list_parameters.length?((0,r.Wz)(),(0,r.An)("div",_2,[a[28]||(a[28]=(0,r.QD)("label",{class:"form-label"},"List",-1)),a[29]||(a[29]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("select",{class:(0,d.WN)(["form-control",{"is-invalid":i.errors.list_parameter_id}]),"onUpdate:modelValue":a[5]||(a[5]=e=>i.data_source_attribute.list_parameter_id=e)},[a[27]||(a[27]=(0,r.QD)("option",{value:""},"Select List",-1)),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.list_parameters,((e,a)=>((0,r.Wz)(),(0,r.An)("option",{key:a,value:e.list_parameter_id},(0,d.WA)(e.list_parameter_name),9,h2)))),128))],2),[[t.Ip,i.data_source_attribute.list_parameter_id]]),i.errors.list_parameter_id?((0,r.Wz)(),(0,r.An)("span",b2,(0,d.WA)(i.errors.list_parameter_id[0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0),(0,r.QD)("div",v2,[a[30]||(a[30]=(0,r.QD)("label",{class:"form-label"},"Field Value",-1)),"Dropdown"===i.data_source_attribute.field_type?((0,r.Wz)(),(0,r.An)("span",y2," *")):(0,r.g1)("",!0),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Field Value",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.field_values}]),"onUpdate:modelValue":a[6]||(a[6]=e=>i.data_source_attribute.field_values=e)},null,2),[[t.Og,i.data_source_attribute.field_values]]),i.errors.field_values?((0,r.Wz)(),(0,r.An)("span",g2,(0,d.WA)(i.errors.field_values[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",D2,[a[31]||(a[31]=(0,r.QD)("label",{class:"form-label"},"Field Length",-1)),a[32]||(a[32]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"number",placeholder:"Field Length",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.field_length}]),"onUpdate:modelValue":a[7]||(a[7]=e=>i.data_source_attribute.field_length=e)},null,2),[[t.Og,i.data_source_attribute.field_length]]),i.errors.field_length?((0,r.Wz)(),(0,r.An)("span",Q2,(0,d.WA)(i.errors.field_length[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",f2,[a[34]||(a[34]=(0,r.QD)("label",{class:"form-label"},"Is Required",-1)),a[35]||(a[35]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("select",{class:(0,d.WN)(["form-control",{"is-invalid":i.errors.is_required}]),"onUpdate:modelValue":a[8]||(a[8]=e=>i.data_source_attribute.is_required=e)},a[33]||(a[33]=[(0,r.QD)("option",{value:""},"Select Is Required",-1),(0,r.QD)("option",{value:"1"},"Yes ",-1),(0,r.QD)("option",{value:"0"},"No ",-1)]),2),[[t.Ip,i.data_source_attribute.is_required]]),i.errors.is_required?((0,r.Wz)(),(0,r.An)("span",k2,(0,d.WA)(i.errors.is_required[0]),1)):(0,r.g1)("",!0)])])]),(0,r.QD)("div",w2,[(0,r.QD)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[9]||(a[9]=(0,t.Y7)((e=>o.discard()),["prevent"]))},a[36]||(a[36]=[(0,r.QD)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.mY)(" Discard")])),(0,r.QD)("button",A2,[i.status?((0,r.Wz)(),(0,r.An)("span",W2,a[37]||(a[37]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Submit")]))):((0,r.Wz)(),(0,r.An)("span",z2,a[38]||(a[38]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Update")])))])])])],32)])])])}var P2={components:{},name:"DataSourceAttributes.Create",data(){return{data_source_attribute:{field_name:"",display_name:"",field_type:"",field_values:"",field_length:"",is_required:"",data_source_type_id:"",data_source_types:[],list_parameter_id:""},data_source_types:[],data_source_attributes:[],list_parameters:[],errors:[],status:!0,data_source_type_status:!1}},beforeRouteEnter(e,a,s){s((a=>{if(a.getDataSourceTypes(),"DataSourceAttributes.Create"==e.name);else{a.status=!1;let s={uri:"getDataSourceAttribute",data:{data_source_attribute_id:e.params.data_source_attribute_id}};a.$store.dispatch("post",s).then((function(e){a.data_source_attribute=e.data.data})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}}))},watch:{"data_source_attribute.field_type":function(){"List"==this.data_source_attribute.field_type?this.getListParameters():(this.list_parameters=[],this.data_source_attribute.list_parameter_id="")}},methods:{toggleDataSourceTypeStatus(){this.data_source_type_status=!this.data_source_type_status},submitForm(){let e=this;e.status?e.addDataSourceAttribute():e.updateDataSourceAttribute()},getDataSourceTypes(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getDataSourceTypes"}).then((s=>{a.hide(),e.data_source_types=s.data.data,console.log(e.data_source_types)})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},addDataSourceAttribute(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"addDataSourceAttribute",data:this.data_source_attribute}).then((s=>{a.hide(),this.$store.dispatch("success","Data Source Attribute created successfully"),e.$router.push("/data_source_attributes")})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},updateDataSourceAttribute(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"updateDataSourceAttribute",data:this.data_source_attribute}).then((e=>{a.hide(),this.$store.dispatch("success","Data Source Attribute updated successfully"),this.$router.push("/data_source_attributes")})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getDataSourceAttribute(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"getDataSourceAttribute",data:this.data_source_attribute}).then((e=>{a.hide(),this.data_source_attributes=e.data.data})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getListParameters(){let e=this,a=this.$loading.show();e.$store.dispatch("post",{uri:"getListParameters"}).then((s=>{a.hide(),e.list_parameters=s.data.data})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},discard(){let e=this;e.data_source_attribute.field_name="",e.data_source_attribute.field_type="",e.data_source_attribute.display_name="",e.data_source_attribute.field_values="",e.data_source_attribute.field_length="",e.data_source_attribute.is_required="",e.data_source_attribute.data_source_type_id="",e.data_source_attribute.list_parameter_id="",e.data_source_attribute.data_source_types=[],e.errors=[],e.status=!0}}};const C2=(0,Ce.c)(P2,[["render",x2],["__scopeId","data-v-7ab39278"]]);var $2=C2;const S2={class:""},U2={class:"d-sm-flex align-items-center justify-content-between mb-2"},V2={class:"breadcrumb fs-sm mb-1"},j2={class:"breadcrumb-item","aria-current":"page"},Y2={class:"row"},T2={class:"col-12"},N2={class:"card card-one"},R2={class:"card-body"},q2={class:"table-responsive table-responsive-sm"},E2={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},K2={style:{"background-color":"#9b9b9b",color:"white"}},I2={key:0,class:"ri-arrow-up-line"},F2={key:1,class:"ri-arrow-down-line"},O2={key:2,class:"fas fa-sort"},L2={key:0,class:"ri-arrow-up-line"},B2={key:1,class:"ri-arrow-down-line"},M2={key:2,class:"fas fa-sort"},Z2={key:0,class:"ri-arrow-up-line"},H2={key:1,class:"ri-arrow-down-line"},J2={key:2,class:"fas fa-sort"},G2={key:0,class:"ri-arrow-up-line"},X2={key:1,class:"ri-arrow-down-line"},e3={key:2,class:"fas fa-sort"},a3={key:0,class:"ri-arrow-up-line"},s3={key:1,class:"ri-arrow-down-line"},t3={key:2,class:"fas fa-sort"},r3={key:0,class:"ri-arrow-up-line"},l3={key:1,class:"ri-arrow-down-line"},i3={key:2,class:"fas fa-sort"},o3={key:0},n3={class:"text-center"},d3={class:"text-center"},c3={class:"form-switch"},u3=["id","checked","value","onChange"],p3=["for"],m3={class:"text-center"},_3=["onClick"],h3={class:"card-footer"},b3={class:"d-flex justify-content-between align-items-center"};function v3(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("Pagination");return(0,r.Wz)(),(0,r.An)("div",S2,[(0,r.QD)("div",U2,[(0,r.QD)("div",null,[(0,r.QD)("ol",V2,[(0,r.QD)("li",j2,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[10]||(a[10]=[(0,r.mY)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.QD)("li",{class:"breadcrumb-item","aria-current":"page"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Attributes")],-1)),a[12]||(a[12]=(0,r.QD)("li",{class:"breadcrumb-item active","aria-current":"page"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Data Source Attributes")],-1))]),a[13]||(a[13]=(0,r.QD)("h4",{class:"main-title mb-0"},"Data Source Attributes",-1))]),(0,r.K2)(n,{to:"/data_source_attributes/create",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.Ql)((()=>a[14]||(a[14]=[(0,r.QD)("i",{class:"ri-list-check"},null,-1),(0,r.mY)(" ADD DATA SOURCE ATTRIBUTE")]))),_:1})]),(0,r.QD)("div",Y2,[(0,r.QD)("div",T2,[(0,r.QD)("div",N2,[a[28]||(a[28]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Data Source Attributes")],-1)),(0,r.QD)("div",R2,[(0,r.wt)((0,r.QD)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.search=e),onKeypress:a[1]||(a[1]=(0,t.jj)((e=>o.search()),["enter"]))},null,544),[[t.Og,i.meta.search]]),(0,r.QD)("div",q2,[(0,r.QD)("table",E2,[(0,r.QD)("tr",K2,[a[21]||(a[21]=(0,r.QD)("th",{class:"text-center"},"#",-1)),(0,r.QD)("th",{onClick:a[2]||(a[2]=e=>o.sort("field_name"))},[a[15]||(a[15]=(0,r.mY)(" Field Name ")),(0,r.QD)("span",null,["field_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",I2)):"field_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",F2)):((0,r.Wz)(),(0,r.An)("i",O2))])]),(0,r.QD)("th",{onClick:a[3]||(a[3]=e=>o.sort("display_name"))},[a[16]||(a[16]=(0,r.mY)(" Display Name ")),(0,r.QD)("span",null,["display_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",L2)):"display_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",B2)):((0,r.Wz)(),(0,r.An)("i",M2))])]),(0,r.QD)("th",{onClick:a[4]||(a[4]=e=>o.sort("field_type"))},[a[17]||(a[17]=(0,r.mY)(" Field Type ")),(0,r.QD)("span",null,["field_type"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Z2)):"field_type"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",H2)):((0,r.Wz)(),(0,r.An)("i",J2))])]),(0,r.QD)("th",{onClick:a[5]||(a[5]=e=>o.sort("field_values"))},[a[18]||(a[18]=(0,r.mY)(" Field Values ")),(0,r.QD)("span",null,["field_values"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",G2)):"field_values"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",X2)):((0,r.Wz)(),(0,r.An)("i",e3))])]),(0,r.QD)("th",{onClick:a[6]||(a[6]=e=>o.sort("field_length"))},[a[19]||(a[19]=(0,r.mY)(" Field Length ")),(0,r.QD)("span",null,["field_length"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",a3)):"field_length"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",s3)):((0,r.Wz)(),(0,r.An)("i",t3))])]),(0,r.QD)("th",{onClick:a[7]||(a[7]=e=>o.sort("is_required"))},[a[20]||(a[20]=(0,r.mY)(" Is Required ")),(0,r.QD)("span",null,["is_required"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",r3)):"is_required"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",l3)):((0,r.Wz)(),(0,r.An)("i",i3))])]),a[22]||(a[22]=(0,r.QD)("th",null," Data Source Type ",-1)),a[23]||(a[23]=(0,r.QD)("th",{class:"text-center"},"Status",-1)),a[24]||(a[24]=(0,r.QD)("th",{class:"text-center"},"Actions",-1))]),(0,r.QD)("tbody",null,[0==i.datasourceattributes.length?((0,r.Wz)(),(0,r.An)("tr",o3,a[25]||(a[25]=[(0,r.QD)("td",{colspan:"10",class:"text-center"},"No records found",-1)]))):(0,r.g1)("",!0),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.datasourceattributes,((e,s)=>((0,r.Wz)(),(0,r.An)("tr",{key:s},[(0,r.QD)("td",n3,(0,d.WA)(i.meta.from+s),1),(0,r.QD)("td",null,(0,d.WA)(e.field_name),1),(0,r.QD)("td",null,(0,d.WA)(e.display_name),1),(0,r.QD)("td",null,(0,d.WA)(e.field_type),1),(0,r.QD)("td",null,(0,d.WA)(e.field_values),1),(0,r.QD)("td",null,(0,d.WA)(e.field_length),1),(0,r.QD)("td",null,(0,d.WA)(1==e?.is_required?"Yes":"No"),1),(0,r.QD)("td",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(e.data_source_attribute_types,((e,a)=>((0,r.Wz)(),(0,r.An)("span",{key:a},(0,d.WA)(e?.data_source_type?.data_source_type_name)+", ",1)))),128))]),(0,r.QD)("td",d3,[(0,r.QD)("div",c3,[(0,r.QD)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"datasourceattribute"+e.data_source_attribute_id,checked:e.status,value:e.status,onChange:a=>o.deleteDataSourceAttribute(e)},null,40,u3),(0,r.QD)("label",{class:"custom-control-label",for:"user"+e.data_source_attribute_id},null,8,p3)])]),(0,r.QD)("td",m3,[e.status?((0,r.Wz)(),(0,r.An)("a",{key:0,href:"javascript:void(0)",class:"text-success",onClick:a=>o.editDataSourceAttribute(e)},a[26]||(a[26]=[(0,r.QD)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,_3)):(0,r.g1)("",!0)])])))),128))])])])]),(0,r.QD)("div",h3,[(0,r.QD)("div",b3,[(0,r.wt)((0,r.QD)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.per_page=e),onChange:a[9]||(a[9]=(...a)=>e.onPerPageChange&&e.onPerPageChange(...a))},a[27]||(a[27]=[(0,r.QD)("option",null,"10",-1),(0,r.QD)("option",null,"15",-1),(0,r.QD)("option",null,"20",-1),(0,r.QD)("option",null,"25",-1),(0,r.QD)("option",null,"30",-1)]),544),[[t.Ip,i.meta.per_page]]),(0,r.QD)("span",null,"Showing "+(0,d.WA)(i.meta.from)+" to "+(0,d.WA)(i.meta.to)+" of "+(0,d.WA)(i.meta.totalRows)+" entries",1),(0,r.K2)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var y3={components:{Pagination:Zt},data(){return{meta:{search:"",order_by:"asc",keyword:"data_source_attribute_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},datasourceattributes:[],errors:[],status:!0}},beforeRouteEnter(e,a,s){s((e=>{"DataSourceAttributes.Edit"!=a.name?e.$store.commit("setCurrentPage",e.meta.page):e.meta.page=e.$store.getters.current_page}))},mounted(){this.index()},methods:{index(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"paginateDataSourceAttributes",data:e.meta}).then((s=>{a.hide(),this.datasourceattributes=s.data.data,this.meta.totalRows=s.data.meta.total,this.meta.from=s.data.meta.from,this.meta.lastPage=s.data.meta.last_page,this.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},editDataSourceAttribute(e){this.$router.push("/data_source_attributes/"+e.data_source_attribute_id+"/edit")},deleteDataSourceAttribute(e){let a=this,s=a.$loading.show();a.$store.dispatch("post",{uri:"deleteDataSourceAttribute",data:e}).then((e=>{s.hide(),a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){s.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},search(){let e=this;e.meta.page=1,e.index()},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()}}};const g3=(0,Ce.c)(y3,[["render",v3]]);var D3=g3;const Q3={class:""},f3={class:"d-sm-flex align-items-center justify-content-between mb-2"},k3={class:"breadcrumb fs-sm mb-1"},w3={class:"breadcrumb-item","aria-current":"page"},A3={class:"breadcrumb-item","aria-current":"page"},W3={key:0,class:"breadcrumb-item","aria-current":"page"},z3={key:1,class:"breadcrumb-item active","aria-current":"page"},x3={class:"row"},P3={class:"col-12"},C3={class:"card card-one"},$3={class:"card-header d-flex justify-content-between"},S3={key:0,class:"card-title"},U3={key:1,class:"card-title"},V3={class:"card-body"},j3={class:"row g-2"},Y3={class:"col-md-3"},T3={class:"form-label"},N3={key:0,class:"invalid-feedback"},R3={key:0,class:"multiselect"},q3=["value"],E3={style:{"margin-left":"5px"}},K3={class:"col-md-3"},I3={key:0,class:"invalid-feedback"},F3={class:"col-md-3"},O3={key:0,class:"invalid-feedback"},L3={class:"col-md-3"},B3={key:0,class:"invalid-feedback"},M3={key:0,class:"col-md-4"},Z3=["value"],H3={key:0,class:"invalid-feedback"},J3={class:"col-md-4"},G3={key:0,class:"text-danger"},X3={key:1,class:"invalid-feedback"},e4={class:"col-md-4"},a4={key:0,class:"invalid-feedback"},s4={class:"col-md-4"},t4={key:0,class:"invalid-feedback"},r4={class:"card-footer text-end"},l4={type:"submit",class:"btn btn-primary"},i4={key:0},o4={key:1};function n4(e,a,s,l,i,o){const n=(0,r.E1)("router-link");return(0,r.Wz)(),(0,r.An)("div",Q3,[(0,r.QD)("div",f3,[(0,r.QD)("div",null,[(0,r.QD)("ol",k3,[(0,r.QD)("li",w3,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[11]||(a[11]=[(0,r.mY)("Dashboard")]))),_:1})]),a[13]||(a[13]=(0,r.QD)("li",{class:"breadcrumb-item","aria-current":"page"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Attributes")],-1)),(0,r.QD)("li",A3,[(0,r.K2)(n,{to:"/variable_attributes"},{default:(0,r.Ql)((()=>a[12]||(a[12]=[(0,r.mY)("Variable Attributes")]))),_:1})]),i.status?((0,r.Wz)(),(0,r.An)("li",W3,"New Variable Attribute")):((0,r.Wz)(),(0,r.An)("li",z3,"Update Variable Attribute"))]),a[14]||(a[14]=(0,r.QD)("h4",{class:"main-title mb-0"},"Variable Attribute",-1))]),(0,r.K2)(n,{to:"/variable_attributes",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.Ql)((()=>a[15]||(a[15]=[(0,r.QD)("i",{class:"ri-list-check"},null,-1),(0,r.mY)(" VARIABLE ATTRIBUTES")]))),_:1})]),(0,r.QD)("div",x3,[(0,r.QD)("div",P3,[(0,r.QD)("form",{onSubmit:a[10]||(a[10]=(0,t.Y7)(((...e)=>o.submitForm&&o.submitForm(...e)),["prevent"]))},[(0,r.QD)("div",C3,[(0,r.QD)("div",$3,[i.status?((0,r.Wz)(),(0,r.An)("h6",S3,"New Variable Attribute")):((0,r.Wz)(),(0,r.An)("h6",U3,"Update Variable Attribute"))]),(0,r.QD)("div",V3,[(0,r.QD)("div",j3,[(0,r.QD)("div",Y3,[(0,r.QD)("div",T3,[a[18]||(a[18]=(0,r.QD)("label",{class:"form-label"},"Variable Type",-1)),a[19]||(a[19]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.QD)("div",{class:"dropdown",onClick:a[0]||(a[0]=e=>o.toggleVariableTypeStatus())},[a[17]||(a[17]=(0,r.QD)("div",{class:"overselect"},null,-1)),(0,r.QD)("select",{class:(0,d.WN)(["form-control form-control",{"is-invalid":i.errors.variable_types}])},a[16]||(a[16]=[(0,r.QD)("option",{value:""},"Select Variable Type",-1)]),2),i.errors.variable_types?((0,r.Wz)(),(0,r.An)("span",N3,(0,d.WA)(i.errors.variable_types[0]),1)):(0,r.g1)("",!0)]),i.variable_type_status?((0,r.Wz)(),(0,r.An)("div",R3,[(0,r.QD)("ul",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.variable_types,((e,s)=>((0,r.Wz)(),(0,r.An)("li",{class:"",key:s},[(0,r.wt)((0,r.QD)("input",{type:"checkbox",value:e.variable_type_id,"onUpdate:modelValue":a[1]||(a[1]=e=>i.variable_attribute.variable_types=e),style:{padding:"2px"}},null,8,q3),[[t.cV,i.variable_attribute.variable_types]]),(0,r.QD)("label",E3,(0,d.WA)(e.variable_type_name),1)])))),128))])])):(0,r.g1)("",!0)])]),(0,r.QD)("div",K3,[a[20]||(a[20]=(0,r.QD)("label",{class:"form-label"},"Field Name",-1)),a[21]||(a[21]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Field Name ",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.field_name}]),"onUpdate:modelValue":a[2]||(a[2]=e=>i.variable_attribute.field_name=e)},null,2),[[t.Og,i.variable_attribute.field_name]]),i.errors.field_name?((0,r.Wz)(),(0,r.An)("span",I3,(0,d.WA)(i.errors.field_name[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",F3,[a[22]||(a[22]=(0,r.QD)("label",{class:"form-label"},"Display Name",-1)),a[23]||(a[23]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Display Name ",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.display_name}]),"onUpdate:modelValue":a[3]||(a[3]=e=>i.variable_attribute.display_name=e)},null,2),[[t.Og,i.variable_attribute.display_name]]),i.errors.display_name?((0,r.Wz)(),(0,r.An)("span",O3,(0,d.WA)(i.errors.display_name[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",L3,[a[25]||(a[25]=(0,r.QD)("label",{class:"form-label"},"Field Type",-1)),a[26]||(a[26]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("select",{class:(0,d.WN)(["form-control",{"is-invalid":i.errors.field_type}]),"onUpdate:modelValue":a[4]||(a[4]=e=>i.variable_attribute.field_type=e)},a[24]||(a[24]=[(0,r.IL)('<option value="" data-v-51a72686>Select Field Type</option><option value="Text" data-v-51a72686>Text </option><option value="Dropdown" data-v-51a72686>Dropdown </option><option value="Number" data-v-51a72686>Number </option><option value="Date" data-v-51a72686>Date </option><option value="Date&amp;Time" data-v-51a72686>Date&amp;Time </option><option value="Color" data-v-51a72686>Color</option><option value="List" data-v-51a72686>List</option>',8)]),2),[[t.Ip,i.variable_attribute.field_type]]),i.errors.field_type?((0,r.Wz)(),(0,r.An)("span",B3,(0,d.WA)(i.errors.field_type[0]),1)):(0,r.g1)("",!0)]),i.list_parameters.length?((0,r.Wz)(),(0,r.An)("div",M3,[a[28]||(a[28]=(0,r.QD)("label",{class:"form-label"},"List",-1)),a[29]||(a[29]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("select",{class:(0,d.WN)(["form-control",{"is-invalid":i.errors.list_parameter_id}]),"onUpdate:modelValue":a[5]||(a[5]=e=>i.variable_attribute.list_parameter_id=e)},[a[27]||(a[27]=(0,r.QD)("option",{value:""},"Select List",-1)),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.list_parameters,((e,a)=>((0,r.Wz)(),(0,r.An)("option",{key:a,value:e.list_parameter_id},(0,d.WA)(e.list_parameter_name),9,Z3)))),128))],2),[[t.Ip,i.variable_attribute.list_parameter_id]]),i.errors.list_parameter_id?((0,r.Wz)(),(0,r.An)("span",H3,(0,d.WA)(i.errors.list_parameter_id[0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0),(0,r.QD)("div",J3,[a[30]||(a[30]=(0,r.QD)("label",{class:"form-label"},"Field Value",-1)),"Dropdown"===i.variable_attribute.field_type?((0,r.Wz)(),(0,r.An)("span",G3," *")):(0,r.g1)("",!0),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Field Value",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.field_values}]),"onUpdate:modelValue":a[6]||(a[6]=e=>i.variable_attribute.field_values=e)},null,2),[[t.Og,i.variable_attribute.field_values]]),i.errors.field_values?((0,r.Wz)(),(0,r.An)("span",X3,(0,d.WA)(i.errors.field_values[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",e4,[a[31]||(a[31]=(0,r.QD)("label",{class:"form-label"},"Field Length",-1)),a[32]||(a[32]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"number",placeholder:"Field Length",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.field_length}]),"onUpdate:modelValue":a[7]||(a[7]=e=>i.variable_attribute.field_length=e)},null,2),[[t.Og,i.variable_attribute.field_length]]),i.errors.field_length?((0,r.Wz)(),(0,r.An)("span",a4,(0,d.WA)(i.errors.field_length[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",s4,[a[34]||(a[34]=(0,r.QD)("label",{class:"form-label"},"Is Required",-1)),a[35]||(a[35]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("select",{class:(0,d.WN)(["form-control",{"is-invalid":i.errors.is_required}]),"onUpdate:modelValue":a[8]||(a[8]=e=>i.variable_attribute.is_required=e)},a[33]||(a[33]=[(0,r.QD)("option",{value:""},"Select Is Required",-1),(0,r.QD)("option",{value:"1"},"Yes ",-1),(0,r.QD)("option",{value:"0"},"No ",-1)]),2),[[t.Ip,i.variable_attribute.is_required]]),i.errors.is_required?((0,r.Wz)(),(0,r.An)("span",t4,(0,d.WA)(i.errors.is_required[0]),1)):(0,r.g1)("",!0)])])]),(0,r.QD)("div",r4,[(0,r.QD)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[9]||(a[9]=(0,t.Y7)((e=>o.discard()),["prevent"]))},a[36]||(a[36]=[(0,r.QD)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.mY)(" Discard")])),(0,r.QD)("button",l4,[i.status?((0,r.Wz)(),(0,r.An)("span",i4,a[37]||(a[37]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Submit")]))):((0,r.Wz)(),(0,r.An)("span",o4,a[38]||(a[38]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Update")])))])])])],32)])])])}var d4={components:{},name:"VariableAttributes.Create",data(){return{variable_attribute:{field_name:"",display_name:"",field_type:"",field_values:"",field_length:"",is_required:"",variable_type_id:"",variable_types:[],list_parameter_id:""},variable_types:[],variable_attributes:[],list_parameters:[],errors:[],status:!0,variable_type_status:!1}},beforeRouteEnter(e,a,s){s((a=>{if(a.getVariableTypes(),"VariableAttributes.Create"==e.name);else{a.status=!1;let s={uri:"getVariableAttribute",data:{variable_attribute_id:e.params.variable_attribute_id}};a.$store.dispatch("post",s).then((function(e){a.variable_attribute=e.data.data})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}}))},watch:{"variable_attribute.field_type":function(){"List"==this.variable_attribute.field_type?this.getListParameters():(this.list_parameters=[],this.variable_attribute.list_parameter_id="")}},methods:{toggleVariableTypeStatus(){this.variable_type_status=!this.variable_type_status},submitForm(){let e=this;e.status?e.addVariableAttribute():e.updateVariableAttribute()},getVariableTypes(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getVariableTypes"}).then((s=>{a.hide(),e.variable_types=s.data.data,console.log(e.variable_types)})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},addVariableAttribute(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"addVariableAttribute",data:this.variable_attribute}).then((s=>{a.hide(),this.$store.dispatch("success","Variable Attribute created successfully"),e.$router.push("/variable_attributes")})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},updateVariableAttribute(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"updateVariableAttribute",data:this.variable_attribute}).then((e=>{a.hide(),this.$store.dispatch("success","Variable Attribute updated successfully"),this.$router.push("/variable_attributes")})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getVariableAttribute(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"getVariableAttribute",data:this.variable_attribute}).then((e=>{a.hide(),this.variable_attributes=e.data.data})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getListParameters(){let e=this,a=this.$loading.show();e.$store.dispatch("post",{uri:"getListParameters"}).then((s=>{a.hide(),e.list_parameters=s.data.data})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},discard(){let e=this;e.variable_attribute.field_name="",e.variable_attribute.field_type="",e.variable_attribute.display_name="",e.variable_attribute.field_values="",e.variable_attribute.field_length="",e.variable_attribute.is_required="",e.variable_attribute.variable_type_id="",e.variable_attribute.list_parameter_id="",e.variable_attribute.variable_types=[],e.errors=[],e.status=!0}}};const c4=(0,Ce.c)(d4,[["render",n4],["__scopeId","data-v-51a72686"]]);var u4=c4;const p4={class:""},m4={class:"d-sm-flex align-items-center justify-content-between mb-2"},_4={class:"breadcrumb fs-sm mb-1"},h4={class:"breadcrumb-item","aria-current":"page"},b4={class:"row"},v4={class:"col-12"},y4={class:"card card-one"},g4={class:"card-body"},D4={class:"table-responsive table-responsive-sm"},Q4={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},f4={style:{"background-color":"#9b9b9b",color:"white"}},k4={key:0,class:"ri-arrow-up-line"},w4={key:1,class:"ri-arrow-down-line"},A4={key:2,class:"fas fa-sort"},W4={key:0,class:"ri-arrow-up-line"},z4={key:1,class:"ri-arrow-down-line"},x4={key:2,class:"fas fa-sort"},P4={key:0,class:"ri-arrow-up-line"},C4={key:1,class:"ri-arrow-down-line"},$4={key:2,class:"fas fa-sort"},S4={key:0,class:"ri-arrow-up-line"},U4={key:1,class:"ri-arrow-down-line"},V4={key:2,class:"fas fa-sort"},j4={key:0,class:"ri-arrow-up-line"},Y4={key:1,class:"ri-arrow-down-line"},T4={key:2,class:"fas fa-sort"},N4={key:0,class:"ri-arrow-up-line"},R4={key:1,class:"ri-arrow-down-line"},q4={key:2,class:"fas fa-sort"},E4={key:0},K4={class:"text-center"},I4={class:"text-center"},F4={class:"form-switch"},O4=["id","checked","value","onChange"],L4=["for"],B4={class:"text-center"},M4=["onClick"],Z4={class:"card-footer"},H4={class:"d-flex justify-content-between align-items-center"};function J4(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("Pagination");return(0,r.Wz)(),(0,r.An)("div",p4,[(0,r.QD)("div",m4,[(0,r.QD)("div",null,[(0,r.QD)("ol",_4,[(0,r.QD)("li",h4,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[10]||(a[10]=[(0,r.mY)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.QD)("li",{class:"breadcrumb-item","aria-current":"page"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Attributes")],-1)),a[12]||(a[12]=(0,r.QD)("li",{class:"breadcrumb-item active","aria-current":"page"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Variable Attributes")],-1))]),a[13]||(a[13]=(0,r.QD)("h4",{class:"main-title mb-0"},"Variable Attributes",-1))]),(0,r.K2)(n,{to:"/variable_attributes/create",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.Ql)((()=>a[14]||(a[14]=[(0,r.QD)("i",{class:"ri-list-check"},null,-1),(0,r.mY)(" ADD VARIABLE ATTRIBUTE")]))),_:1})]),(0,r.QD)("div",b4,[(0,r.QD)("div",v4,[(0,r.QD)("div",y4,[a[28]||(a[28]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Variable Attributes")],-1)),(0,r.QD)("div",g4,[(0,r.wt)((0,r.QD)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.search=e),onKeypress:a[1]||(a[1]=(0,t.jj)((e=>o.search()),["enter"]))},null,544),[[t.Og,i.meta.search]]),(0,r.QD)("div",D4,[(0,r.QD)("table",Q4,[(0,r.QD)("tr",f4,[a[21]||(a[21]=(0,r.QD)("th",{class:"text-center"},"#",-1)),(0,r.QD)("th",{onClick:a[2]||(a[2]=e=>o.sort("field_name"))},[a[15]||(a[15]=(0,r.mY)(" Field Name ")),(0,r.QD)("span",null,["field_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",k4)):"field_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",w4)):((0,r.Wz)(),(0,r.An)("i",A4))])]),(0,r.QD)("th",{onClick:a[3]||(a[3]=e=>o.sort("display_name"))},[a[16]||(a[16]=(0,r.mY)(" Display Name ")),(0,r.QD)("span",null,["display_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",W4)):"display_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",z4)):((0,r.Wz)(),(0,r.An)("i",x4))])]),(0,r.QD)("th",{onClick:a[4]||(a[4]=e=>o.sort("field_type"))},[a[17]||(a[17]=(0,r.mY)(" Field Type ")),(0,r.QD)("span",null,["field_type"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",P4)):"field_type"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",C4)):((0,r.Wz)(),(0,r.An)("i",$4))])]),(0,r.QD)("th",{onClick:a[5]||(a[5]=e=>o.sort("field_values"))},[a[18]||(a[18]=(0,r.mY)(" Field Values ")),(0,r.QD)("span",null,["field_values"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",S4)):"field_values"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",U4)):((0,r.Wz)(),(0,r.An)("i",V4))])]),(0,r.QD)("th",{onClick:a[6]||(a[6]=e=>o.sort("field_length"))},[a[19]||(a[19]=(0,r.mY)(" Field Length ")),(0,r.QD)("span",null,["field_length"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",j4)):"field_length"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Y4)):((0,r.Wz)(),(0,r.An)("i",T4))])]),(0,r.QD)("th",{onClick:a[7]||(a[7]=e=>o.sort("is_required"))},[a[20]||(a[20]=(0,r.mY)(" Is Required ")),(0,r.QD)("span",null,["is_required"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",N4)):"is_required"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",R4)):((0,r.Wz)(),(0,r.An)("i",q4))])]),a[22]||(a[22]=(0,r.QD)("th",null," Variable Type ",-1)),a[23]||(a[23]=(0,r.QD)("th",{class:"text-center"},"Status",-1)),a[24]||(a[24]=(0,r.QD)("th",{class:"text-center"},"Actions",-1))]),(0,r.QD)("tbody",null,[0==i.variableattributes.length?((0,r.Wz)(),(0,r.An)("tr",E4,a[25]||(a[25]=[(0,r.QD)("td",{colspan:"10",class:"text-center"},"No records found",-1)]))):(0,r.g1)("",!0),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.variableattributes,((e,s)=>((0,r.Wz)(),(0,r.An)("tr",{key:s},[(0,r.QD)("td",K4,(0,d.WA)(i.meta.from+s),1),(0,r.QD)("td",null,(0,d.WA)(e.field_name),1),(0,r.QD)("td",null,(0,d.WA)(e.display_name),1),(0,r.QD)("td",null,(0,d.WA)(e.field_type),1),(0,r.QD)("td",null,(0,d.WA)(e.field_values),1),(0,r.QD)("td",null,(0,d.WA)(e.field_length),1),(0,r.QD)("td",null,(0,d.WA)(1==e?.is_required?"Yes":"No"),1),(0,r.QD)("td",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(e.variable_attribute_types,((e,a)=>((0,r.Wz)(),(0,r.An)("span",{key:a},(0,d.WA)(e?.variable_type?.variable_type_name)+", ",1)))),128))]),(0,r.QD)("td",I4,[(0,r.QD)("div",F4,[(0,r.QD)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"variableattribute"+e.variable_attribute_id,checked:e.status,value:e.status,onChange:a=>o.deleteVariableAttribute(e)},null,40,O4),(0,r.QD)("label",{class:"custom-control-label",for:"user"+e.variable_attribute_id},null,8,L4)])]),(0,r.QD)("td",B4,[e.status?((0,r.Wz)(),(0,r.An)("a",{key:0,href:"javascript:void(0)",class:"text-success",onClick:a=>o.editVariableAttribute(e)},a[26]||(a[26]=[(0,r.QD)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,M4)):(0,r.g1)("",!0)])])))),128))])])])]),(0,r.QD)("div",Z4,[(0,r.QD)("div",H4,[(0,r.wt)((0,r.QD)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.per_page=e),onChange:a[9]||(a[9]=(...a)=>e.onPerPageChange&&e.onPerPageChange(...a))},a[27]||(a[27]=[(0,r.QD)("option",null,"10",-1),(0,r.QD)("option",null,"15",-1),(0,r.QD)("option",null,"20",-1),(0,r.QD)("option",null,"25",-1),(0,r.QD)("option",null,"30",-1)]),544),[[t.Ip,i.meta.per_page]]),(0,r.QD)("span",null,"Showing "+(0,d.WA)(i.meta.from)+" to "+(0,d.WA)(i.meta.to)+" of "+(0,d.WA)(i.meta.totalRows)+" entries",1),(0,r.K2)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var G4={components:{Pagination:Zt},data(){return{meta:{search:"",order_by:"asc",keyword:"variable_attribute_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},variableattributes:[],errors:[],status:!0}},beforeRouteEnter(e,a,s){s((e=>{"VariableAttributes.Edit"!=a.name?e.$store.commit("setCurrentPage",e.meta.page):e.meta.page=e.$store.getters.current_page}))},mounted(){this.index()},methods:{index(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"paginateVariableAttributes",data:e.meta}).then((s=>{a.hide(),this.variableattributes=s.data.data,this.meta.totalRows=s.data.meta.total,this.meta.from=s.data.meta.from,this.meta.lastPage=s.data.meta.last_page,this.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},editVariableAttribute(e){this.$router.push("/variable_attributes/"+e.variable_attribute_id+"/edit")},deleteVariableAttribute(e){let a=this,s=a.$loading.show();a.$store.dispatch("post",{uri:"deleteVariableAttribute",data:e}).then((e=>{s.hide(),a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){s.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},search(){let e=this;e.meta.page=1,e.index()},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()}}};const X4=(0,Ce.c)(G4,[["render",J4]]);var e5=X4;const a5={class:""},s5={class:"d-sm-flex align-items-center justify-content-between mb-2"},t5={class:"breadcrumb fs-sm mb-1"},r5={class:"breadcrumb-item","aria-current":"page"},l5={class:"breadcrumb-item","aria-current":"page"},i5={key:0,class:"breadcrumb-item","aria-current":"page"},o5={key:1,class:"breadcrumb-item active","aria-current":"page"},n5={class:"row"},d5={class:"col-12"},c5={class:"card card-one"},u5={class:"card-header d-flex justify-content-between"},p5={key:0,class:"card-title"},m5={key:1,class:"card-title"},_5={class:"card-body"},h5={class:"row g-2"},b5={class:"col-md-3"},v5={class:"form-label"},y5={key:0,class:"invalid-feedback"},g5={key:0,class:"multiselect"},D5=["value"],Q5={style:{"margin-left":"5px"}},f5={class:"col-md-3"},k5={key:0,class:"invalid-feedback"},w5={class:"col-md-3"},A5={key:0,class:"invalid-feedback"},W5={class:"col-md-3"},z5={key:0,class:"invalid-feedback"},x5={key:0,class:"col-md-4"},P5=["value"],C5={key:0,class:"invalid-feedback"},$5={class:"col-md-4"},S5={key:0,class:"text-danger"},U5={key:1,class:"invalid-feedback"},V5={class:"col-md-4"},j5={key:0,class:"invalid-feedback"},Y5={class:"col-md-4"},T5={key:0,class:"invalid-feedback"},N5={class:"card-footer text-end"},R5={type:"submit",class:"btn btn-primary"},q5={key:0},E5={key:1};function K5(e,a,s,l,i,o){const n=(0,r.E1)("router-link");return(0,r.Wz)(),(0,r.An)("div",a5,[(0,r.QD)("div",s5,[(0,r.QD)("div",null,[(0,r.QD)("ol",t5,[(0,r.QD)("li",r5,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[11]||(a[11]=[(0,r.mY)("Dashboard")]))),_:1})]),a[13]||(a[13]=(0,r.QD)("li",{class:"breadcrumb-item","aria-current":"page"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Attributes")],-1)),(0,r.QD)("li",l5,[(0,r.K2)(n,{to:"/service_attributes"},{default:(0,r.Ql)((()=>a[12]||(a[12]=[(0,r.mY)("Service Attributes")]))),_:1})]),i.status?((0,r.Wz)(),(0,r.An)("li",i5,"New Service Attribute")):((0,r.Wz)(),(0,r.An)("li",o5,"Update Service Attribute"))]),a[14]||(a[14]=(0,r.QD)("h4",{class:"main-title mb-0"},"Service Attribute",-1))]),(0,r.K2)(n,{to:"/service_attributes",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.Ql)((()=>a[15]||(a[15]=[(0,r.QD)("i",{class:"ri-list-check"},null,-1),(0,r.mY)(" SERVICE ATTRIBUTES")]))),_:1})]),(0,r.QD)("div",n5,[(0,r.QD)("div",d5,[(0,r.QD)("form",{onSubmit:a[10]||(a[10]=(0,t.Y7)(((...e)=>o.submitForm&&o.submitForm(...e)),["prevent"]))},[(0,r.QD)("div",c5,[(0,r.QD)("div",u5,[i.status?((0,r.Wz)(),(0,r.An)("h6",p5,"New Service Attribute")):((0,r.Wz)(),(0,r.An)("h6",m5,"Update Service Attribute"))]),(0,r.QD)("div",_5,[(0,r.QD)("div",h5,[(0,r.QD)("div",b5,[(0,r.QD)("div",v5,[a[18]||(a[18]=(0,r.QD)("label",{class:"form-label"},"Service Type",-1)),a[19]||(a[19]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.QD)("div",{class:"dropdown",onClick:a[0]||(a[0]=e=>o.toggleServiceTypeStatus())},[a[17]||(a[17]=(0,r.QD)("div",{class:"overselect"},null,-1)),(0,r.QD)("select",{class:(0,d.WN)(["form-control form-control",{"is-invalid":i.errors.service_types}])},a[16]||(a[16]=[(0,r.QD)("option",{value:""},"Select Service Type",-1)]),2),i.errors.service_types?((0,r.Wz)(),(0,r.An)("span",y5,(0,d.WA)(i.errors.service_types[0]),1)):(0,r.g1)("",!0)]),i.service_type_status?((0,r.Wz)(),(0,r.An)("div",g5,[(0,r.QD)("ul",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.service_types,((e,s)=>((0,r.Wz)(),(0,r.An)("li",{class:"",key:s},[(0,r.wt)((0,r.QD)("input",{type:"checkbox",value:e.service_type_id,"onUpdate:modelValue":a[1]||(a[1]=e=>i.service_attribute.service_types=e),style:{padding:"2px"}},null,8,D5),[[t.cV,i.service_attribute.service_types]]),(0,r.QD)("label",Q5,(0,d.WA)(e.service_type_name),1)])))),128))])])):(0,r.g1)("",!0)])]),(0,r.QD)("div",f5,[a[20]||(a[20]=(0,r.QD)("label",{class:"form-label"},"Field Name",-1)),a[21]||(a[21]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Field Name ",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.field_name}]),"onUpdate:modelValue":a[2]||(a[2]=e=>i.service_attribute.field_name=e)},null,2),[[t.Og,i.service_attribute.field_name]]),i.errors.field_name?((0,r.Wz)(),(0,r.An)("span",k5,(0,d.WA)(i.errors.field_name[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",w5,[a[22]||(a[22]=(0,r.QD)("label",{class:"form-label"},"Display Name",-1)),a[23]||(a[23]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Display Name ",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.display_name}]),"onUpdate:modelValue":a[3]||(a[3]=e=>i.service_attribute.display_name=e)},null,2),[[t.Og,i.service_attribute.display_name]]),i.errors.display_name?((0,r.Wz)(),(0,r.An)("span",A5,(0,d.WA)(i.errors.display_name[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",W5,[a[25]||(a[25]=(0,r.QD)("label",{class:"form-label"},"Field Type",-1)),a[26]||(a[26]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("select",{class:(0,d.WN)(["form-control",{"is-invalid":i.errors.field_type}]),"onUpdate:modelValue":a[4]||(a[4]=e=>i.service_attribute.field_type=e)},a[24]||(a[24]=[(0,r.IL)('<option value="" data-v-442a65e1>Select Field Type</option><option value="Text" data-v-442a65e1>Text </option><option value="Dropdown" data-v-442a65e1>Dropdown </option><option value="Number" data-v-442a65e1>Number </option><option value="Date" data-v-442a65e1>Date </option><option value="Date&amp;Time" data-v-442a65e1>Date&amp;Time </option><option value="Color" data-v-442a65e1>Color</option><option value="List" data-v-442a65e1>List</option>',8)]),2),[[t.Ip,i.service_attribute.field_type]]),i.errors.field_type?((0,r.Wz)(),(0,r.An)("span",z5,(0,d.WA)(i.errors.field_type[0]),1)):(0,r.g1)("",!0)]),i.list_parameters.length?((0,r.Wz)(),(0,r.An)("div",x5,[a[28]||(a[28]=(0,r.QD)("label",{class:"form-label"},"List",-1)),a[29]||(a[29]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("select",{class:(0,d.WN)(["form-control",{"is-invalid":i.errors.list_parameter_id}]),"onUpdate:modelValue":a[5]||(a[5]=e=>i.service_attribute.list_parameter_id=e)},[a[27]||(a[27]=(0,r.QD)("option",{value:""},"Select List",-1)),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.list_parameters,((e,a)=>((0,r.Wz)(),(0,r.An)("option",{key:a,value:e.list_parameter_id},(0,d.WA)(e.list_parameter_name),9,P5)))),128))],2),[[t.Ip,i.service_attribute.list_parameter_id]]),i.errors.list_parameter_id?((0,r.Wz)(),(0,r.An)("span",C5,(0,d.WA)(i.errors.list_parameter_id[0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0),(0,r.QD)("div",$5,[a[30]||(a[30]=(0,r.QD)("label",{class:"form-label"},"Field Value",-1)),"Dropdown"===i.service_attribute.field_type?((0,r.Wz)(),(0,r.An)("span",S5," *")):(0,r.g1)("",!0),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Field Value",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.field_values}]),"onUpdate:modelValue":a[6]||(a[6]=e=>i.service_attribute.field_values=e)},null,2),[[t.Og,i.service_attribute.field_values]]),i.errors.field_values?((0,r.Wz)(),(0,r.An)("span",U5,(0,d.WA)(i.errors.field_values[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",V5,[a[31]||(a[31]=(0,r.QD)("label",{class:"form-label"},"Field Length",-1)),a[32]||(a[32]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Field Length",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.field_length}]),"onUpdate:modelValue":a[7]||(a[7]=e=>i.service_attribute.field_length=e)},null,2),[[t.Og,i.service_attribute.field_length]]),i.errors.field_length?((0,r.Wz)(),(0,r.An)("span",j5,(0,d.WA)(i.errors.field_length[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",Y5,[a[34]||(a[34]=(0,r.QD)("label",{class:"form-label"},"Is Required",-1)),a[35]||(a[35]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("select",{class:(0,d.WN)(["form-control",{"is-invalid":i.errors.is_required}]),"onUpdate:modelValue":a[8]||(a[8]=e=>i.service_attribute.is_required=e)},a[33]||(a[33]=[(0,r.QD)("option",{value:""},"Select Is Required",-1),(0,r.QD)("option",{value:"1"},"Yes ",-1),(0,r.QD)("option",{value:"0"},"No ",-1)]),2),[[t.Ip,i.service_attribute.is_required]]),i.errors.is_required?((0,r.Wz)(),(0,r.An)("span",T5,(0,d.WA)(i.errors.is_required[0]),1)):(0,r.g1)("",!0)])])]),(0,r.QD)("div",N5,[(0,r.QD)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[9]||(a[9]=(0,t.Y7)((e=>o.discard()),["prevent"]))},a[36]||(a[36]=[(0,r.QD)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.mY)(" Discard")])),(0,r.QD)("button",R5,[i.status?((0,r.Wz)(),(0,r.An)("span",q5,a[37]||(a[37]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Submit")]))):((0,r.Wz)(),(0,r.An)("span",E5,a[38]||(a[38]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Update")])))])])])],32)])])])}var I5={components:{},name:"ServiceAttributes.Create",data(){return{service_attribute:{field_name:"",display_name:"",field_type:"",field_values:"",field_length:"",is_required:"",service_type_id:"",service_types:[],list_parameter_id:""},service_types:[],service_attributes:[],list_parameters:[],errors:[],status:!0,service_type_status:!1}},beforeRouteEnter(e,a,s){s((a=>{if(a.getServiceTypes(),"ServiceAttributes.Create"==e.name);else{a.status=!1;let s={uri:"getServiceAttribute",data:{service_attribute_id:e.params.service_attribute_id}};a.$store.dispatch("post",s).then((function(e){a.service_attribute=e.data.data})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}}))},watch:{"service_attribute.field_type":function(){"List"==this.service_attribute.field_type?this.getListParameters():(this.list_parameters=[],this.service_attribute.list_parameter_id="")}},methods:{toggleServiceTypeStatus(){this.service_type_status=!this.service_type_status},submitForm(){let e=this;e.status?e.addServiceAttribute():e.updateServiceAttribute()},getServiceTypes(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getServiceTypes"}).then((s=>{a.hide(),e.service_types=s.data.data,console.log(e.service_types)})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},addServiceAttribute(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"addServiceAttribute",data:this.service_attribute}).then((s=>{a.hide(),this.$store.dispatch("success","Service Attribute created successfully"),e.$router.push("/service_attributes")})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},updateServiceAttribute(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"updateServiceAttribute",data:this.service_attribute}).then((e=>{a.hide(),this.$store.dispatch("success","Service Attribute updated successfully"),this.$router.push("/service_attributes")})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getListParameters(){let e=this,a=this.$loading.show();e.$store.dispatch("post",{uri:"getListParameters"}).then((s=>{a.hide(),e.list_parameters=s.data.data})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getServiceAttribute(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"getServiceAttribute",data:this.service_attribute}).then((e=>{a.hide(),this.service_attributes=e.data.data})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},discard(){let e=this;e.service_attribute.field_name="",e.service_attribute.field_type="",e.service_attribute.display_name="",e.service_attribute.field_values="",e.service_attribute.field_length="",e.service_attribute.is_required="",e.service_attribute.service_type_id="",e.service_attribute.list_parameter_id="",e.service_attribute.service_types=[],e.errors=[],e.status=!0}}};const F5=(0,Ce.c)(I5,[["render",K5],["__scopeId","data-v-442a65e1"]]);var O5=F5;const L5={class:""},B5={class:"d-sm-flex align-items-center justify-content-between mb-2"},M5={class:"breadcrumb fs-sm mb-1"},Z5={class:"breadcrumb-item","aria-current":"page"},H5={class:"row"},J5={class:"col-12"},G5={class:"card card-one"},X5={class:"card-body"},e8={class:"table-responsive table-responsive-sm"},a8={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},s8={style:{"background-color":"#9b9b9b",color:"white"}},t8={key:0,class:"ri-arrow-up-line"},r8={key:1,class:"ri-arrow-down-line"},l8={key:2,class:"fas fa-sort"},i8={key:0,class:"ri-arrow-up-line"},o8={key:1,class:"ri-arrow-down-line"},n8={key:2,class:"fas fa-sort"},d8={key:0,class:"ri-arrow-up-line"},c8={key:1,class:"ri-arrow-down-line"},u8={key:2,class:"fas fa-sort"},p8={key:0,class:"ri-arrow-up-line"},m8={key:1,class:"ri-arrow-down-line"},_8={key:2,class:"fas fa-sort"},h8={key:0,class:"ri-arrow-up-line"},b8={key:1,class:"ri-arrow-down-line"},v8={key:2,class:"fas fa-sort"},y8={key:0,class:"ri-arrow-up-line"},g8={key:1,class:"ri-arrow-down-line"},D8={key:2,class:"fas fa-sort"},Q8={key:0},f8={class:"text-center"},k8={class:"text-center"},w8={class:"form-switch"},A8=["id","checked","value","onChange"],W8=["for"],z8={class:"text-center"},x8=["onClick"],P8={class:"card-footer"},C8={class:"d-flex justify-content-between align-items-center"};function $8(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("Pagination");return(0,r.Wz)(),(0,r.An)("div",L5,[(0,r.QD)("div",B5,[(0,r.QD)("div",null,[(0,r.QD)("ol",M5,[(0,r.QD)("li",Z5,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[10]||(a[10]=[(0,r.mY)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.QD)("li",{class:"breadcrumb-item","aria-current":"page"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Attributes")],-1)),a[12]||(a[12]=(0,r.QD)("li",{class:"breadcrumb-item active","aria-current":"page"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Service Attributes")],-1))]),a[13]||(a[13]=(0,r.QD)("h4",{class:"main-title mb-0"},"Service Attributes",-1))]),(0,r.K2)(n,{to:"/service_attributes/create",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.Ql)((()=>a[14]||(a[14]=[(0,r.QD)("i",{class:"ri-list-check"},null,-1),(0,r.mY)(" ADD SERVICE ATTRIBUTE")]))),_:1})]),(0,r.QD)("div",H5,[(0,r.QD)("div",J5,[(0,r.QD)("div",G5,[a[28]||(a[28]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Service Attributes")],-1)),(0,r.QD)("div",X5,[(0,r.wt)((0,r.QD)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.search=e),onKeypress:a[1]||(a[1]=(0,t.jj)((e=>o.search()),["enter"]))},null,544),[[t.Og,i.meta.search]]),(0,r.QD)("div",e8,[(0,r.QD)("table",a8,[(0,r.QD)("tr",s8,[a[21]||(a[21]=(0,r.QD)("th",{class:"text-center"},"#",-1)),(0,r.QD)("th",{onClick:a[2]||(a[2]=e=>o.sort("field_name"))},[a[15]||(a[15]=(0,r.mY)(" Field Name ")),(0,r.QD)("span",null,["field_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",t8)):"field_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",r8)):((0,r.Wz)(),(0,r.An)("i",l8))])]),(0,r.QD)("th",{onClick:a[3]||(a[3]=e=>o.sort("display_name"))},[a[16]||(a[16]=(0,r.mY)(" Display Name ")),(0,r.QD)("span",null,["display_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",i8)):"display_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",o8)):((0,r.Wz)(),(0,r.An)("i",n8))])]),(0,r.QD)("th",{onClick:a[4]||(a[4]=e=>o.sort("field_type"))},[a[17]||(a[17]=(0,r.mY)(" Field Type ")),(0,r.QD)("span",null,["field_type"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",d8)):"field_type"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",c8)):((0,r.Wz)(),(0,r.An)("i",u8))])]),(0,r.QD)("th",{onClick:a[5]||(a[5]=e=>o.sort("field_values"))},[a[18]||(a[18]=(0,r.mY)(" Field Values ")),(0,r.QD)("span",null,["field_values"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",p8)):"field_values"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",m8)):((0,r.Wz)(),(0,r.An)("i",_8))])]),(0,r.QD)("th",{onClick:a[6]||(a[6]=e=>o.sort("field_length"))},[a[19]||(a[19]=(0,r.mY)(" Field Length ")),(0,r.QD)("span",null,["field_length"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",h8)):"field_length"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",b8)):((0,r.Wz)(),(0,r.An)("i",v8))])]),(0,r.QD)("th",{onClick:a[7]||(a[7]=e=>o.sort("is_required"))},[a[20]||(a[20]=(0,r.mY)(" Is Required ")),(0,r.QD)("span",null,["is_required"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",y8)):"is_required"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",g8)):((0,r.Wz)(),(0,r.An)("i",D8))])]),a[22]||(a[22]=(0,r.QD)("th",null," Service Type ",-1)),a[23]||(a[23]=(0,r.QD)("th",{class:"text-center"},"Status",-1)),a[24]||(a[24]=(0,r.QD)("th",{class:"text-center"},"Actions",-1))]),(0,r.QD)("tbody",null,[0==i.serviceattributes.length?((0,r.Wz)(),(0,r.An)("tr",Q8,a[25]||(a[25]=[(0,r.QD)("td",{colspan:"10",class:"text-center"},"No records found",-1)]))):(0,r.g1)("",!0),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.serviceattributes,((e,s)=>((0,r.Wz)(),(0,r.An)("tr",{key:s},[(0,r.QD)("td",f8,(0,d.WA)(i.meta.from+s),1),(0,r.QD)("td",null,(0,d.WA)(e.field_name),1),(0,r.QD)("td",null,(0,d.WA)(e.display_name),1),(0,r.QD)("td",null,(0,d.WA)(e.field_type),1),(0,r.QD)("td",null,(0,d.WA)(e.field_values),1),(0,r.QD)("td",null,(0,d.WA)(e.field_length),1),(0,r.QD)("td",null,(0,d.WA)(1==e?.is_required?"Yes":"No"),1),(0,r.QD)("td",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(e.service_attribute_types,((e,a)=>((0,r.Wz)(),(0,r.An)("span",{key:a},(0,d.WA)(e?.service_type?.service_type_name)+", ",1)))),128))]),(0,r.QD)("td",k8,[(0,r.QD)("div",w8,[(0,r.QD)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"serviceattribute"+e.service_attribute_id,checked:e.status,value:e.status,onChange:a=>o.deleteServiceAttribute(e)},null,40,A8),(0,r.QD)("label",{class:"custom-control-label",for:"user"+e.service_attribute_id},null,8,W8)])]),(0,r.QD)("td",z8,[e.status?((0,r.Wz)(),(0,r.An)("a",{key:0,href:"javascript:void(0)",class:"text-success",onClick:a=>o.editServiceAttribute(e)},a[26]||(a[26]=[(0,r.QD)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,x8)):(0,r.g1)("",!0)])])))),128))])])])]),(0,r.QD)("div",P8,[(0,r.QD)("div",C8,[(0,r.wt)((0,r.QD)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.per_page=e),onChange:a[9]||(a[9]=(...a)=>e.onPerPageChange&&e.onPerPageChange(...a))},a[27]||(a[27]=[(0,r.QD)("option",null,"10",-1),(0,r.QD)("option",null,"15",-1),(0,r.QD)("option",null,"20",-1),(0,r.QD)("option",null,"25",-1),(0,r.QD)("option",null,"30",-1)]),544),[[t.Ip,i.meta.per_page]]),(0,r.QD)("span",null,"Showing "+(0,d.WA)(i.meta.from)+" to "+(0,d.WA)(i.meta.to)+" of "+(0,d.WA)(i.meta.totalRows)+" entries",1),(0,r.K2)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var S8={components:{Pagination:Zt},data(){return{meta:{search:"",order_by:"asc",keyword:"service_attribute_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},serviceattributes:[],errors:[],status:!0}},beforeRouteEnter(e,a,s){s((e=>{"ServiceAttributes.Edit"!=a.name?e.$store.commit("setCurrentPage",e.meta.page):e.meta.page=e.$store.getters.current_page}))},mounted(){this.index()},methods:{index(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"paginateServiceAttributes",data:e.meta}).then((s=>{a.hide(),this.serviceattributes=s.data.data,this.meta.totalRows=s.data.meta.total,this.meta.from=s.data.meta.from,this.meta.lastPage=s.data.meta.last_page,this.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},editServiceAttribute(e){this.$router.push("/service_attributes/"+e.service_attribute_id+"/edit")},deleteServiceAttribute(e){let a=this,s=a.$loading.show();a.$store.dispatch("post",{uri:"deleteServiceAttribute",data:e}).then((e=>{s.hide(),a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){s.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},search(){let e=this;e.meta.page=1,e.index()},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()}}};const U8=(0,Ce.c)(S8,[["render",$8]]);var V8=U8;const j8={class:""},Y8={class:"d-sm-flex align-items-center justify-content-between mb-2"},T8={class:"breadcrumb fs-sm mb-1"},N8={class:"breadcrumb-item","aria-current":"page"},R8={class:"breadcrumb-item","aria-current":"page"},q8={key:0,class:"breadcrumb-item","aria-current":"page"},E8={key:1,class:"breadcrumb-item active","aria-current":"page"},K8={class:"row"},I8={class:"col-12"},F8={class:"card card-one"},O8={class:"card-header d-flex justify-content-between"},L8={key:0,class:"card-title"},B8={key:1,class:"card-title"},M8={class:"card-body"},Z8={class:"row g-2"},H8={class:"col-md-3"},J8={class:"form-label"},G8={key:0,class:"invalid-feedback"},X8={key:0,class:"multiselect"},e6=["value"],a6={style:{"margin-left":"5px"}},s6={class:"col-md-3"},t6={key:0,class:"invalid-feedback"},r6={class:"col-md-3"},l6={key:0,class:"invalid-feedback"},i6={class:"col-md-3"},o6={key:0,class:"invalid-feedback"},n6={key:0,class:"col-md-4"},d6=["value"],c6={key:0,class:"invalid-feedback"},u6={class:"col-md-4"},p6={key:0,class:"text-danger"},m6={key:1,class:"invalid-feedback"},_6={class:"col-md-4"},h6={key:0,class:"invalid-feedback"},b6={class:"col-md-4"},v6={key:0,class:"invalid-feedback"},y6={class:"card-footer text-end"},g6={type:"submit",class:"btn btn-primary"},D6={key:0},Q6={key:1};function f6(e,a,s,l,i,o){const n=(0,r.E1)("router-link");return(0,r.Wz)(),(0,r.An)("div",j8,[(0,r.QD)("div",Y8,[(0,r.QD)("div",null,[(0,r.QD)("ol",T8,[(0,r.QD)("li",N8,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[11]||(a[11]=[(0,r.mY)("Dashboard")]))),_:1})]),a[13]||(a[13]=(0,r.QD)("li",{class:"breadcrumb-item","aria-current":"page"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Attributes")],-1)),(0,r.QD)("li",R8,[(0,r.K2)(n,{to:"/break_down_attributes"},{default:(0,r.Ql)((()=>a[12]||(a[12]=[(0,r.mY)("Break Down Attributes")]))),_:1})]),i.status?((0,r.Wz)(),(0,r.An)("li",q8,"New Break Down Attribute")):((0,r.Wz)(),(0,r.An)("li",E8,"Update Break Down Attribute"))]),a[14]||(a[14]=(0,r.QD)("h4",{class:"main-title mb-0"}," Break Down Attribute",-1))]),(0,r.K2)(n,{to:"/break_down_attributes",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.Ql)((()=>a[15]||(a[15]=[(0,r.QD)("i",{class:"ri-list-check"},null,-1),(0,r.mY)(" BREAK DOWN ATTRIBUTES")]))),_:1})]),(0,r.QD)("div",K8,[(0,r.QD)("div",I8,[(0,r.QD)("form",{onSubmit:a[10]||(a[10]=(0,t.Y7)(((...e)=>o.submitForm&&o.submitForm(...e)),["prevent"]))},[(0,r.QD)("div",F8,[(0,r.QD)("div",O8,[i.status?((0,r.Wz)(),(0,r.An)("h6",L8,"New Break Down Attribute")):((0,r.Wz)(),(0,r.An)("h6",B8,"Update Break Down Attribute"))]),(0,r.QD)("div",M8,[(0,r.QD)("div",Z8,[(0,r.QD)("div",H8,[(0,r.QD)("div",J8,[a[18]||(a[18]=(0,r.QD)("label",{class:"form-label"},"Break Down Type",-1)),a[19]||(a[19]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.QD)("div",{class:"dropdown",onClick:a[0]||(a[0]=e=>o.toggleBreakDownTypeStatus())},[a[17]||(a[17]=(0,r.QD)("div",{class:"overselect"},null,-1)),(0,r.QD)("select",{class:(0,d.WN)(["form-control form-control",{"is-invalid":i.errors.break_down_types}])},a[16]||(a[16]=[(0,r.QD)("option",{value:""},"Select Break Down Type",-1)]),2),i.errors.break_down_types?((0,r.Wz)(),(0,r.An)("span",G8,(0,d.WA)(i.errors.break_down_types[0]),1)):(0,r.g1)("",!0)]),i.break_down_type_status?((0,r.Wz)(),(0,r.An)("div",X8,[(0,r.QD)("ul",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.break_down_types,((e,s)=>((0,r.Wz)(),(0,r.An)("li",{class:"",key:s},[(0,r.wt)((0,r.QD)("input",{type:"checkbox",value:e.break_down_type_id,"onUpdate:modelValue":a[1]||(a[1]=e=>i.break_down_attribute.break_down_types=e),style:{padding:"2px"}},null,8,e6),[[t.cV,i.break_down_attribute.break_down_types]]),(0,r.QD)("label",a6,(0,d.WA)(e.break_down_type_name),1)])))),128))])])):(0,r.g1)("",!0)])]),(0,r.QD)("div",s6,[a[20]||(a[20]=(0,r.QD)("label",{class:"form-label"},"Field Name",-1)),a[21]||(a[21]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Field Name ",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.field_name}]),"onUpdate:modelValue":a[2]||(a[2]=e=>i.break_down_attribute.field_name=e)},null,2),[[t.Og,i.break_down_attribute.field_name]]),i.errors.field_name?((0,r.Wz)(),(0,r.An)("span",t6,(0,d.WA)(i.errors.field_name[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",r6,[a[22]||(a[22]=(0,r.QD)("label",{class:"form-label"},"Display Name",-1)),a[23]||(a[23]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Display Name ",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.display_name}]),"onUpdate:modelValue":a[3]||(a[3]=e=>i.break_down_attribute.display_name=e)},null,2),[[t.Og,i.break_down_attribute.display_name]]),i.errors.display_name?((0,r.Wz)(),(0,r.An)("span",l6,(0,d.WA)(i.errors.display_name[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",i6,[a[25]||(a[25]=(0,r.QD)("label",{class:"form-label"},"Field Type",-1)),a[26]||(a[26]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("select",{class:(0,d.WN)(["form-control",{"is-invalid":i.errors.field_type}]),"onUpdate:modelValue":a[4]||(a[4]=e=>i.break_down_attribute.field_type=e)},a[24]||(a[24]=[(0,r.IL)('<option value="" data-v-4ad15fea>Select Field Type</option><option value="Text" data-v-4ad15fea>Text </option><option value="Dropdown" data-v-4ad15fea>Dropdown </option><option value="Number" data-v-4ad15fea>Number </option><option value="Date" data-v-4ad15fea>Date </option><option value="Date&amp;Time" data-v-4ad15fea>Date&amp;Time </option><option value="Color" data-v-4ad15fea>Color</option><option value="List" data-v-4ad15fea>List</option>',8)]),2),[[t.Ip,i.break_down_attribute.field_type]]),i.errors.field_type?((0,r.Wz)(),(0,r.An)("span",o6,(0,d.WA)(i.errors.field_type[0]),1)):(0,r.g1)("",!0)]),i.list_parameters.length?((0,r.Wz)(),(0,r.An)("div",n6,[a[28]||(a[28]=(0,r.QD)("label",{class:"form-label"},"List",-1)),a[29]||(a[29]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("select",{class:(0,d.WN)(["form-control",{"is-invalid":i.errors.list_parameter_id}]),"onUpdate:modelValue":a[5]||(a[5]=e=>i.break_down_attribute.list_parameter_id=e)},[a[27]||(a[27]=(0,r.QD)("option",{value:""},"Select List",-1)),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.list_parameters,((e,a)=>((0,r.Wz)(),(0,r.An)("option",{key:a,value:e.list_parameter_id},(0,d.WA)(e.list_parameter_name),9,d6)))),128))],2),[[t.Ip,i.break_down_attribute.list_parameter_id]]),i.errors.list_parameter_id?((0,r.Wz)(),(0,r.An)("span",c6,(0,d.WA)(i.errors.list_parameter_id[0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0),(0,r.QD)("div",u6,[a[30]||(a[30]=(0,r.QD)("label",{class:"form-label"},"Field Value",-1)),"Dropdown"===i.break_down_attribute.field_type?((0,r.Wz)(),(0,r.An)("span",p6," *")):(0,r.g1)("",!0),(0,r.wt)((0,r.QD)("input",{type:"text",placeholder:"Field Value",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.field_values}]),"onUpdate:modelValue":a[6]||(a[6]=e=>i.break_down_attribute.field_values=e)},null,2),[[t.Og,i.break_down_attribute.field_values]]),i.errors.field_values?((0,r.Wz)(),(0,r.An)("span",m6,(0,d.WA)(i.errors.field_values[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",_6,[a[31]||(a[31]=(0,r.QD)("label",{class:"form-label"},"Field Length",-1)),a[32]||(a[32]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"number",placeholder:"Field Length",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.field_length}]),"onUpdate:modelValue":a[7]||(a[7]=e=>i.break_down_attribute.field_length=e)},null,2),[[t.Og,i.break_down_attribute.field_length]]),i.errors.field_length?((0,r.Wz)(),(0,r.An)("span",h6,(0,d.WA)(i.errors.field_length[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",b6,[a[34]||(a[34]=(0,r.QD)("label",{class:"form-label"},"Is Required",-1)),a[35]||(a[35]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("select",{class:(0,d.WN)(["form-control",{"is-invalid":i.errors.is_required}]),"onUpdate:modelValue":a[8]||(a[8]=e=>i.break_down_attribute.is_required=e)},a[33]||(a[33]=[(0,r.QD)("option",{value:""},"Select Is Required",-1),(0,r.QD)("option",{value:"1"},"Yes ",-1),(0,r.QD)("option",{value:"0"},"No ",-1)]),2),[[t.Ip,i.break_down_attribute.is_required]]),i.errors.is_required?((0,r.Wz)(),(0,r.An)("span",v6,(0,d.WA)(i.errors.is_required[0]),1)):(0,r.g1)("",!0)])])]),(0,r.QD)("div",y6,[(0,r.QD)("button",{type:"button",class:"btn btn-danger me-2",onClick:a[9]||(a[9]=(0,t.Y7)((e=>o.discard()),["prevent"]))},a[36]||(a[36]=[(0,r.QD)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.mY)(" Discard")])),(0,r.QD)("button",g6,[i.status?((0,r.Wz)(),(0,r.An)("span",D6,a[37]||(a[37]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Submit")]))):((0,r.Wz)(),(0,r.An)("span",Q6,a[38]||(a[38]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Update")])))])])])],32)])])])}var k6={components:{},name:"BreakDownAttributes.Create",data(){return{break_down_attribute:{field_name:"",display_name:"",field_type:"",field_values:"",field_length:"",is_required:"",break_down_type_id:"",break_down_types:[],list_parameter_id:""},break_down_types:[],break_down_attributes:[],list_parameters:[],errors:[],status:!0,break_down_type_status:!1}},beforeRouteEnter(e,a,s){s((a=>{if(a.getBreakDownTypes(),"BreakDownAttributes.Create"==e.name);else{a.status=!1;let s={uri:"getBreakDownAttribute",data:{break_down_attribute_id:e.params.break_down_attribute_id}};a.$store.dispatch("post",s).then((function(e){a.break_down_attribute=e.data.data})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}}))},watch:{"break_down_attribute.field_type":function(){"List"==this.break_down_attribute.field_type?this.getListParameters():(this.list_parameters=[],this.break_down_attribute.list_parameter_id="")}},methods:{toggleBreakDownTypeStatus(){this.break_down_type_status=!this.break_down_type_status},submitForm(){let e=this;e.status?e.addBreakDownAttribute():e.updateBreakDownAttribute()},getBreakDownTypes(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getBreakDownTypes"}).then((s=>{a.hide(),e.break_down_types=s.data.data,console.log(e.break_down_types)})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},addBreakDownAttribute(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"addBreakDownAttribute",data:this.break_down_attribute}).then((s=>{a.hide(),this.$store.dispatch("success","Break Down Attribute created successfully"),e.$router.push("/break_down_attributes")})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},updateBreakDownAttribute(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"updateBreakDownAttribute",data:this.break_down_attribute}).then((e=>{a.hide(),this.$store.dispatch("success","Break Down Attribute updated successfully"),this.$router.push("/break_down_attributes")})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getListParameters(){let e=this,a=this.$loading.show();e.$store.dispatch("post",{uri:"getListParameters"}).then((s=>{a.hide(),e.list_parameters=s.data.data})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getBreakDownAttribute(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"getBreakDownAttribute",data:this.break_down_attribute}).then((e=>{a.hide(),this.break_down_attributes=e.data.data})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},discard(){let e=this;e.break_down_attribute.field_name="",e.break_down_attribute.field_type="",e.break_down_attribute.display_name="",e.break_down_attribute.field_values="",e.break_down_attribute.field_length="",e.break_down_attribute.is_required="",e.break_down_attribute.break_down_type_id="",e.break_down_attribute.list_parameter_id="",e.break_down_attribute.break_down_types=[],e.errors=[],e.status=!0}}};const w6=(0,Ce.c)(k6,[["render",f6],["__scopeId","data-v-4ad15fea"]]);var A6=w6;const W6={class:""},z6={class:"d-sm-flex align-items-center justify-content-between mb-2"},x6={class:"breadcrumb fs-sm mb-1"},P6={class:"breadcrumb-item","aria-current":"page"},C6={class:"row"},$6={class:"col-12"},S6={class:"card card-one"},U6={class:"card-body"},V6={class:"table-responsive table-responsive-sm"},j6={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},Y6={style:{"background-color":"#9b9b9b",color:"white"}},T6={key:0,class:"ri-arrow-up-line"},N6={key:1,class:"ri-arrow-down-line"},R6={key:2,class:"fas fa-sort"},q6={key:0,class:"ri-arrow-up-line"},E6={key:1,class:"ri-arrow-down-line"},K6={key:2,class:"fas fa-sort"},I6={key:0,class:"ri-arrow-up-line"},F6={key:1,class:"ri-arrow-down-line"},O6={key:2,class:"fas fa-sort"},L6={key:0,class:"ri-arrow-up-line"},B6={key:1,class:"ri-arrow-down-line"},M6={key:2,class:"fas fa-sort"},Z6={key:0,class:"ri-arrow-up-line"},H6={key:1,class:"ri-arrow-down-line"},J6={key:2,class:"fas fa-sort"},G6={key:0,class:"ri-arrow-up-line"},X6={key:1,class:"ri-arrow-down-line"},e9={key:2,class:"fas fa-sort"},a9={key:0},s9={class:"text-center"},t9={class:"text-center"},r9={class:"form-switch"},l9=["id","checked","value","onChange"],i9=["for"],o9={class:"text-center"},n9=["onClick"],d9={class:"card-footer"},c9={class:"d-flex justify-content-between align-items-center"};function u9(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("Pagination");return(0,r.Wz)(),(0,r.An)("div",W6,[(0,r.QD)("div",z6,[(0,r.QD)("div",null,[(0,r.QD)("ol",x6,[(0,r.QD)("li",P6,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[10]||(a[10]=[(0,r.mY)("Dashboard")]))),_:1})]),a[11]||(a[11]=(0,r.QD)("li",{class:"breadcrumb-item","aria-current":"page"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Attributes")],-1)),a[12]||(a[12]=(0,r.QD)("li",{class:"breadcrumb-item active","aria-current":"page"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Break Down Attributes")],-1))]),a[13]||(a[13]=(0,r.QD)("h4",{class:"main-title mb-0"},"Break Down Attributes",-1))]),(0,r.K2)(n,{to:"/break_down_attributes/create",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.Ql)((()=>a[14]||(a[14]=[(0,r.QD)("i",{class:"ri-list-check"},null,-1),(0,r.mY)(" ADD BREAK DOWN ATTRIBUTE")]))),_:1})]),(0,r.QD)("div",C6,[(0,r.QD)("div",$6,[(0,r.QD)("div",S6,[a[28]||(a[28]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Break Down Attributes")],-1)),(0,r.QD)("div",U6,[(0,r.wt)((0,r.QD)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.search=e),onKeypress:a[1]||(a[1]=(0,t.jj)((e=>o.search()),["enter"]))},null,544),[[t.Og,i.meta.search]]),(0,r.QD)("div",V6,[(0,r.QD)("table",j6,[(0,r.QD)("tr",Y6,[a[21]||(a[21]=(0,r.QD)("th",{class:"text-center"},"#",-1)),(0,r.QD)("th",{onClick:a[2]||(a[2]=e=>o.sort("field_name"))},[a[15]||(a[15]=(0,r.mY)(" Field Name ")),(0,r.QD)("span",null,["field_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",T6)):"field_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",N6)):((0,r.Wz)(),(0,r.An)("i",R6))])]),(0,r.QD)("th",{onClick:a[3]||(a[3]=e=>o.sort("display_name"))},[a[16]||(a[16]=(0,r.mY)(" Display Name ")),(0,r.QD)("span",null,["display_name"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",q6)):"display_name"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",E6)):((0,r.Wz)(),(0,r.An)("i",K6))])]),(0,r.QD)("th",{onClick:a[4]||(a[4]=e=>o.sort("field_type"))},[a[17]||(a[17]=(0,r.mY)(" Field Type ")),(0,r.QD)("span",null,["field_type"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",I6)):"field_type"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",F6)):((0,r.Wz)(),(0,r.An)("i",O6))])]),(0,r.QD)("th",{onClick:a[5]||(a[5]=e=>o.sort("field_values"))},[a[18]||(a[18]=(0,r.mY)(" Field Values ")),(0,r.QD)("span",null,["field_values"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",L6)):"field_values"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",B6)):((0,r.Wz)(),(0,r.An)("i",M6))])]),(0,r.QD)("th",{onClick:a[6]||(a[6]=e=>o.sort("field_length"))},[a[19]||(a[19]=(0,r.mY)(" Field Length ")),(0,r.QD)("span",null,["field_length"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Z6)):"field_length"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",H6)):((0,r.Wz)(),(0,r.An)("i",J6))])]),(0,r.QD)("th",{onClick:a[7]||(a[7]=e=>o.sort("is_required"))},[a[20]||(a[20]=(0,r.mY)(" Is Required ")),(0,r.QD)("span",null,["is_required"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",G6)):"is_required"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",X6)):((0,r.Wz)(),(0,r.An)("i",e9))])]),a[22]||(a[22]=(0,r.QD)("th",null," Break Down Type ",-1)),a[23]||(a[23]=(0,r.QD)("th",{class:"text-center"},"Status",-1)),a[24]||(a[24]=(0,r.QD)("th",{class:"text-center"},"Actions",-1))]),(0,r.QD)("tbody",null,[0==i.break_down_attributes.length?((0,r.Wz)(),(0,r.An)("tr",a9,a[25]||(a[25]=[(0,r.QD)("td",{colspan:"10",class:"text-center"},"No records found",-1)]))):(0,r.g1)("",!0),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.break_down_attributes,((e,s)=>((0,r.Wz)(),(0,r.An)("tr",{key:s},[(0,r.QD)("td",s9,(0,d.WA)(i.meta.from+s),1),(0,r.QD)("td",null,(0,d.WA)(e.field_name),1),(0,r.QD)("td",null,(0,d.WA)(e.display_name),1),(0,r.QD)("td",null,(0,d.WA)(e.field_type),1),(0,r.QD)("td",null,(0,d.WA)(e.field_values),1),(0,r.QD)("td",null,(0,d.WA)(e.field_length),1),(0,r.QD)("td",null,(0,d.WA)(1==e?.is_required?"Yes":"No"),1),(0,r.QD)("td",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(e.break_down_attribute_types,((e,a)=>((0,r.Wz)(),(0,r.An)("span",{key:a},(0,d.WA)(e?.break_down_type?.break_down_type_name)+", ",1)))),128))]),(0,r.QD)("td",t9,[(0,r.QD)("div",r9,[(0,r.QD)("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"break_down_attribute"+e.break_down_attribute_id,checked:e.status,value:e.status,onChange:a=>o.deleteBreakDownAttribute(e)},null,40,l9),(0,r.QD)("label",{class:"custom-control-label",for:"user"+e.break_down_attribute_id},null,8,i9)])]),(0,r.QD)("td",o9,[e.status?((0,r.Wz)(),(0,r.An)("a",{key:0,href:"javascript:void(0)",class:"text-success",onClick:a=>o.editBreakDownAttribute(e)},a[26]||(a[26]=[(0,r.QD)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,n9)):(0,r.g1)("",!0)])])))),128))])])])]),(0,r.QD)("div",d9,[(0,r.QD)("div",c9,[(0,r.wt)((0,r.QD)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[8]||(a[8]=e=>i.meta.per_page=e),onChange:a[9]||(a[9]=(...a)=>e.onPerPageChange&&e.onPerPageChange(...a))},a[27]||(a[27]=[(0,r.QD)("option",null,"10",-1),(0,r.QD)("option",null,"15",-1),(0,r.QD)("option",null,"20",-1),(0,r.QD)("option",null,"25",-1),(0,r.QD)("option",null,"30",-1)]),544),[[t.Ip,i.meta.per_page]]),(0,r.QD)("span",null,"Showing "+(0,d.WA)(i.meta.from)+" to "+(0,d.WA)(i.meta.to)+" of "+(0,d.WA)(i.meta.totalRows)+" entries",1),(0,r.K2)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var p9={components:{Pagination:Zt},data(){return{meta:{search:"",order_by:"asc",keyword:"break_down_attribute_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},break_down_attributes:[],errors:[],status:!0}},beforeRouteEnter(e,a,s){s((e=>{"BreakDownAttributes.Edit"!=a.name?e.$store.commit("setCurrentPage",e.meta.page):e.meta.page=e.$store.getters.current_page}))},mounted(){this.index()},methods:{index(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"paginateBreakDownAttributes",data:e.meta}).then((s=>{a.hide(),this.break_down_attributes=s.data.data,this.meta.totalRows=s.data.meta.total,this.meta.from=s.data.meta.from,this.meta.lastPage=s.data.meta.last_page,this.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},editBreakDownAttribute(e){this.$router.push("/break_down_attributes/"+e.break_down_attribute_id+"/edit")},deleteBreakDownAttribute(e){let a=this,s=a.$loading.show();a.$store.dispatch("post",{uri:"deleteBreakDownAttribute",data:e}).then((e=>{s.hide(),a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){s.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},search(){let e=this;e.meta.page=1,e.index()},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()}}};const m9=(0,Ce.c)(p9,[["render",u9]]);var _9=m9;const h9={class:""},b9={class:"d-sm-flex align-items-center justify-content-between mb-2"},v9={class:"breadcrumb fs-sm mb-1"},y9={class:"breadcrumb-item","aria-current":"page"},g9={class:"breadcrumb-item active","aria-current":"page"},D9={class:"row"},Q9={class:"col-12"},f9={class:"card card-one mb-3"},k9={class:"card-body p-0"},w9={class:"setting-item"},A9={class:"row g-2 mb-4"},W9={class:"col-md-4 mb-3"},z9={class:"font"},x9={class:"col-md-4 mb-3"},P9={class:"font"},C9={class:"col-md-4 mb-3"},$9={class:"font"},S9={class:"col-md-4 mb-3"},U9={class:"font"},V9={class:"col-md-12 mt-1"},j9={class:"table-responsive table-responsive-sm"},Y9={class:"table table-responsive table-striped table-responsive-sm table-sm text-nowrap table-bordered mb-0"},T9={class:"text-center"};function N9(e,a,s,t,l,i){const o=(0,r.E1)("router-link");return(0,r.Wz)(),(0,r.An)("div",h9,[(0,r.QD)("div",b9,[(0,r.QD)("div",null,[(0,r.QD)("ol",v9,[(0,r.QD)("li",y9,[(0,r.K2)(o,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[0]||(a[0]=[(0,r.mY)("Dashboard")]))),_:1})]),a[2]||(a[2]=(0,r.QD)("li",{class:"breadcrumb-item"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Registers")],-1)),(0,r.QD)("li",g9,[(0,r.K2)(o,{to:"/process_registers"},{default:(0,r.Ql)((()=>a[1]||(a[1]=[(0,r.mY)("Process Registers")]))),_:1})]),a[3]||(a[3]=(0,r.QD)("li",{class:"breadcrumb-item","aria-current":"page"},"View",-1))]),a[4]||(a[4]=(0,r.QD)("h4",{class:"main-title mb-0"},"View Process Register",-1))]),(0,r.K2)(o,{to:"/process_registers",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.Ql)((()=>a[5]||(a[5]=[(0,r.QD)("i",{class:"ri-list-check"},null,-1),(0,r.mY)(" PROCESS REGISTERS")]))),_:1})]),(0,r.QD)("div",D9,[(0,r.QD)("div",Q9,[(0,r.QD)("div",f9,[a[12]||(a[12]=(0,r.QD)("div",{class:"card-header"},[(0,r.QD)("h5",{class:"card-title"},"Process Register"),(0,r.QD)("br")],-1)),(0,r.QD)("div",k9,[(0,r.QD)("div",w9,[(0,r.QD)("div",A9,[(0,r.QD)("div",W9,[a[6]||(a[6]=(0,r.QD)("h6",null,"Job Number",-1)),(0,r.QD)("p",z9,(0,d.WA)(l.user_variable.job_no),1)]),(0,r.QD)("div",x9,[a[7]||(a[7]=(0,r.QD)("h6",null,"Asset Code",-1)),(0,r.QD)("p",P9,(0,d.WA)(l.user_variable?.asset?.asset_code),1)]),(0,r.QD)("div",C9,[a[8]||(a[8]=(0,r.QD)("h6",null,"Asset Zone",-1)),(0,r.QD)("p",$9,(0,d.WA)(l.user_variable?.asset_zone?.zone_name),1)]),(0,r.QD)("div",S9,[a[9]||(a[9]=(0,r.QD)("h6",null,"Job Date",-1)),(0,r.QD)("p",U9,(0,d.WA)(i.convertDateFormat(l.user_variable.reference_date)),1)]),(0,r.QD)("div",V9,[a[11]||(a[11]=(0,r.QD)("h6",{class:"mb-2"},"Asset Variables :",-1)),(0,r.QD)("div",j9,[(0,r.QD)("table",Y9,[a[10]||(a[10]=(0,r.QD)("thead",null,[(0,r.QD)("tr",null,[(0,r.QD)("th",{class:"text-center"},"#"),(0,r.QD)("th",{class:"text-left"},"Variable"),(0,r.QD)("th",null,"Date time"),(0,r.QD)("th",null,"Value")])],-1)),(0,r.QD)("tbody",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(l.user_variable.asset_variables,((e,a)=>((0,r.Wz)(),(0,r.An)("tr",{key:a},[(0,r.QD)("td",T9,(0,d.WA)(a+1),1),(0,r.QD)("td",null,(0,d.WA)(e?.variable?.variable_name),1),(0,r.QD)("td",null,(0,d.WA)(e?.date_time),1),(0,r.QD)("td",null,(0,d.WA)(e?.value),1)])))),128))])])])])])])])])])])])}var R9={name:"ViewAsset",data(){return{user_variable:{user_variable_id:"",asset_id:"",reference_no:"",reference_date:"",note:"",status:"",asset_variables:[]}}},beforeRouteEnter(e,a,s){s((a=>{a.user_variable.user_variable_id=e.params.user_variable_id,a.getUserVariable()}))},methods:{getUserVariable(){let e=this,a=e.$loading.show(),s={uri:"getUserVariable",data:{user_variable_id:e.user_variable.user_variable_id}};e.$store.dispatch("post",s).then((function(s){a.hide(),e.user_variable=s.data.data})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},showImage(e){document.getElementById("image").style.display="block",document.getElementById("btnID").style.display="none"},downloadImage(e){let a=this;window.open(a.$store.state.apiUrl+"downloadCheckAttachment?file_name="+e)},downloadEngineeringDetail(){let e=this;e.errors=[],""==e.engineering.project_id&&(e.engineering.project_id=["The project field is required."]),""==e.engineering.to_date&&(e.engineering.to_date=["The To Date field is required."]),e.engineering.project_id&&e.engineering.to_date&&window.open(e.$store.getters.apiUrl+"downloadElectricalDetailReport?project_id="+e.engineering.project_id+"&to_date="+e.engineering.to_date+"&from_date="+e.engineering.from_date+"&isDownload=true")},convertDateFormat(e){return j_()(e).format("yyyy-MM-DD")}}};const q9=(0,Ce.c)(R9,[["render",N9],["__scopeId","data-v-39d0a91a"]]);var E9=q9;const K9={class:""},I9={class:"d-sm-flex align-items-center justify-content-between mb-2"},F9={class:"breadcrumb fs-sm mb-1"},O9={class:"breadcrumb-item","aria-current":"page"},L9={class:"breadcrumb-item","aria-current":"page"},B9={key:0,class:"breadcrumb-item","aria-current":"page"},M9={key:1,class:"breadcrumb-item active","aria-current":"page"},Z9={class:"row"},H9={class:"col-12"},J9={class:"card card-one"},G9={class:"card-header d-flex justify-content-between"},X9={key:0,class:"card-title"},e7={key:1,class:"card-title"},a7={class:"card-body"},s7={class:"row g-2 mb-5"},t7={class:"col-md-4"},r7=["value"],l7={key:0,class:"invalid-feedback"},i7={class:"col-md-4"},o7={key:0,class:"invalid-feedback"},n7={class:"col-md-4"},d7={key:0,class:"invalid-feedback"},c7={class:"col-md-12"},u7={key:0,class:"invalid-feedback"},p7={class:"row g-2"},m7={class:""},_7={class:"table table-responsive table-responsive-sm table-sm text-nowrap table-bordered mb-0"},h7={key:0,class:"invalid-feedback"},b7={key:0,class:"invalid-feedback"},v7={key:0,class:"invalid-feedback"},y7={class:"text-center"},g7={colspan:"6",class:"text-danger text-center"},D7={class:"text-center"},Q7=["onClick"],f7=["onClick"],k7={class:"card-footer text-end"},w7={type:"submit",class:"btn btn-primary"},A7={key:0},W7={key:1};function z7(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("search");return(0,r.Wz)(),(0,r.An)("div",K9,[(0,r.QD)("div",I9,[(0,r.QD)("div",null,[(0,r.QD)("ol",F9,[(0,r.QD)("li",O9,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[12]||(a[12]=[(0,r.mY)("Dashboard")]))),_:1})]),a[14]||(a[14]=(0,r.QD)("li",{class:"breadcrumb-item"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Registers")],-1)),(0,r.QD)("li",L9,[(0,r.K2)(n,{to:"/process_registers"},{default:(0,r.Ql)((()=>a[13]||(a[13]=[(0,r.mY)("Process Registers")]))),_:1})]),i.status?((0,r.Wz)(),(0,r.An)("li",B9,"New Process Register")):((0,r.Wz)(),(0,r.An)("li",M9,"Update Process Register"))]),a[15]||(a[15]=(0,r.QD)("h4",{class:"main-title mb-0"},"Process Register",-1))]),(0,r.K2)(n,{to:"/process_registers",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.Ql)((()=>a[16]||(a[16]=[(0,r.QD)("i",{class:"ri-list-check"},null,-1),(0,r.mY)(" PROCESS REGISTERS")]))),_:1})]),(0,r.QD)("div",Z9,[(0,r.QD)("div",H9,[(0,r.QD)("form",{onSubmit:a[11]||(a[11]=(0,t.Y7)(((...e)=>o.submitForm&&o.submitForm(...e)),["prevent"]))},[(0,r.QD)("div",J9,[(0,r.QD)("div",G9,[i.status?((0,r.Wz)(),(0,r.An)("h6",X9,"Add Process Register")):((0,r.Wz)(),(0,r.An)("h6",e7,"Update Process Register"))]),(0,r.QD)("div",a7,[(0,r.QD)("div",s7,[(0,r.QD)("div",t7,[a[17]||(a[17]=(0,r.QD)("label",{class:"form-label"},"Job Date",-1)),a[18]||(a[18]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"date",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.job_date}]),placeholder:"Enter Job Date",value:o.convertDateFormat(i.user_variable.job_date),"onUpdate:modelValue":a[0]||(a[0]=e=>i.user_variable.job_date=e),ref:"job_date"},null,10,r7),[[t.Og,i.user_variable.job_date]]),i.errors.job_date?((0,r.Wz)(),(0,r.An)("span",l7,(0,d.WA)(i.errors.job_date[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",i7,[a[19]||(a[19]=(0,r.QD)("label",{class:"form-label"},"Asset",-1)),a[20]||(a[20]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.K2)(c,{class:(0,d.WN)({"is-invalid":i.errors.asset_id}),customClass:{"is-invalid":i.errors.asset_id},initialize:i.user_variable.asset_id,id:"asset_id",label:"asset_name",label2:"asset_code",placeholder:"Select Asset",data:i.assets,onInput:a[1]||(a[1]=e=>i.user_variable.asset_id=e)},null,8,["class","customClass","initialize","data"]),i.errors.asset_id?((0,r.Wz)(),(0,r.An)("span",o7,(0,d.WA)(i.errors.asset_id[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",n7,[a[21]||(a[21]=(0,r.QD)("label",{class:"form-label"},"Asset Zone",-1)),(0,r.K2)(c,{class:(0,d.WN)({"is-invalid":i.errors.asset_zone_id}),customClass:{"is-invalid":i.errors.asset_zone_id},initialize:i.user_variable.asset_zone_id,id:"asset_zone_id",label:"zone_name",placeholder:"Select Asset Zone",data:i.asset_zones,onInput:a[2]||(a[2]=e=>i.user_variable.asset_zone_id=e)},null,8,["class","customClass","initialize","data"]),i.errors.asset_zone_id?((0,r.Wz)(),(0,r.An)("span",d7,(0,d.WA)(i.errors.asset_zone_id[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",c7,[a[22]||(a[22]=(0,r.QD)("label",{class:"form-label"},"Note",-1)),(0,r.wt)((0,r.QD)("textarea",{type:"text",placeholder:"Enter Note",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.note}]),"onUpdate:modelValue":a[3]||(a[3]=e=>i.user_variable.note=e)},null,2),[[t.Og,i.user_variable.note]]),i.errors.note?((0,r.Wz)(),(0,r.An)("span",u7,(0,d.WA)(i.errors.note[0]),1)):(0,r.g1)("",!0)])]),(0,r.QD)("div",p7,[(0,r.QD)("div",m7,[(0,r.QD)("table",_7,[a[28]||(a[28]=(0,r.QD)("thead",null,[(0,r.QD)("tr",null,[(0,r.QD)("th",null,[(0,r.mY)("Variable "),(0,r.QD)("span",{class:"text-danger"}," *")]),(0,r.QD)("th",null,[(0,r.mY)("Date Time "),(0,r.QD)("span",{class:"text-danger"}," *")]),(0,r.QD)("th",null,[(0,r.mY)("Value "),(0,r.QD)("span",{class:"text-danger"}," *")]),(0,r.QD)("th",{class:"text-center"},"Actions")])],-1)),(0,r.QD)("tbody",null,[(0,r.QD)("tr",null,[(0,r.QD)("td",null,[(0,r.K2)(c,{class:(0,d.WN)({"is-invalid":i.errors.variable_id}),customClass:{"is-invalid":i.errors.variable_id},"aria-describedby":"basic-addon2","aria-label":"Select Variable",initialize:i.user_variable_data.variable_id,id:"variable_id",label:"variable_name",label2:"variable_code",placeholder:"Select Variable",data:i.variables,onInput:a[4]||(a[4]=e=>i.user_variable_data.variable_id=e),onSelectsearch:a[5]||(a[5]=e=>o.getValue(i.user_variable_data.variable_id))},null,8,["class","customClass","initialize","data"]),i.errors.variable_id?((0,r.Wz)(),(0,r.An)("span",h7,(0,d.WA)(i.errors.variable_id[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("td",null,[(0,r.wt)((0,r.QD)("input",{type:"datetime-local",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.date_time}]),placeholder:"Enter Date Time","onUpdate:modelValue":a[6]||(a[6]=e=>i.user_variable_data.date_time=e)},null,2),[[t.Og,i.user_variable_data.date_time]]),i.errors.date_time?((0,r.Wz)(),(0,r.An)("span",b7,(0,d.WA)(i.errors.date_time[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("td",null,[(0,r.wt)((0,r.QD)("input",{type:"number",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.value}]),placeholder:"Enter Value",min:"0","onUpdate:modelValue":a[7]||(a[7]=e=>i.user_variable_data.value=e)},null,2),[[t.Og,i.user_variable_data.value]]),i.errors.value?((0,r.Wz)(),(0,r.An)("span",v7,(0,d.WA)(i.errors.value[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("td",y7,[i.user_variable_data.status?((0,r.Wz)(),(0,r.An)("button",{key:0,class:"btn btn-outline-success mx-1",onClick:a[8]||(a[8]=(0,t.Y7)((e=>o.addRow()),["prevent"]))},a[23]||(a[23]=[(0,r.QD)("i",{class:"ri-add-line fs-18 lh-1"},null,-1)]))):((0,r.Wz)(),(0,r.An)("button",{key:1,class:"btn btn-outline-success mx-1",onClick:a[9]||(a[9]=(0,t.Y7)((e=>o.updateRow(i.user_variable_data)),["prevent"]))},a[24]||(a[24]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1)]))),(0,r.QD)("button",{class:"btn btn-outline-danger mx-1",onClick:a[10]||(a[10]=(0,t.Y7)((e=>o.discardNewRow()),["prevent"]))},a[25]||(a[25]=[(0,r.QD)("i",{class:"ri-close-line fs-18 lh-1"},null,-1)]))])]),(0,r.QD)("tr",null,[(0,r.QD)("td",g7,(0,d.WA)(i.errors.asset_variables),1)])]),(0,r.QD)("tbody",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.user_variable.asset_variables,((e,s)=>((0,r.Wz)(),(0,r.An)("tr",{key:s},[(0,r.QD)("td",null,(0,d.WA)(e?.variable?.variable_name),1),(0,r.QD)("td",null,(0,d.WA)(e?.date_time),1),(0,r.QD)("td",null,(0,d.WA)(e?.value),1),(0,r.QD)("td",D7,[(0,r.QD)("button",{type:"button",class:"btn btn-outline-primary mx-2",onClick:(0,t.Y7)((a=>o.editUserVariableData(e,s)),["prevent"])},a[26]||(a[26]=[(0,r.QD)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,Q7),(0,r.QD)("button",{type:"button",class:"btn btn-outline-danger",onClick:(0,t.Y7)((a=>o.deleteUserVariableData(e,s)),["prevent"])},a[27]||(a[27]=[(0,r.QD)("i",{class:"ri-delete-bin-line fs-18 lh-1"},null,-1)]),8,f7)])])))),128))])])])])]),(0,r.QD)("div",k7,[(0,r.K2)(n,{type:"button",to:"/process_registers",class:"btn btn-danger me-2"},{default:(0,r.Ql)((()=>a[29]||(a[29]=[(0,r.QD)("i",{class:"ri-arrow-left-line fs-18 lh-1"},null,-1),(0,r.mY)(" Back")]))),_:1}),(0,r.QD)("button",w7,[i.status?((0,r.Wz)(),(0,r.An)("span",A7,a[30]||(a[30]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Submit")]))):((0,r.Wz)(),(0,r.An)("span",W7,a[31]||(a[31]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Update")])))])])])],32)])])])}var x7={name:"Assets.Create",components:{Search:Gr.c},data(){return{user_variable:{user_variable_id:"",variable_id:"",job_no:"",job_date:"",asset_id:"",asset_zone_id:"",note:"",status:!0,asset_variables:[],deleted_data_variables:[]},user_variable_data:{user_variable_data_id:"",variable_id:"",variable:{variable_name:""},date_time:"",value:"",status:!0},deleted_spares:[],assets:[],variables:[],errors:[],asset_zones:[],status:!0}},watch:{"user_variable.asset_id":function(){this.getAssetZones()},"user_variable.asset_zone_id":function(){this.getServices(),this.getVariables()}},beforeRouteEnter(e,a,s){s((a=>{if(a.getAssets(),"CreateProcessRegister.Create"==e.name)a.$store.getters.asset_id&&(a.user_variable.asset_id=a.$store.getters.asset_id),a.$refs.job_date.focus();else{a.status=!1;let s={uri:"getUserVariable",data:{user_variable_id:e.params.user_variable_id}};a.$store.dispatch("post",s).then((function(e){a.user_variable=e.data.data})).catch((function(e){console.log("error",e),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}}))},mounted(){this.user_variable.job_date=j_()().format("yyyy-MM-DD")},methods:{convertDateFormat(e){return j_()(e).format("yyyy-MM-DD")},submitForm(){let e=this;e.status?e.addUserVariable():e.updateUserVariable()},getValue(e){let a=this,s=a.variables?.filter((function(a){return a.variable_id==e}));s.length&&(a.user_variable_data.variable.variable_name=s[0].variable_name)},getAssets(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssets"}).then((s=>{a.hide(),e.assets=s.data.data})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getServices(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssetsServices",data:e.user_variable}).then((s=>{a.hide(),e.services=s.data})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getVariables(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssetRegisterVariables",data:e.user_variable}).then((s=>{a.hide(),e.variables=s.data})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getAssetZones(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssetZones",data:e.user_variable}).then((s=>{a.hide(),e.asset_zones=s.data.data,e.asset_zones.length||e.getVariables()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},addUserVariable(){let e=this,a=e.$loading.show();if(0===e.user_variable.asset_variables.length)return a.hide(),e.errors.asset_variables="At least one entry is required",void e.$store.dispatch("error","At least one entry is required.");e.$store.dispatch("post",{uri:"addUserVariable",data:e.user_variable}).then((s=>{a.hide(),e.$store.dispatch("success",s.data.message),e.$router.push("/process_registers")})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},updateUserVariable(){let e=this;e.user_variable.deleted_user_spares=e.deleted_spares;let a=e.$loading.show();if(0===e.user_variable.asset_variables.length)return a.hide(),e.errors.asset_variables="At least one entry is required",void e.$store.dispatch("error","At least one entry is required.");e.$store.dispatch("post",{uri:"updateUserVariable",data:e.user_variable}).then((s=>{a.hide(),e.$store.dispatch("success",s.data.message),e.$router.push("/process_registers")})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},addRow(){let e=this;e.errors=[],""==e.user_variable_data.variable_id||""==e.user_variable_data.date_time||""==e.user_variable_data.value?(""==e.user_variable_data.variable_id&&(e.errors.spare_id=["Variable field cannot be empty"]),""==e.user_variable_data.date_time&&(e.errors.spare_cost=["Date time cannot be empty"]),""==e.user_variable_data.value&&(e.errors.value=["Value cannot be empty"])):(e.user_variable.asset_variables.push({user_variable_data_id:"",variable_id:e.user_variable_data.variable_id,variable:{variable_name:e.user_variable_data.variable.variable_name},date_time:e.user_variable_data.date_time,value:e.user_variable_data.value}),e.discardNewRow())},discardNewRow(){let e=this;e.user_variable_data.user_variable_data_id="",e.user_variable_data.variable_id="",e.user_variable_data.date_time="",e.user_variable_data.value="",e.user_variable_data.variable.variable_name="",e.user_variable_data.status=!0,e.errors=[]},editUserVariableData(e,a){let s=this;s.user_variable_data.user_variable_data_id=e.user_variable_data_id,s.user_variable_data.variable_id=e.variable_id,s.user_variable_data.variable.variable_name=e.variable.variable_name,s.user_variable_data.date_time=e.date_time,s.user_variable_data.value=e.value,s.user_variable_data.status=!1,s.user_variable_data.key=a,s.user_variable_data.user_asset_variable_id=e.user_asset_variable_id,s.user_variable_data.user_variable_id=e.user_variable_id,s.errors=[]},updateRow(e){let a=this;if(a.errors=[],""==a.user_variable_data.variable_id||""==a.user_variable_data.date_time||""==a.user_variable_data.value)""==a.user_variable_data.variable_id&&(a.errors._id=variable["Variable field cannot be empty"]),""==a.user_variable_data.date_time&&(a.errors.date_time=["Date Time cannot be empty"]),""==a.user_variable_data.value&&(a.errors.value=["Value cannot be empty"]);else{let s=a.user_variable.asset_variables.filter((function(a){return a.key==e.key}));a.user_variable.asset_variables[s.key]=s,a.user_variable.asset_variables.splice(a.user_variable_data.key,1),a.user_variable.asset_variables.push({user_variable_data_id:a.user_variable_data.user_variable_data_id,variable_id:a.user_variable_data.variable_id,variable:{variable_name:a.user_variable_data.variable.variable_name},date_time:a.user_variable_data.date_time,value:a.user_variable_data.value,user_asset_variable_id:a.user_variable_data.user_asset_variable_id,user_variable_id:a.user_variable_data.user_variable_id}),a.discardNewRow()}},deleteUserVariableData(e,a){let s=this;confirm("Are you sure you want to delete")&&(s.deleted_data_variables?.push(e?.user_variable_data_id),s.user_variable.asset_variables.splice(a,1),s.discardNewRow())}}};const P7=(0,Ce.c)(x7,[["render",z7],["__scopeId","data-v-335f6541"]]);var C7=P7;const $7={class:""},S7={class:"d-sm-flex align-items-center justify-content-between mb-2"},U7={class:"breadcrumb fs-sm mb-1"},V7={class:"breadcrumb-item","aria-current":"page"},j7={class:"row"},Y7={class:"col-12"},T7={class:"card card-one"},N7={class:"card-body"},R7={class:"table-responsive table-responsive-sm"},q7={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},E7={class:"",style:{"background-color":"#9b9b9b",color:"white"}},K7={key:0,class:"ri-arrow-up-line"},I7={key:1,class:"ri-arrow-down-line"},F7={key:2,class:"fas fa-sort"},O7={key:0,class:"ri-arrow-up-line"},L7={key:1,class:"ri-arrow-down-line"},B7={key:2,class:"fas fa-sort"},M7={key:0,class:"ri-arrow-up-line"},Z7={key:1,class:"ri-arrow-down-line"},H7={key:2,class:"fas fa-sort"},J7={key:0,class:"ri-arrow-up-line"},G7={key:1,class:"ri-arrow-down-line"},X7={key:2,class:"fas fa-sort"},eee={class:"text-center"},aee={class:"text-center"},see=["onClick"],tee=["onClick"],ree=["onClick"],lee={key:0},iee={class:"card-footer"},oee={class:"d-flex justify-content-between align-items-center"};function nee(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("Pagination"),u=(0,r.iS)("can");return(0,r.Wz)(),(0,r.An)("div",$7,[(0,r.QD)("div",S7,[(0,r.QD)("div",null,[(0,r.QD)("ol",U7,[(0,r.QD)("li",V7,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[7]||(a[7]=[(0,r.mY)("Dashboard")]))),_:1})]),a[8]||(a[8]=(0,r.QD)("li",{class:"breadcrumb-item"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Registers")],-1)),a[9]||(a[9]=(0,r.QD)("li",{class:"breadcrumb-item active","aria-current":"page"},"Process Registers",-1))]),a[10]||(a[10]=(0,r.QD)("h4",{class:"main-title mb-0"},"Process Registers",-1))]),(0,r.K2)(n,{to:"/process_registers/create",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.Ql)((()=>a[11]||(a[11]=[(0,r.QD)("i",{class:"ri-list-check"},null,-1),(0,r.mY)(" Add Process Register")]))),_:1})]),(0,r.QD)("div",j7,[(0,r.QD)("div",Y7,[(0,r.QD)("div",T7,[a[23]||(a[23]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Process Registers")],-1)),(0,r.QD)("div",N7,[(0,r.wt)((0,r.QD)("input",{class:"form-control form-control-sm mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.search=e),onKeypress:a[1]||(a[1]=(0,t.jj)((e=>o.search()),["enter"]))},null,544),[[t.Og,i.meta.search]]),(0,r.QD)("div",R7,[(0,r.QD)("table",q7,[(0,r.QD)("thead",null,[(0,r.QD)("tr",E7,[a[16]||(a[16]=(0,r.QD)("th",{class:"text-center"},"#",-1)),(0,r.QD)("th",{onClick:a[2]||(a[2]=e=>o.sort("asset_id"))},[a[12]||(a[12]=(0,r.mY)(" Asset ")),(0,r.QD)("span",null,["asset_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",K7)):"asset_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",I7)):((0,r.Wz)(),(0,r.An)("i",F7))])]),(0,r.QD)("th",{onClick:a[3]||(a[3]=e=>o.sort("reference_no"))},[a[13]||(a[13]=(0,r.mY)(" Job No. ")),(0,r.QD)("span",null,["reference_no"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",O7)):"reference_no"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",L7)):((0,r.Wz)(),(0,r.An)("i",B7))])]),(0,r.QD)("th",{onClick:a[4]||(a[4]=e=>o.sort("reference_date"))},[a[14]||(a[14]=(0,r.mY)(" Job Date. ")),(0,r.QD)("span",null,["reference_date"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",M7)):"reference_date"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Z7)):((0,r.Wz)(),(0,r.An)("i",H7))])]),(0,r.QD)("th",null,[a[15]||(a[15]=(0,r.mY)(" Asset Zone. ")),(0,r.QD)("span",null,["asset_zone_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",J7)):"asset_zone_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",G7)):((0,r.Wz)(),(0,r.An)("i",X7))])]),a[17]||(a[17]=(0,r.QD)("th",{class:"text-center"},"Actions",-1))])]),(0,r.QD)("tbody",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.user_variables,((e,s)=>((0,r.Wz)(),(0,r.An)("tr",{key:s},[(0,r.QD)("td",eee,(0,d.WA)(i.meta.from+s),1),(0,r.QD)("td",null,(0,d.WA)(e.asset?.asset_code),1),(0,r.QD)("td",null,(0,d.WA)(e.job_no),1),(0,r.QD)("td",null,(0,d.WA)(e.job_date),1),(0,r.QD)("td",null,(0,d.WA)(e?.asset_zone?.zone_name),1),(0,r.QD)("td",aee,[(0,r.wt)(((0,r.Wz)(),(0,r.An)("a",{title:"Edit",href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editUserVariable(e)},a[18]||(a[18]=[(0,r.QD)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,see)),[[u,"userChecks.update"]]),(0,r.QD)("a",{title:"View",href:"javascript:void(0)",onClick:a=>o.viewUserVariable(e),class:"text-primary me-2"},a[19]||(a[19]=[(0,r.QD)("i",{class:"ri-eye-fill fs-18 lh-1"},null,-1)]),8,tee),(0,r.wt)(((0,r.Wz)(),(0,r.An)("a",{title:"View",href:"javascript:void(0)",class:"text-danger me-2",onClick:(0,t.Y7)((a=>o.deleteUserVariable(e)),["prevent"])},a[20]||(a[20]=[(0,r.QD)("i",{class:"ri-delete-bin-6-line fs-18 lh-1"},null,-1)]),8,ree)),[[u,"userChecks.delete"]])])])))),128)),0==i.user_variables.length?((0,r.Wz)(),(0,r.An)("tr",lee,a[21]||(a[21]=[(0,r.QD)("td",{colspan:"6",class:"text-center"},"No records found",-1)]))):(0,r.g1)("",!0)])])])]),(0,r.QD)("div",iee,[(0,r.QD)("div",oee,[(0,r.wt)((0,r.QD)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[5]||(a[5]=e=>i.meta.per_page=e),onChange:a[6]||(a[6]=(...e)=>o.onPerPageChange&&o.onPerPageChange(...e))},a[22]||(a[22]=[(0,r.QD)("option",null,"10",-1),(0,r.QD)("option",null,"15",-1),(0,r.QD)("option",null,"20",-1),(0,r.QD)("option",null,"25",-1),(0,r.QD)("option",null,"30",-1)]),544),[[t.Ip,i.meta.per_page]]),(0,r.QD)("span",null,"Showing "+(0,d.WA)(i.meta.from)+" to "+(0,d.WA)(i.meta.to)+" of "+(0,d.WA)(i.meta.totalRows)+" entries",1),(0,r.K2)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var dee={name:"ProcessRegisters.Index",components:{Pagination:Zt},data(){return{status:!0,meta:{search:"",order_by:"asc",keyword:"user_variable_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,to:1,maxPage:1,trashed:!1},user_variables:[],errors:[],status:!0}},beforeRouteEnter(e,a,s){s((e=>{"UserChecks.Edit"!=a.name&&"UserChecks.View"!=a.name?e.$store.commit("setCurrentPage",e.meta.page):e.meta.page=e.$store.getters.current_page}))},mounted(){this.$store.commit("setAssetId",""),this.index()},methods:{index(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"paginateUserVariables",data:e.meta}).then((s=>{a.hide(),e.user_variables=s.data.data,e.meta.totalRows=s.data.meta.total,e.meta.from=s.data.meta.from,e.meta.lastPage=s.data.meta.last_page,e.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},editUserVariable(e){this.$store.commit("setCurrentPage",this.meta.page),this.$router.push("/process_registers/"+e.user_variable_id+"/edit")},viewUserVariable(e){this.$store.commit("setCurrentPage",this.meta.page),this.$router.push("/process_registers/"+e.user_variable_id+"/view")},deleteUserVariable(e){let a=this;alert("are you sure you want delete it!");let s=a.$loading.show();a.$store.dispatch("post",{uri:"deleteUserVariable",data:e}).then((e=>{s.hide(),a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){s.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},search(){let e=this;e.meta.page=1,e.index()},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},onPerPageChange(){let e=this;e.meta.page=1,e.index()}}};const cee=(0,Ce.c)(dee,[["render",nee]]);var uee=cee;const pee={class:""},mee={class:"d-sm-flex align-items-center justify-content-between mb-2"},_ee={class:"breadcrumb fs-sm mb-1"},hee={class:"breadcrumb-item"},bee={class:"breadcrumb-item active","aria-current":"page"},vee={key:0,class:"breadcrumb-item","aria-current":"page"},yee={key:1,class:"breadcrumb-item active","aria-current":"page"},gee={class:"row g-2"},Dee={class:"col-12"},Qee={class:"card card-one"},fee={class:"card-header d-flex justify-content-between"},kee={key:0,class:"card-title"},wee={key:1,class:"card-title"},Aee={class:"card-body"},Wee={class:"row g-2"},zee={class:"col-md-4"},xee={key:0,class:"invalid-feedback"},Pee={class:"col-md-4"},Cee={key:0},$ee={class:"text-danger"},See={class:"col-md-4"},Uee={key:0,class:"invalid-feedback"},Vee={key:0},jee={class:"form-label"},Yee={key:0,class:"text-danger"},Tee=["placeholder","onUpdate:modelValue"],Nee={key:1,class:"invalid-feedback"},Ree={key:1},qee={class:"form-label"},Eee={key:0,class:"text-danger"},Kee=["placeholder","onUpdate:modelValue"],Iee={key:1,class:"invalid-feedback"},Fee={key:2},Oee={class:"form-label"},Lee={key:0,class:"text-danger"},Bee=["placeholder","onUpdate:modelValue"],Mee={key:0,class:"invalid-feedback"},Zee={key:3},Hee={class:"form-label"},Jee={key:0,class:"text-danger"},Gee=["placeholder","onUpdate:modelValue"],Xee={key:0,class:"invalid-feedback"},eae={key:4},aae={class:"form-label"},sae={key:0,class:"text-danger"},tae=["onUpdate:modelValue"],rae=["value"],lae=["value"],iae=["value"],oae={key:1,class:"invalid-feedback"},nae={key:5},dae={class:"form-label"},cae={key:0,class:"text-danger"},uae=["onUpdate:modelValue"],pae={key:0,class:"invalid-feedback"},mae={key:6},_ae={class:"form-label"},hae={key:0,class:"text-danger"},bae=["onUpdate:modelValue"],vae=["value"],yae=["value"],gae=["value"],Dae={key:1,class:"invalid-feedback"},Qae={class:"col-md-12"},fae={key:0,class:"invalid-feedback"},kae={class:"card-footer text-end"},wae={type:"submit",class:"btn btn-primary"},Aae={key:0},Wae={key:1};function zae(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("search");return(0,r.Wz)(),(0,r.An)("div",pee,[(0,r.QD)("div",mee,[(0,r.QD)("div",null,[(0,r.QD)("ol",_ee,[(0,r.QD)("li",hee,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[7]||(a[7]=[(0,r.mY)("Dashboard")]))),_:1})]),a[9]||(a[9]=(0,r.QD)("li",{class:"breadcrumb-item"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Registers")],-1)),(0,r.QD)("li",bee,[(0,r.K2)(n,{to:"/break_down_lists"},{default:(0,r.Ql)((()=>a[8]||(a[8]=[(0,r.mY)("Break Down Registers")]))),_:1})]),i.status?((0,r.Wz)(),(0,r.An)("li",vee,"New Break Down List")):((0,r.Wz)(),(0,r.An)("li",yee,"Update Break Down List"))]),a[10]||(a[10]=(0,r.QD)("h4",{class:"main-title mb-0"},"Break Down Registers",-1))]),(0,r.K2)(n,{to:"/break_down_registers",type:"submit",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.Ql)((()=>a[11]||(a[11]=[(0,r.QD)("i",{class:"ri-list-check"},null,-1),(0,r.mY)(" BREAK DOWN REGISTERS")]))),_:1})]),(0,r.QD)("div",gee,[(0,r.QD)("div",Dee,[(0,r.QD)("form",{onSubmit:a[6]||(a[6]=(0,t.Y7)((e=>o.submitForm()),["prevent"]))},[(0,r.QD)("div",Qee,[(0,r.QD)("div",fee,[i.status?((0,r.Wz)(),(0,r.An)("h6",kee,"Add Break Down Register")):((0,r.Wz)(),(0,r.An)("h6",wee,"Update Break Down Register"))]),(0,r.QD)("div",Aee,[(0,r.QD)("div",Wee,[(0,r.QD)("div",zee,[a[12]||(a[12]=(0,r.QD)("label",{class:"form-label"},"Asset",-1)),a[13]||(a[13]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.K2)(c,{disabled:!i.status,class:(0,d.WN)({"is-invalid":i.errors.asset_id}),customClass:{"is-invalid":i.errors.asset_id},initialize:i.break_down.asset_id,id:"asset_id",label:"asset_name",label2:"asset_code",placeholder:"Select Asset",data:i.assets,onInput:a[0]||(a[0]=e=>i.break_down.asset_id=e)},null,8,["disabled","class","customClass","initialize","data"]),i.errors.asset_id?((0,r.Wz)(),(0,r.An)("span",xee,(0,d.WA)(i.errors.asset_id[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",Pee,[a[14]||(a[14]=(0,r.QD)("label",{class:"form-label"},"Break Down Types",-1)),a[15]||(a[15]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.K2)(c,{disabled:!i.status,class:(0,d.WN)({"is-invalid":i.errors.break_down_type_id}),customClass:{"is-invalid":i.errors.break_down_type_id},initialize:i.break_down.break_down_type_id,id:"break_down_type_id",label:"break_down_type_name",placeholder:"Select Break Down Type",data:i.break_down_types,onInput:a[1]||(a[1]=e=>i.break_down.break_down_type_id=e),onSelectsearch:a[2]||(a[2]=e=>o.getBreakDownTypeFields(i.break_down.break_down_type_id))},null,8,["disabled","class","customClass","initialize","data"]),i.errors.break_down_type_id?((0,r.Wz)(),(0,r.An)("span",Cee,[(0,r.QD)("small",$ee,(0,d.WA)(i.errors.break_down_type_id[0]),1)])):(0,r.g1)("",!0)]),(0,r.QD)("div",See,[a[16]||(a[16]=(0,r.QD)("label",{class:"form-label"},"Job Date",-1)),a[17]||(a[17]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"date",placeholder:"Break Down List Code",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.job_date}]),"onUpdate:modelValue":a[3]||(a[3]=e=>i.break_down.job_date=e)},null,2),[[t.Og,i.break_down.job_date]]),i.errors.job_date?((0,r.Wz)(),(0,r.An)("span",Uee,(0,d.WA)(i.errors.job_date[0]),1)):(0,r.g1)("",!0)]),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.break_down.break_down_attributes,((e,a)=>((0,r.Wz)(),(0,r.An)("div",{class:"col-md-4",key:a},["Text"==e.field_type?((0,r.Wz)(),(0,r.An)("div",Vee,[(0,r.QD)("label",jee,(0,d.WA)(e.display_name),1),e.is_required?((0,r.Wz)(),(0,r.An)("span",Yee,"*")):(0,r.g1)("",!0),(0,r.wt)((0,r.QD)("input",{type:"text",class:(0,d.WN)(["form-control",{"is-invalid":i.errors[e.display_name]}]),placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.break_down_attribute_value.field_value=a},null,10,Tee),[[t.Og,e.break_down_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.Wz)(),(0,r.An)("span",Nee,(0,d.WA)(i.errors[e.display_name][0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0),"Number"==e.field_type?((0,r.Wz)(),(0,r.An)("div",Ree,[(0,r.QD)("label",qee,(0,d.WA)(e.display_name),1),e.is_required?((0,r.Wz)(),(0,r.An)("span",Eee,"*")):(0,r.g1)("",!0),(0,r.wt)((0,r.QD)("input",{type:"number",class:(0,d.WN)(["form-control",{"is-invalid":i.errors[e.display_name]}]),min:"0",oninput:"validity.valid||(value='');",placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.break_down_attribute_value.field_value=a},null,10,Kee),[[t.Og,e.break_down_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.Wz)(),(0,r.An)("span",Iee,(0,d.WA)(i.errors[e.display_name][0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0),"Date"===e.field_type?((0,r.Wz)(),(0,r.An)("div",Fee,[(0,r.QD)("label",Oee,[(0,r.mY)((0,d.WA)(e.display_name)+" ",1),e.is_required?((0,r.Wz)(),(0,r.An)("span",Lee,"*")):(0,r.g1)("",!0)]),(0,r.wt)((0,r.QD)("input",{type:"date",class:(0,d.WN)(["form-control",{"is-invalid":i.errors[e.display_name]}]),placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.break_down_attribute_value.field_value=a},null,10,Bee),[[t.Og,e.break_down_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.Wz)(),(0,r.An)("span",Mee,(0,d.WA)(i.errors[e.display_name][0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0),"Date&Time"===e.field_type?((0,r.Wz)(),(0,r.An)("div",Zee,[(0,r.QD)("label",Hee,[(0,r.mY)((0,d.WA)(e.display_name)+" ",1),e.is_required?((0,r.Wz)(),(0,r.An)("span",Jee,"*")):(0,r.g1)("",!0)]),(0,r.wt)((0,r.QD)("input",{type:"datetime-local",class:(0,d.WN)(["form-control",{"is-invalid":i.errors[e.display_name]}]),placeholder:"Enter "+e.display_name,"onUpdate:modelValue":a=>e.break_down_attribute_value.field_value=a,step:"1"},null,10,Gee),[[t.Og,e.break_down_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.Wz)(),(0,r.An)("span",Xee,(0,d.WA)(i.errors[e.display_name][0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0),"Dropdown"==e.field_type?((0,r.Wz)(),(0,r.An)("div",eae,[(0,r.QD)("label",aae,(0,d.WA)(e.display_name),1),e.is_required?((0,r.Wz)(),(0,r.An)("span",sae,"*")):(0,r.g1)("",!0),(0,r.wt)((0,r.QD)("select",{class:(0,d.WN)(["form-control",{"is-invalid":i.errors[e.display_name]}]),"onUpdate:modelValue":a=>e.break_down_attribute_value.field_value=a},[e.break_down_attribute_value.field_value?((0,r.Wz)(),(0,r.An)("option",{key:0,value:e.break_down_attribute_value.field_value},(0,d.WA)(e.break_down_attribute_value.field_value),9,rae)):((0,r.Wz)(),(0,r.An)("option",{key:1,value:e.break_down_attribute_value.field_value},"Select "+(0,d.WA)(e.display_name),9,lae)),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(e.field_values.split(","),((e,a)=>((0,r.Wz)(),(0,r.An)("option",{key:a,value:e},(0,d.WA)(e),9,iae)))),128))],10,tae),[[t.Ip,e.break_down_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.Wz)(),(0,r.An)("span",oae,(0,d.WA)(i.errors[e.display_name][0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0),"Color"==e.field_type?((0,r.Wz)(),(0,r.An)("div",nae,[(0,r.QD)("label",dae,[(0,r.mY)((0,d.WA)(e.display_name),1),e.is_required?((0,r.Wz)(),(0,r.An)("span",cae,"*")):(0,r.g1)("",!0)]),(0,r.wt)((0,r.QD)("input",{type:"color",class:"form-control","onUpdate:modelValue":a=>e.break_down_attribute_value.field_value=a,style:{height:"2.2rem"}},null,8,uae),[[t.Og,e.break_down_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.Wz)(),(0,r.An)("span",pae,(0,d.WA)(i.errors[e.display_name][0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0),"List"==e.field_type?((0,r.Wz)(),(0,r.An)("div",mae,[(0,r.QD)("label",_ae,(0,d.WA)(e.display_name),1),e.is_required?((0,r.Wz)(),(0,r.An)("span",hae,"*")):(0,r.g1)("",!0),(0,r.wt)((0,r.QD)("select",{class:(0,d.WN)(["form-control",{"is-invalid":i.errors[e.display_name]}]),"onUpdate:modelValue":a=>e.break_down_attribute_value.field_value=a},[e.break_down_attribute_value.field_value?((0,r.Wz)(),(0,r.An)("option",{key:0,value:e.break_down_attribute_value.field_value},(0,d.WA)(e.break_down_attribute_value.field_value),9,vae)):((0,r.Wz)(),(0,r.An)("option",{key:1,value:e.break_down_attribute_value.field_value},"Select "+(0,d.WA)(e.display_name),9,yae)),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(e.list_parameter?.field_values.split(","),((e,a)=>((0,r.Wz)(),(0,r.An)("option",{key:a,value:e},(0,d.WA)(e),9,gae)))),128))],10,bae),[[t.Ip,e.break_down_attribute_value.field_value]]),i.errors[e.display_name]?((0,r.Wz)(),(0,r.An)("span",Dae,(0,d.WA)(i.errors[e.display_name][0]),1)):(0,r.g1)("",!0)])):(0,r.g1)("",!0)])))),128)),(0,r.QD)("div",Qae,[a[18]||(a[18]=(0,r.QD)("label",{class:"form-label"},"Note",-1)),(0,r.wt)((0,r.QD)("textarea",{type:"text",rows:"2",placeholder:"Note",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.note}]),"onUpdate:modelValue":a[4]||(a[4]=e=>i.break_down.note=e)},null,2),[[t.Og,i.break_down.note]]),i.errors.note?((0,r.Wz)(),(0,r.An)("span",fae,(0,d.WA)(i.errors.note[0]),1)):(0,r.g1)("",!0)])])]),(0,r.QD)("div",kae,[i.status?((0,r.Wz)(),(0,r.An)("button",{key:0,type:"button",class:"btn btn-danger me-2",onClick:a[5]||(a[5]=e=>o.discard())},a[19]||(a[19]=[(0,r.QD)("i",{class:"ri-close-line fs-18 lh-1"},null,-1),(0,r.mY)(" Discard")]))):(0,r.g1)("",!0),(0,r.QD)("button",wae,[i.status?((0,r.Wz)(),(0,r.An)("span",Aae,a[20]||(a[20]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Submit")]))):((0,r.Wz)(),(0,r.An)("span",Wae,a[21]||(a[21]=[(0,r.QD)("i",{class:"ri-save-line fs-18 lh-1"},null,-1),(0,r.mY)(" Update")])))])])])],32)])])])}var xae={components:{Pagination:Zt,Search:Gr.c},data(){return{break_downs:[],break_down:{break_down_list_id:"",break_down_type_id:"",job_date:"",note:"",break_down_attributes:[],asset_types:[],assets:[],deleted_break_down_attribute_values:[]},status:!0,errors:[],deleted_break_down_attribute_values:[],break_down_types:[],asset_types:[],assets:[],show_break_downs:[],asset_type_status:!1}},beforeRouteEnter(e,a,s){s((a=>{if(a.getAssets(),"BreakDownRegister.Create"==e.name);else{a.status=!1;let s={uri:"getBreakDownData",data:{break_down_list_id:e.params.break_down_list_id}};a.$store.dispatch("post",s).then((function(e){a.break_down=e.data.data,a.break_down.break_down_attributes.map((function(e){a.deleted_break_down_attribute_values.push(e.break_down_attribute_value.break_down_attribute_value_id)})),a.break_down.deleted_break_down_attribute_values=[]})).catch((function(e){a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))}}))},methods:{toggleAssetTypeStatus(){this.asset_type_status=!this.asset_type_status},submitForm(){let e=this;e.status?e.addBreakDown():e.updateBreakDown()},validateFields(){let e=!0;this.errors={},this.break_down.asset_id||(this.errors.asset_id=["Asset is required"],e=!1),this.break_down.break_down_type_id||(this.errors.break_down_type_id=["Break Down Type is required"],e=!1),this.break_down.job_date||(this.errors.job_date=["Job Type is required"],e=!1);for(const a of Object.values(this.break_down.break_down_attributes))a.is_required&&!a.break_down_attribute_value.field_value&&(this.errors[a.display_name]=[`${a.display_name} is required`],e=!1);return console.log("errors",this.errors),e},addBreakDown(){if(!this.validateFields())return;let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"addBreakDownList",data:e.break_down}).then((s=>{a.hide(),e.$store.dispatch("success",s.data.message),e.$router.push("/break_down_registers")})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getAssets(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssets"}).then((s=>{a.hide(),e.assets=s.data.data,e.getBreakDownTypes()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},updateBreakDown(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"updateBreakDownList",data:e.break_down}).then((s=>{a.hide(),e.$store.dispatch("success",s.data.message),e.$router.push("/break_down_registers")})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getBreakDownTypes(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getBreakDownTypes"}).then((s=>{a.hide(),e.break_down_types=s.data.data})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getBreakDownTypeFields(e){let a=this,s=a.$loading.show();a.deleted_break_down_attribute_values.length&&(a.break_down.deleted_break_down_attribute_values=a.deleted_break_down_attribute_values),a.$store.dispatch("post",{uri:"getBreakDownsDropdown",data:{break_down_type_id:e}}).then((e=>{s.hide(),a.break_down.break_down_attributes=e.data.data})).catch((function(e){s.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},discard(){let e=this;e.break_down.break_down_type_id="",e.break_down.asset_id="",e.break_down.job_date="",e.break_down.note="",e.show_break_downs=[],e.break_down.break_down_attributes=[],e.errors=[],e.status=!0}}};const Pae=(0,Ce.c)(xae,[["render",zae],["__scopeId","data-v-554dff84"]]);var Cae=Pae;const $ae={class:""},Sae={class:"d-sm-flex align-items-center justify-content-between mb-2"},Uae={class:"breadcrumb fs-sm mb-1"},Vae={class:"breadcrumb-item","aria-current":"page"},jae={class:"row"},Yae={class:"col-12"},Tae={class:"card card-one"},Nae={class:"card-body"},Rae={class:"table-responsive table-responsive-sm"},qae={class:"table table-sm text-nowrap table-striped table-bordered mb-0"},Eae={class:"",style:{"background-color":"#9b9b9b",color:"white"}},Kae={key:0,class:"ri-arrow-up-line"},Iae={key:1,class:"ri-arrow-down-line"},Fae={key:2,class:"fas fa-sort"},Oae={key:0,class:"ri-arrow-up-line"},Lae={key:1,class:"ri-arrow-down-line"},Bae={key:2,class:"fas fa-sort"},Mae={key:0,class:"ri-arrow-up-line"},Zae={key:1,class:"ri-arrow-down-line"},Hae={key:2,class:"fas fa-sort"},Jae={key:0,class:"ri-arrow-up-line"},Gae={key:1,class:"ri-arrow-down-line"},Xae={key:2,class:"fas fa-sort"},ese={key:0},ase={class:"text-center"},sse={class:"text-center"},tse=["onClick"],rse=["onClick"],lse={class:"card-footer"},ise={class:"d-flex justify-content-between align-items-center"};function ose(e,a,s,l,i,o){const n=(0,r.E1)("router-link"),c=(0,r.E1)("Pagination");return(0,r.Wz)(),(0,r.An)("div",$ae,[(0,r.QD)("div",Sae,[(0,r.QD)("div",null,[(0,r.QD)("ol",Uae,[(0,r.QD)("li",Vae,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[8]||(a[8]=[(0,r.mY)("Dashboard")]))),_:1})]),a[9]||(a[9]=(0,r.QD)("li",{class:"breadcrumb-item"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Registers")],-1)),a[10]||(a[10]=(0,r.QD)("li",{class:"breadcrumb-item active","aria-current":"page"},"Break Down Registers",-1))]),a[11]||(a[11]=(0,r.QD)("h4",{class:"main-title mb-0"},"Break Down Registers",-1))]),(0,r.K2)(n,{to:"/break_down_registers/create",class:"btn btn-primary",style:{float:"right"}},{default:(0,r.Ql)((()=>a[12]||(a[12]=[(0,r.QD)("i",{class:"ri-list-check"},null,-1),(0,r.mY)(" ADD BREAK DOWN REGISTER")]))),_:1})]),(0,r.QD)("div",jae,[(0,r.QD)("div",Yae,[(0,r.QD)("div",Tae,[a[23]||(a[23]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Break Down Registers")],-1)),(0,r.QD)("div",Nae,[(0,r.wt)((0,r.QD)("input",{class:"form-control mb-2",type:"text",placeholder:"Type keyword and press enter key","onUpdate:modelValue":a[0]||(a[0]=e=>i.meta.search=e),onKeypress:a[1]||(a[1]=(0,t.jj)((e=>o.search()),["enter"]))},null,544),[[t.Og,i.meta.search]]),(0,r.QD)("div",Rae,[(0,r.QD)("table",qae,[(0,r.QD)("thead",null,[(0,r.QD)("tr",Eae,[a[17]||(a[17]=(0,r.QD)("th",{class:"text-center"},"#",-1)),(0,r.QD)("th",{onClick:a[2]||(a[2]=e=>o.sort("asset_id"))},[a[13]||(a[13]=(0,r.mY)(" Asset ")),(0,r.QD)("span",null,["asset_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Kae)):"asset_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Iae)):((0,r.Wz)(),(0,r.An)("i",Fae))])]),(0,r.QD)("th",{onClick:a[3]||(a[3]=e=>o.sort("break_down_list_id"))},[a[14]||(a[14]=(0,r.mY)(" Break Down Type ")),(0,r.QD)("span",null,["break_down_list_id"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Oae)):"break_down_list_id"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Lae)):((0,r.Wz)(),(0,r.An)("i",Bae))])]),(0,r.QD)("th",{onClick:a[4]||(a[4]=e=>o.sort("job_no"))},[a[15]||(a[15]=(0,r.mY)(" Job No. ")),(0,r.QD)("span",null,["job_no"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Mae)):"job_no"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Zae)):((0,r.Wz)(),(0,r.An)("i",Hae))])]),(0,r.QD)("th",{onClick:a[5]||(a[5]=e=>o.sort("job_date"))},[a[16]||(a[16]=(0,r.mY)(" Job Date ")),(0,r.QD)("span",null,["job_date"==i.meta.keyword&&"asc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Jae)):"job_date"==i.meta.keyword&&"desc"==i.meta.order_by?((0,r.Wz)(),(0,r.An)("i",Gae)):((0,r.Wz)(),(0,r.An)("i",Xae))])]),a[18]||(a[18]=(0,r.QD)("th",{class:"text-center"},"Actions",-1))])]),(0,r.QD)("tbody",null,[0==i.break_down_lists.length?((0,r.Wz)(),(0,r.An)("tr",ese,a[19]||(a[19]=[(0,r.QD)("td",{colspan:"7",class:"text-center"},"No records found",-1)]))):(0,r.g1)("",!0),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.break_down_lists,((e,s)=>((0,r.Wz)(),(0,r.An)("tr",{key:s},[(0,r.QD)("td",ase,(0,d.WA)(i.meta.from+s),1),(0,r.QD)("td",null,(0,d.WA)(e.asset?.asset_name),1),(0,r.QD)("td",null,(0,d.WA)(e.break_down_type?.break_down_type_name),1),(0,r.QD)("td",null,(0,d.WA)(e.job_no),1),(0,r.QD)("td",null,(0,d.WA)(e.job_date),1),(0,r.QD)("td",sse,[e.status?((0,r.Wz)(),(0,r.An)("a",{key:0,href:"javascript:void(0)",class:"text-success me-2",onClick:a=>o.editBreakDownList(e)},a[20]||(a[20]=[(0,r.QD)("i",{class:"ri-pencil-line fs-18 lh-1"},null,-1)]),8,tse)):(0,r.g1)("",!0),(0,r.QD)("a",{href:"javascript:void(0)",class:"text-danger me-2",onClick:(0,t.Y7)((a=>o.deleteBreakDownList(e)),["prevent"])},a[21]||(a[21]=[(0,r.QD)("i",{class:"ri-delete-bin-6-line fs-18 lh-1"},null,-1)]),8,rse)])])))),128))])])])]),(0,r.QD)("div",lse,[(0,r.QD)("div",ise,[(0,r.wt)((0,r.QD)("select",{class:"form-select from-select-sm width-75","onUpdate:modelValue":a[6]||(a[6]=e=>i.meta.per_page=e),onChange:a[7]||(a[7]=(...a)=>e.onPerPageChange&&e.onPerPageChange(...a))},a[22]||(a[22]=[(0,r.QD)("option",null,"10",-1),(0,r.QD)("option",null,"15",-1),(0,r.QD)("option",null,"20",-1),(0,r.QD)("option",null,"25",-1),(0,r.QD)("option",null,"30",-1)]),544),[[t.Ip,i.meta.per_page]]),(0,r.QD)("span",null,"Showing "+(0,d.WA)(i.meta.from)+" to "+(0,d.WA)(i.meta.to)+" of "+(0,d.WA)(i.meta.totalRows)+" entries",1),(0,r.K2)(c,{maxPage:i.meta.maxPage,totalPages:i.meta.lastPage,currentPage:i.meta.page,onPagechanged:o.onPageChange},null,8,["maxPage","totalPages","currentPage","onPagechanged"])])])])])])])}var nse={components:{Pagination:Zt},data(){return{meta:{search:"",order_by:"asc",keyword:"break_down_list_id",per_page:10,totalRows:0,page:1,lastPage:1,from:1,maxPage:1},break_down_list:{break_down_list_id:""},break_down_lists:[],errors:[],update:!1}},beforeRouteEnter(e,a,s){s((e=>{"BreakDownRegisters.Edit"!=a.name?e.$store.commit("setCurrentPage",e.meta.page):e.meta.page=e.$store.getters.current_page}))},mounted(){this.index()},methods:{index(){let e=this,a=this.$loading.show();this.$store.dispatch("post",{uri:"paginateBreakDownLists",data:e.meta}).then((s=>{a.hide(),console.log("breakdown-response",s),this.break_down_lists=s.data.data,this.meta.totalRows=s.data.meta.total,this.meta.from=s.data.meta.from,this.meta.lastPage=s.data.meta.last_page,this.meta.maxPage=e.meta.lastPage>=3?3:e.meta.lastPage})).catch((function(s){a.hide(),console.log("breakdown-error",s),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},editBreakDownList(e){console.log("ddd---",e),this.$store.commit("setCurrentPage",this.meta.page),this.$router.push("/break_down_registers/"+e.break_down_list_id+"/edit")},deleteBreakDownList(e){let a=this;alert("are you sure you want delete it!");let s=a.$loading.show();a.$store.dispatch("post",{uri:"deleteBreakDownList",data:e}).then((e=>{s.hide(),a.$store.dispatch("success",e.data.message),a.index()})).catch((function(e){s.hide(),a.errors=e.response.data.errors,a.$store.dispatch("error",e.response.data.message)}))},onPageChange(e){this.meta.page=e,this.index()},sort(e){this.meta.keyword=e,this.meta.order_by="asc"==this.meta.order_by?"desc":"asc",this.index()},search(){let e=this;e.meta.page=1,e.index()}}};const dse=(0,Ce.c)(nse,[["render",ose]]);var cse=dse;function use(e,a){return(0,r.Wz)(),(0,r.An)("div",null,a[0]||(a[0]=[(0,r.QD)("div",{class:"d-sm-flex align-items-center justify-content-center"},[(0,r.QD)("div",{class:"mt-5"},[(0,r.QD)("h4",{class:"main-title mb-0 mt-10 text-danger"},"In Progress")])],-1)]))}const pse={},mse=(0,Ce.c)(pse,[["render",use]]);var _se=mse;const hse={class:""},bse={class:"d-sm-flex align-items-center justify-content-between mb-2"},vse={class:"breadcrumb fs-sm mb-1"},yse={class:"breadcrumb-item","aria-current":"page"},gse={class:"row"},Dse={class:"col-12"},Qse={class:"card card-one"},fse={class:"card-body"},kse={class:"row mb-3"},wse={class:"col-md-3"},Ase=["value"],Wse={key:0,class:"invalid-feedback"},zse={class:"col-md-3"},xse=["value"],Pse={key:0,class:"invalid-feedback"},Cse={class:"col-md-2"},$se={key:0,class:"invalid-feedback"},Sse={class:"col-md-2"},Use={key:0,class:"invalid-feedback"},Vse={class:"col-md-2 mt-auto"},jse={class:"table-responsive"},Yse={class:"table table-bordered mb-0"},Tse={key:0,class:"text-center"},Nse=["src"],Rse={key:1,class:"text-center"},qse=["src"],Ese={key:0};function Kse(e,a,s,l,i,o){const n=(0,r.E1)("router-link");return(0,r.Wz)(),(0,r.An)("div",hse,[(0,r.QD)("div",bse,[(0,r.QD)("div",null,[(0,r.QD)("ol",vse,[(0,r.QD)("li",yse,[(0,r.K2)(n,{to:"/dashboard"},{default:(0,r.Ql)((()=>a[5]||(a[5]=[(0,r.mY)("Dashboard")]))),_:1})]),a[6]||(a[6]=(0,r.QD)("li",{class:"breadcrumb-item"},[(0,r.QD)("a",{href:"javascript:void(0)"},"Review")],-1)),a[7]||(a[7]=(0,r.QD)("li",{class:"breadcrumb-item active","aria-current":"page"},"Spare Campaign",-1))]),a[8]||(a[8]=(0,r.QD)("h4",{class:"main-title mb-0"},"Spare Campaign",-1))])]),(0,r.QD)("div",gse,[(0,r.QD)("div",Dse,[(0,r.QD)("div",Qse,[a[20]||(a[20]=(0,r.QD)("div",{class:"card-header d-flex justify-content-between"},[(0,r.QD)("h6",{class:"card-title"},"Spare Campaign")],-1)),(0,r.QD)("div",fse,[(0,r.QD)("div",kse,[(0,r.QD)("div",wse,[a[10]||(a[10]=(0,r.QD)("label",{class:"form-label"},"Asset",-1)),a[11]||(a[11]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("select",{class:(0,d.WN)(["form-control",{"is-invalid":i.errors.asset_id}]),"onUpdate:modelValue":a[0]||(a[0]=e=>i.spare.asset_id=e)},[a[9]||(a[9]=(0,r.QD)("option",{value:""},"Select Asset",-1)),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.assets,((e,a)=>((0,r.Wz)(),(0,r.An)("option",{key:a,value:e.asset_id},(0,d.WA)(e.asset_name),9,Ase)))),128))],2),[[t.Ip,i.spare.asset_id]]),i.errors.asset_id?((0,r.Wz)(),(0,r.An)("span",Wse,(0,d.WA)(i.errors.asset_id[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",zse,[a[13]||(a[13]=(0,r.QD)("label",{class:"form-label"},"Analysis",-1)),a[14]||(a[14]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("select",{class:(0,d.WN)(["form-control",{"is-invalid":i.errors.location}]),"onUpdate:modelValue":a[1]||(a[1]=e=>i.spare.location=e)},[a[12]||(a[12]=(0,r.QD)("option",{value:""},"Select Analysis",-1)),((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(i.locations,((e,a)=>((0,r.Wz)(),(0,r.An)("option",{key:a,value:e.location},(0,d.WA)(e.location),9,xse)))),128))],2),[[t.Ip,i.spare.location]]),i.errors.location?((0,r.Wz)(),(0,r.An)("span",Pse,(0,d.WA)(i.errors.location[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",Cse,[a[15]||(a[15]=(0,r.QD)("label",{class:"form-label"},"From Date",-1)),a[16]||(a[16]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"date",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.from_date}]),"onUpdate:modelValue":a[2]||(a[2]=e=>i.spare.from_date=e)},null,2),[[t.Og,i.spare.from_date]]),i.errors.from_date?((0,r.Wz)(),(0,r.An)("span",$se,(0,d.WA)(i.errors.from_date[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",Sse,[a[17]||(a[17]=(0,r.QD)("label",{class:"form-label"},"To Date",-1)),a[18]||(a[18]=(0,r.QD)("span",{class:"text-danger"}," *",-1)),(0,r.wt)((0,r.QD)("input",{type:"date",class:(0,d.WN)(["form-control",{"is-invalid":i.errors.to_date}]),"onUpdate:modelValue":a[3]||(a[3]=e=>i.spare.to_date=e)},null,2),[[t.Og,i.spare.to_date]]),i.errors.to_date?((0,r.Wz)(),(0,r.An)("span",Use,(0,d.WA)(i.errors.to_date[0]),1)):(0,r.g1)("",!0)]),(0,r.QD)("div",Vse,[(0,r.QD)("button",{class:"btn btn-primary",onClick:a[4]||(a[4]=(...e)=>o.search&&o.search(...e))},"Search")])]),(0,r.QD)("div",jse,[(0,r.QD)("table",Yse,[(0,r.QD)("tbody",null,[((0,r.Wz)(!0),(0,r.An)(r.ae,null,(0,r.mi)(o.groupedResults,((e,a)=>((0,r.Wz)(),(0,r.An)("tr",{key:a},[e[0]?((0,r.Wz)(),(0,r.An)("td",Tse,[(0,r.QD)("h6",null,(0,d.WA)(o.dateFormat(e[0]?.date)||""),1),(0,r.QD)("img",{src:e[0]?.file,height:"180"},null,8,Nse)])):(0,r.g1)("",!0),e[1]?((0,r.Wz)(),(0,r.An)("td",Rse,[(0,r.QD)("h6",null,(0,d.WA)(o.dateFormat(e[1]?.date)||""),1),(0,r.QD)("img",{src:e[1]?.file,height:"180"},null,8,qse)])):(0,r.g1)("",!0)])))),128)),0==o.groupedResults.length?((0,r.Wz)(),(0,r.An)("tr",Ese,a[19]||(a[19]=[(0,r.QD)("td",{colspan:"3",class:"text-center text-danger"},"No records found",-1)]))):(0,r.g1)("",!0)])])])])])])])])}var Ise={components:{},data(){return{spare:{asset_id:"",location:"",from_date:"",to_date:""},assets:[],locations:[],campaign_results:[],wall:!1,bottom:!1,errors:[]}},mounted(){this.getAssets(),this.spare.to_date=j_()().format("yyyy-MM-DD")},computed:{groupedResults(){const e=this.campaign_results,a=[];for(let s=0;s<e.length;s+=2)a.push(e.slice(s,s+2));return a}},methods:{getAssets(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getAssets"}).then((s=>{a.hide(),e.assets=s.data.data,e.getAnalysis()})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},getAnalysis(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"getLocations"}).then((s=>{a.hide(),e.locations=s.data})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},search(){let e=this,a=e.$loading.show();e.$store.dispatch("post",{uri:"campaignResultImages",data:e.spare}).then((s=>{a.hide(),e.campaign_results=s.data.data,e.errors=[]})).catch((function(s){a.hide(),e.errors=s.response.data.errors,e.$store.dispatch("error",s.response.data.message)}))},dateFormat(e){return j_()(e).format("DD-MM-yyyy")}}};const Fse=(0,Ce.c)(Ise,[["render",Kse]]);var Ose=Fse;const Lse=[{path:"/",name:"login",component:_a},{path:"/signup",name:"Signup",component:Qa},{path:"/profile",name:"Profile",component:xs},{path:"/dashboard",name:"Dashboard",component:Ba},{path:"/forgot_password",name:"ForgotPassword",component:qs},{path:"/reset_password",name:"ResetPassword",component:st},{path:"/permissions",name:"Permissions",component:mq},{path:"/lists",name:"Lists",component:Gt},{path:"/equipment_types",name:"EquipmentType",component:SO},{path:"/asset_types",name:"AssetType",component:wL},{path:"/service_types",name:"ServiceType",component:bB},{path:"/spare_types",name:"SpareType",component:dM},{path:"/activity_types",name:"ActivityTypes",component:aZ},{path:"/data_source_type",name:"DataSourceTypes",component:OZ},{path:"/break_down_type",name:"BreakDownTypes",component:jH},{path:"/accessory_type",name:"AccessoryTypes",component:AJ},{path:"/variable_type",name:"VariableTypes",component:hG},{path:"/section",name:"Section",component:vf},{path:"/areas",name:"Area",component:_D},{path:"/plants",name:"Plant",component:wQ},{path:"/frequency",name:"Frequency",component:ok},{path:"/department",name:"Department",component:Jk},{path:"/functional",name:"Functional",component:Ew},{path:"/equipment",name:"Equipment",component:al},{path:"/assets",name:"Assets",component:Io},{path:"/asset/create",name:"Assets.Create",component:Li},{path:"/asset/:asset_id/edit",name:"Assets.Edit",component:Li},{path:"/asset/:asset_id/view",name:"Assets.View",component:em},{path:"/QR_code/:asset_id/get",name:"GenerateQR",component:ym},{path:"/activities",name:"Activities.Index",component:Xm},{path:"/activity/create",name:"Activity.Create",component:N_},{path:"/activity/:user_activity_id/edit",name:"Activity.Edit",component:N_},{path:"/health_checks",name:"HealthChecks.Index",component:Fh},{path:"/health_check/create",name:"HealthChecks.Create",component:vh},{path:"/health_check/:health_check_id/edit",name:"HealthChecks.Edit",component:vh},{path:"/user_services",name:"UserServices.Index",component:Ab},{path:"/user_service/create",name:"UserServices.Create",component:vv},{path:"/user_service/:user_service_id/edit",name:"UserServices.Edit",component:vv},{path:"/user_checks",name:"UserChecks.Index",component:Gv},{path:"/user_check/create",name:"UserChecks.Create",component:My},{path:"/user_check/:user_check_id/edit",name:"UserChecks.Edit",component:My},{path:"/user_check/:user_check_id/view",name:"UserChecks.View",component:wg},{path:"/break_down_registers",name:"BreakDownRegisters.Index",component:cse},{path:"/break_down_registers/create",name:"BreakDownRegister.Create",component:Cae},{path:"/break_down_registers/:break_down_list_id/edit",name:"BreakDownRegister.Edit",component:Cae},{path:"/checks",name:"checks.Index",component:IW},{path:"/checks/create",name:"Checks.Create",component:qA},{path:"/checks/:check_id/edit",name:"Checks.Edit",component:qA},{path:"/components",name:"Componet.Index",component:RK},{path:"/components/create",name:"Componet.Create",component:jI},{path:"/components/service",name:"Componet.Service",component:tF},{path:"/components/inhouse_service",name:"Componet.Service2",component:qF},{path:"/components/maintenance",name:"Componet.Maintenance",component:WG},{path:"/assets/activity",name:"Asset.Activity",component:GI},{path:"/role",name:"Role",component:DN},{path:"/users",name:"Users.Index",component:FR},{path:"/user/create",name:"Users.Create",component:tR},{path:"/users/:user_id/edit",name:"Users.Edit",component:tR},{path:"/asset_attributes",name:"AssetAttributes.Index",component:i0},{path:"/asset_attributes/create",name:"AssetAttributes.Create",component:vX},{path:"/asset_attributes/:asset_attribute_id/edit",name:"AssetAttributes.Edit",component:vX},{path:"/spare_attributes",name:"SpareAttributes.Index",component:q1},{path:"/spare_attributes/create",name:"SpareAttributes.Create",component:J0},{path:"/spare_attributes/:spare_attribute_id/edit",name:"SpareAttributes.Edit",component:J0},{path:"/data_source_attributes",name:"DataSourceAttributes.Index",component:D3},{path:"/data_source_attributes/create",name:"DataSourceAttributes.Create",component:$2},{path:"/data_source_attributes/:data_source_attribute_id/edit",name:"DataSourceAttributes.Edit",component:$2},{path:"/variable_attributes",name:"VariableAttributes.Index",component:e5},{path:"/variable_attributes/create",name:"VariableAttributes.Create",component:u4},{path:"/variable_attributes/:variable_attribute_id/edit",name:"VariableAttributes.Edit",component:u4},{path:"/service_attributes",name:"ServiceAttributes.Index",component:V8},{path:"/service_attributes/create",name:"ServiceAttributes.Create",component:O5},{path:"/service_attributes/:service_attribute_id/edit",name:"ServiceAttributes.Edit",component:O5},{path:"/break_down_attributes",name:"BreakDownAttributes.Index",component:_9},{path:"/break_down_attributes/create",name:"BreakDownAttributes.Create",component:A6},{path:"/break_down_attributes/:break_down_attribute_id/edit",name:"BreakDownAttributes.Edit",component:A6},{path:"/deviations",name:"Deviations.Index",component:sE},{path:"/pendings",name:"Pendings.Index",component:KE},{path:"/UpcomingJobs",name:"UpcomingJobs.Index",component:AK},{path:"/spares",name:"Spares.Index",component:l$},{path:"/spares/create",name:"Spares.Create",component:fC},{path:"/spares/:spare_id/edit",name:"Spares.Edit",component:fC},{path:"/services",name:"Services.Index",component:Jx},{path:"/services/create",name:"Services.Create",component:_x},{path:"/services/:service_id/edit",name:"Services.Edit",component:_x},{path:"/variables",name:"Variables.Index",component:mU},{path:"/variables/create",name:"Variables.Create",component:CS},{path:"/variables/:variable_id/edit",name:"Varaibles.Edit",component:CS},{path:"/data_sources",name:"DataSources.Index",component:Qj},{path:"/data_sources/create",name:"DataSources.Create",component:NV},{path:"/data_sources/:data_source_id/edit",name:"DataSources.Edit",component:NV},{path:"/break_down_lists",name:"BreakDownLists.Index",component:PT},{path:"/break_down_lists/create",name:"BreakDownLists.Create",component:LY},{path:"/break_down_lists/:break_down_list_id/edit",name:"BreakDownLists.Edit",component:LY},{path:"/asset_attributes",name:"AssetAttributes",component:_se},{path:"/spre_attributes",name:"SpareAttributes",component:_se},{path:"/service_attributes",name:"ServiceAttributes",component:_se},{path:"/break_down_attributes",name:"BreakDownAttributes",component:_se},{path:"/break_down_lists",name:"BreakDownLists",component:_se},{path:"/process_registers",name:"ProcessRegisters.Index",component:uee},{path:"/process_registers/create",name:"CreateProcessRegister.Create",component:C7},{path:"/process_registers/:user_variable_id/edit",name:"CreateProcessRegister.Edit",component:C7},{path:"/process_registers/:user_variable_id/view",name:"ViewProcessRegister",component:E9},{path:"/spare_registers",name:"SpareRegisters",component:_se},{path:"/qc_registers",name:"QCRegisters",component:_se},{path:"/asset_details",name:"AssetDetails",component:_se},{path:"/spare_campaigns",name:"SpareCompaingn",component:Ose},{path:"/compliance",name:"Compliance",component:_se},{path:"/deviations_review",name:"Deviations",component:_se},{path:"/alerts",name:"Alerts",component:_se},{path:"/asset_life",name:"AssetLife",component:_se},{path:"/upcoming_repairs",name:"UpcomingRepairs",component:_se}],Bse=(0,ea.gv)({history:(0,ea.Ow)(),routes:Lse,scrollBehavior(e,a,s){return{top:0}}});var Mse=Bse,Zse=s(7192),Hse=s(9012),Jse=(0,Zse.eC)({state:{apiUrl:"https://digitrack-rms.akxatech.com/api/",user:null,token:"",permissions:[],current_page:"",page:"",asset_id:""},getters:{user(e){return e.user},token(e){return e.token},permissions(e){return e.permissions},page(e){return e.page},current_page(e){return e.current_page},asset_id(e){return e.asset_id}},mutations:{setUser(e,a){e.user=a},setToken(e,a){e.token=a},setPermissions(e,a){e.permissions=a},setPage(e,a){e.page=a},setCurrentPage(e,a){e.current_page=a},setAssetId(e,a){e.asset_id=a}},actions:{async setUser(e,a){await e.commit("setUser",a)},async setToken(e,a){await e.commit("setToken",a)},async setPermissions(e,a){await e.commit("setPermissions",a)},async setPage(e,a){await e.commit("setPage",a)},async setCurrentPage(e,a){await e.commit("setCurrentPage",a)},async setAssetId(e,a){await e.commit("SetAssetID",a)},async logout(e){await e.commit("setUser",null),await e.commit("setToken",""),await e.commit("setPermissions",null)},auth(e,a){return new Promise(((e,s)=>{Jp.c.post(this.state.apiUrl+a.uri,a.data).then((function(a){e(a)})).catch((function(e){s(e)}))}))},get(e,a){return new Promise(((e,s)=>{Jp.c.get(this.state.apiUrl+a.uri).then((function(a){e(a)})).catch((function(e){s(e)}))}))},post(e,a){return new Promise(((s,t)=>{Jp.c.post(this.state.apiUrl+a.uri,a.data,{headers:{Authorization:"Bearer "+e.getters.token}}).then((function(e){s(e)})).catch((function(a){t(a),"Unauthenticated."==a?.response?.data?.message&&(e.dispatch("logout"),window.location.href="/#/",window.location.reload())}))}))},async error(e,a){await(0,Hse.WC)({title:"Error",description:a||"The given data was invalid."},{showIcon:!0,hideProgressBar:!0,type:"danger",position:"top-right"})},async success(e,a){await(0,Hse.WC)({title:"Success",description:a||"Data is successfuly subbmited."},{showIcon:!0,hideProgressBar:!0,type:"success",position:"top-right"})},async info(e,a){await(0,Hse.WC)({title:"Info",description:a||"Not enoguh input data"},{showIcon:!0,hideProgressBar:!0,type:"info",position:"top-right"})},async warning(e,a){await(0,Hse.WC)({title:"Warning",description:a||"Not enoguh input data"},{showIcon:!0,hideProgressBar:!0,type:"warning",position:"top-right"})}},modules:{}}),Gse=s(4944),Xse=s(1604),ete=s(8470);const ate=(0,t.W0)(Xe);ate.use(Jse),ate.use(Mse),ate.use(ete.c),ate.use(Xse.cp),ate.use(Gse.LoadingPlugin),ate.directive("can",{mounted:function(e,a){let s=Jse.getters.permissions,t=Jse.getters.user;if(s&&0!=s.length){let r=s.filter((e=>{if(t)return e.ability?.ability==a.value}));r[0]||e.parentNode.removeChild(e)}else e.parentNode.removeChild(e)}}),ate.mount("#app")},1540:function(e,a,s){"use strict";s.d(a,{c:function(){return v}});var t=s(4108),r=s(8568),l=s(5668);const i={class:"search-inner"},o=["tabindex","value","disabled"],n={key:0,class:"search-dropdown"},d={key:0,class:"table table-responsive-sm table-bordered table-striped table-sm search-list"},c=["onMousedown","onMouseover"],u={key:0},p={key:1};function m(e,a,s,m,_,h){return(0,t.Wz)(),(0,t.An)("div",{class:(0,r.WN)([_.isOpen?"search search-open":"search"])},[(0,t.QD)("div",i,[(0,t.QD)("input",{class:(0,r.WN)(["form-control search-selected",s.customClass]),ref:"toggle",tabindex:s.tabindex,value:h.selectedText,disabled:s.disabled,onClick:a[0]||(a[0]=(...e)=>h.onToggle&&h.onToggle(...e)),onKeydown:a[1]||(a[1]=(...e)=>h.onKey&&h.onKey(...e)),style:(0,r.MN)(s.style)},null,46,o),(0,t.K2)(l.Ox,{name:"fade",mode:"out-in"},{default:(0,t.Ql)((()=>[_.isOpen?((0,t.Wz)(),(0,t.An)("div",n,[(0,t.QD)("div",{class:"search-input_wrap",style:(0,r.MN)(s.style)},[(0,t.QD)("input",{type:"text",class:"form-control search-input",autocomplete:"off",placeholder:"Search...",ref:"search",onBlur:a[2]||(a[2]=(...e)=>h.onBlur&&h.onBlur(...e)),onInput:a[3]||(a[3]=(...e)=>h.onSearch&&h.onSearch(...e)),onKeydown:[a[4]||(a[4]=(0,l.jj)(((...e)=>h.onEsc&&h.onEsc(...e)),["esc"])),a[5]||(a[5]=(0,l.jj)(((...e)=>h.onUpKey&&h.onUpKey(...e)),["up"])),a[6]||(a[6]=(0,l.jj)(((...e)=>h.onDownKey&&h.onDownKey(...e)),["down"])),a[7]||(a[7]=(0,l.jj)(((...e)=>h.onEnterKey&&h.onEnterKey(...e)),["enter"]))]},null,544)],4),_.results?.length?((0,t.Wz)(),(0,t.An)("table",d,[(0,t.QD)("tbody",null,[((0,t.Wz)(!0),(0,t.An)(t.ae,null,(0,t.mi)(_.results,((e,a)=>((0,t.Wz)(),(0,t.An)("tr",{class:(0,r.WN)(["search-item",["search-link",_.selectIndex===a?"search-active":""]]),onMousedown:(0,l.Y7)((a=>h.select(e)),["prevent"]),onMouseover:(0,l.Y7)((e=>h.onMouse(a)),["prevent"]),key:a},[e[s.label2]?((0,t.Wz)(),(0,t.An)("td",u,(0,r.WA)(e[s.label]+" :: "+e[s.label2]),1)):((0,t.Wz)(),(0,t.An)("td",p,(0,r.WA)(e[s.label]),1))],42,c)))),128))])])):(0,t.g1)("",!0)])):(0,t.g1)("",!0)])),_:1})])],2)}var _={props:{customClass:{default:""},initialize:{default:null},id:{default:null},label:{default:null},label2:{default:null},placeholder:{default:"Select One"},data:{default:null},tabindex:{default:0},disabled:{default:!1},style:{default:null}},data(){return{selectIndex:-1,isOpen:!1,search:"",results:[],query:{search:""},temp:[]}},computed:{selectedText(){let e=this;if(e.initialize){let a=e.data?.filter((function(a){return a[e.id]==e.initialize}));return a&&0!=a.length?a[0][e.label2]?a[0][e.label]+" :: "+a[0][e.label2]:a[0][e.label]:e.placeholder}return e.placeholder}},methods:{focus:function(){this.$refs.toggle.focus()},onToggle(){this.isOpen?this.isOpen=!1:this.open()},onKey(e){const a=e.KeyCode||e.which;e.shiftKey||9===a||this.isOpen||this.open()},open(){this.fetchData(""),this.isOpen=!0,this.$nextTick((()=>{this.$refs.search.focus()}))},fetchData(e){let a=this;a.results=""==e?a.data:a.data.filter((function(s){return s[a.label2]?s[a.label].toLowerCase().includes(e)||s[a.label2].toLowerCase().includes(e):s[a.label].toLowerCase().includes(e)}))},onBlur(){this.close()},onEsc(){this.close()},close(){this.results=[],this.isOpen=!1,this.search="",this.selectIndex=-1},onSearch(e){const a=e.target.value;this.selectIndex=0,this.fetchData(a)},onUpKey(){this.selectIndex>0&&this.selectIndex--},onDownKey(){this.results.length-1>this.selectIndex&&this.selectIndex++},onEnterKey(){const e=this.results[this.selectIndex];e&&this.select(e)},select(e){this.$emit("input",e[this.id]),this.$emit("selected",e[this.id]),this.$emit("input1",e[this.label]),this.$emit("selectsearch"),this.close()},onMouse(e){this.selectIndex=e}}},h=s(4100);const b=(0,h.c)(_,[["render",m]]);var v=b}},a={};function s(t){var r=a[t];if(void 0!==r)return r.exports;var l=a[t]={id:t,loaded:!1,exports:{}};return e[t].call(l.exports,l,l.exports,s),l.loaded=!0,l.exports}s.m=e,function(){var e=[];s.O=function(a,t,r,l){if(!t){var i=1/0;for(c=0;c<e.length;c++){t=e[c][0],r=e[c][1],l=e[c][2];for(var o=!0,n=0;n<t.length;n++)(!1&l||i>=l)&&Object.keys(s.O).every((function(e){return s.O[e](t[n])}))?t.splice(n--,1):(o=!1,l<i&&(i=l));if(o){e.splice(c--,1);var d=r();void 0!==d&&(a=d)}}return a}l=l||0;for(var c=e.length;c>0&&e[c-1][2]>l;c--)e[c]=e[c-1];e[c]=[t,r,l]}}(),function(){s.n=function(e){var a=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(a,{a:a}),a}}(),function(){s.d=function(e,a){for(var t in a)s.o(a,t)&&!s.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:a[t]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){s.o=function(e,a){return Object.prototype.hasOwnProperty.call(e,a)}}(),function(){s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){s.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){s.p="/"}(),function(){var e={524:0};s.O.j=function(a){return 0===e[a]};var a=function(a,t){var r,l,i=t[0],o=t[1],n=t[2],d=0;if(i.some((function(a){return 0!==e[a]}))){for(r in o)s.o(o,r)&&(s.m[r]=o[r]);if(n)var c=n(s)}for(a&&a(t);d<i.length;d++)l=i[d],s.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return s.O(c)},t=self["webpackChunkmotar_management_vue_js_app"]=self["webpackChunkmotar_management_vue_js_app"]||[];t.forEach(a.bind(null,0)),t.push=a.bind(null,t.push.bind(t))}();var t=s.O(void 0,[999],(function(){return s(412)}));t=s.O(t)})();
//# sourceMappingURL=app.c651f6ad.js.map